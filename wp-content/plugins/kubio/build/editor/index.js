this.kubio=this.kubio||{},this.kubio.editor=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=640)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){!function(){e.exports=this.kubio.core}()},function(e,t){!function(){e.exports=this.wp.primitives}()},function(e,t){!function(){e.exports=this.kubio.controls}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t,n){"use strict";function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},o.apply(this,arguments)}n.d(t,"a",(function(){return o}))},function(e,t){!function(){e.exports=this.kubio.styleManager}()},function(e,t){!function(){e.exports=this.React}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t,n){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)){if(o.length){var l=r.apply(null,o);l&&e.push(l)}}else if("object"===i){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},,function(e,t,n){var o=n(187);e.exports=function(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.kubio.icons}()},function(e,t,n){e.exports=n(183)()},function(e,t){!function(){e.exports=this.kubio.utils}()},,function(e,t){!function(){e.exports=this.kubio.inspectors}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){!function(){e.exports=this.wp.hooks}()},function(e,t){!function(){e.exports=this.kubio.constants}()},,function(e,t){!function(){e.exports=this.kubio.globalData}()},function(e,t){!function(){e.exports=this.wp.keycodes}()},,function(e,t){!function(){e.exports=this.kubio.pro}()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(86);function r(e,t,n){return(t=Object(o.a)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){var n="undefined"!=typeof Element,o="function"==typeof Map,r="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function l(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var a,c,s,u;if(Array.isArray(e)){if((a=e.length)!=t.length)return!1;for(c=a;0!=c--;)if(!l(e[c],t[c]))return!1;return!0}if(o&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!t.has(c.value[0]))return!1;for(u=e.entries();!(c=u.next()).done;)if(!l(c.value[1],t.get(c.value[0])))return!1;return!0}if(r&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(u=e.entries();!(c=u.next()).done;)if(!t.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((a=e.length)!=t.length)return!1;for(c=a;0!=c--;)if(e[c]!==t[c])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((a=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(c=a;0!=c--;)if(!Object.prototype.hasOwnProperty.call(t,s[c]))return!1;if(n&&e instanceof Element)return!1;for(c=a;0!=c--;)if(("_owner"!==s[c]&&"__v"!==s[c]&&"__o"!==s[c]||!e.$$typeof)&&!l(e[s[c]],t[s[c]]))return!1;return!0}return e!=e&&t!=t}e.exports=function(e,t){try{return l(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},function(e,t){!function(){e.exports=this.kubio.editorData}()},,function(e,t){!function(){e.exports=this.wp.url}()},,function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(187);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){!function(){e.exports=this.wp.coreData}()},function(e,t,n){"use strict";function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return o}))},,,function(e,t,n){"use strict";e.exports=n(77)},function(e,t,n){var o=n(138).default,r=n(22);e.exports=function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(299);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=/^\s+/,n=/\s+$/;function o(r,i){if(i=i||{},(r=r||"")instanceof o)return r;if(!(this instanceof o))return new o(r,i);var l=function(o){var r={r:0,g:0,b:0},i=1,l=null,a=null,c=null,s=!1,u=!1;return"string"==typeof o&&(o=function(e){e=e.replace(t,"").replace(n,"").toLowerCase();var o,r=!1;if(_[e])e=_[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(o=M.rgb.exec(e))?{r:o[1],g:o[2],b:o[3]}:(o=M.rgba.exec(e))?{r:o[1],g:o[2],b:o[3],a:o[4]}:(o=M.hsl.exec(e))?{h:o[1],s:o[2],l:o[3]}:(o=M.hsla.exec(e))?{h:o[1],s:o[2],l:o[3],a:o[4]}:(o=M.hsv.exec(e))?{h:o[1],s:o[2],v:o[3]}:(o=M.hsva.exec(e))?{h:o[1],s:o[2],v:o[3],a:o[4]}:(o=M.hex8.exec(e))?{r:k(o[1]),g:k(o[2]),b:k(o[3]),a:T(o[4]),format:r?"name":"hex8"}:(o=M.hex6.exec(e))?{r:k(o[1]),g:k(o[2]),b:k(o[3]),format:r?"name":"hex"}:(o=M.hex4.exec(e))?{r:k(o[1]+""+o[1]),g:k(o[2]+""+o[2]),b:k(o[3]+""+o[3]),a:T(o[4]+""+o[4]),format:r?"name":"hex8"}:!!(o=M.hex3.exec(e))&&{r:k(o[1]+""+o[1]),g:k(o[2]+""+o[2]),b:k(o[3]+""+o[3]),format:r?"name":"hex"}}(o)),"object"==e(o)&&(A(o.r)&&A(o.g)&&A(o.b)?(d=o.r,p=o.g,b=o.b,r={r:255*E(d,255),g:255*E(p,255),b:255*E(b,255)},s=!0,u="%"===String(o.r).substr(-1)?"prgb":"rgb"):A(o.h)&&A(o.s)&&A(o.v)?(l=C(o.s),a=C(o.v),r=function(e,t,n){e=6*E(e,360),t=E(t,100),n=E(n,100);var o=Math.floor(e),r=e-o,i=n*(1-t),l=n*(1-r*t),a=n*(1-(1-r)*t),c=o%6;return{r:255*[n,l,i,i,a,n][c],g:255*[a,n,n,l,i,i][c],b:255*[i,i,a,n,n,l][c]}}(o.h,l,a),s=!0,u="hsv"):A(o.h)&&A(o.s)&&A(o.l)&&(l=C(o.s),c=C(o.l),r=function(e,t,n){var o,r,i;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=E(e,360),t=E(t,100),n=E(n,100),0===t)o=r=i=n;else{var a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=l(c,a,e+1/3),r=l(c,a,e),i=l(c,a,e-1/3)}return{r:255*o,g:255*r,b:255*i}}(o.h,l,c),s=!0,u="hsl"),o.hasOwnProperty("a")&&(i=o.a)),i=j(i),{ok:s,format:o.format||u,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:i};var d,p,b}(r);this._originalInput=r,this._r=l.r,this._g=l.g,this._b=l.b,this._a=l.a,this._roundA=Math.round(100*this._a)/100,this._format=i.format||l.format,this._gradientType=i.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=l.ok}function r(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var o,r,i=Math.max(e,t,n),l=Math.min(e,t,n),a=(i+l)/2;if(i==l)o=r=0;else{var c=i-l;switch(r=a>.5?c/(2-i-l):c/(i+l),i){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:r,l:a}}function i(e,t,n){e=E(e,255),t=E(t,255),n=E(n,255);var o,r,i=Math.max(e,t,n),l=Math.min(e,t,n),a=i,c=i-l;if(r=0===i?0:c/i,i==l)o=0;else{switch(i){case e:o=(t-n)/c+(t<n?6:0);break;case t:o=(n-e)/c+2;break;case n:o=(e-t)/c+4}o/=6}return{h:o,s:r,v:a}}function l(e,t,n,o){var r=[w(Math.round(e).toString(16)),w(Math.round(t).toString(16)),w(Math.round(n).toString(16))];return o&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function a(e,t,n,o){return[w(x(o)),w(Math.round(e).toString(16)),w(Math.round(t).toString(16)),w(Math.round(n).toString(16))].join("")}function c(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s-=t/100,n.s=S(n.s),o(n)}function s(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.s+=t/100,n.s=S(n.s),o(n)}function u(e){return o(e).desaturate(100)}function d(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l+=t/100,n.l=S(n.l),o(n)}function p(e,t){t=0===t?0:t||10;var n=o(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),o(n)}function b(e,t){t=0===t?0:t||10;var n=o(e).toHsl();return n.l-=t/100,n.l=S(n.l),o(n)}function m(e,t){var n=o(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,o(n)}function h(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function f(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=o(e).toHsl(),r=[o(e)],i=360/t,l=1;l<t;l++)r.push(o({h:(n.h+l*i)%360,s:n.s,l:n.l}));return r}function g(e){var t=o(e).toHsl(),n=t.h;return[o(e),o({h:(n+72)%360,s:t.s,l:t.l}),o({h:(n+216)%360,s:t.s,l:t.l})]}function O(e,t,n){t=t||6,n=n||30;var r=o(e).toHsl(),i=360/n,l=[o(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,l.push(o(r));return l}function v(e,t){t=t||6;for(var n=o(e).toHsv(),r=n.h,i=n.s,l=n.v,a=[],c=1/t;t--;)a.push(o({h:r,s:i,v:l})),l=(l+c)%1;return a}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,o=this.toRgb();return e=o.r/255,t=o.g/255,n=o.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=j(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=i(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+o+"%)":"hsva("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=r(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),o=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return l(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,o,r){var i=[w(Math.round(e).toString(16)),w(Math.round(t).toString(16)),w(Math.round(n).toString(16)),w(x(o))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*E(this._r,255))+"%",g:Math.round(100*E(this._g,255))+"%",b:Math.round(100*E(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*E(this._r,255))+"%, "+Math.round(100*E(this._g,255))+"%, "+Math.round(100*E(this._b,255))+"%)":"rgba("+Math.round(100*E(this._r,255))+"%, "+Math.round(100*E(this._g,255))+"%, "+Math.round(100*E(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(y[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+a(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=o(e);n="#"+a(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,o=this._a<1&&this._a>=0;return t||!o||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return o(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(c,arguments)},saturate:function(){return this._applyModification(s,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(m,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(h,arguments)},monochromatic:function(){return this._applyCombination(v,arguments)},splitcomplement:function(){return this._applyCombination(g,arguments)},triad:function(){return this._applyCombination(f,[3])},tetrad:function(){return this._applyCombination(f,[4])}},o.fromRatio=function(t,n){if("object"==e(t)){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]="a"===i?t[i]:C(t[i]));t=r}return o(t,n)},o.equals=function(e,t){return!(!e||!t)&&o(e).toRgbString()==o(t).toRgbString()},o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},o.mix=function(e,t,n){n=0===n?0:n||50;var r=o(e).toRgb(),i=o(t).toRgb(),l=n/100;return o({r:(i.r-r.r)*l+r.r,g:(i.g-r.g)*l+r.g,b:(i.b-r.b)*l+r.b,a:(i.a-r.a)*l+r.a})},o.readability=function(e,t){var n=o(e),r=o(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(e,t,n){var r,i,l,a,c,s=o.readability(e,t);switch(i=!1,(l=n,"AA"!==(a=((l=l||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(c=(l.size||"small").toLowerCase())&&"large"!==c&&(c="small"),r={level:a,size:c}).level+r.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},o.mostReadable=function(e,t,n){var r,i,l,a,c=null,s=0;i=(n=n||{}).includeFallbackColors,l=n.level,a=n.size;for(var u=0;u<t.length;u++)(r=o.readability(e,t[u]))>s&&(s=r,c=o(t[u]));return o.isReadable(e,c,{level:l,size:a})||!i?c:(n.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],n))};var _=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},y=o.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(_);function j(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function E(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function S(e){return Math.min(1,Math.max(0,e))}function k(e){return parseInt(e,16)}function w(e){return 1==e.length?"0"+e:""+e}function C(e){return e<=1&&(e=100*e+"%"),e}function x(e){return Math.round(255*parseFloat(e)).toString(16)}function T(e){return k(e)/255}var I,P,R,M=(P="[\\s|\\(]+("+(I="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",R="[\\s|\\(]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")[,|\\s]+("+I+")\\s*\\)?",{CSS_UNIT:new RegExp(I),rgb:new RegExp("rgb"+P),rgba:new RegExp("rgba"+R),hsl:new RegExp("hsl"+P),hsla:new RegExp("hsla"+R),hsv:new RegExp("hsv"+P),hsva:new RegExp("hsva"+R),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function A(e){return!!M.CSS_UNIT.exec(e)}return o}()},function(e,t){!function(){e.exports=this.wp.deprecated}()},function(e,t){!function(){e.exports=this.kubio.coreHooks}()},,function(e,t,n){"use strict";var o,r,i,l=n(78),a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function c(){i=!1}function s(e){if(e){if(e!==o){if(e.length!==a.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+a.length+" unique characters. These characters were not unique: "+t.join(", "));o=e,c()}}else o!==a&&(o=a,c())}function u(){return i||(i=function(){o||s(a);for(var e,t=o.split(""),n=[],r=l.nextValue();t.length>0;)r=l.nextValue(),e=Math.floor(r*t.length),n.push(t.splice(e,1)[0]);return n.join("")}())}e.exports={get:function(){return o||a},characters:function(e){return s(e),o},seed:function(e){l.seed(e),r!==e&&(c(),r=e)},lookup:function(e){return u()[e]},shuffled:u}},function(e,t,n){"use strict";var o,r;function i(e){return[e]}function l(e){return!!e&&"object"==typeof e}function a(){var e={clear:function(){e.head=null}};return e}function c(e,t,n){var o;if(e.length!==t.length)return!1;for(o=n;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}o={},r="undefined"!=typeof WeakMap,t.a=function(e,t){var n,s;function u(){n=r?new WeakMap:a()}function d(){var n,o,r,i,l,a=arguments.length;for(i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];for(l=t.apply(null,i),(n=s(l)).isUniqueByDependants||(n.lastDependants&&!c(l,n.lastDependants,0)&&n.clear(),n.lastDependants=l),o=n.head;o;){if(c(o.args,i,1))return o!==n.head&&(o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.next=n.head,o.prev=null,n.head.prev=o,n.head=o),o.val;o=o.next}return o={val:e.apply(null,i)},i[0]=null,o.args=i,n.head&&(n.head.prev=o,o.next=n.head),n.head=o,o.val}return t||(t=i),s=r?function(e){var t,r,i,c,s=n,u=!0;for(t=0;t<e.length;t++){if(!l(r=e[t])){u=!1;break}s.has(r)?s=s.get(r):(i=new WeakMap,s.set(r,i),s=i)}return s.has(o)||((c=a()).isUniqueByDependants=u,s.set(o,c)),s.get(o)}:function(){return n},d.getDependants=t,d.clear=u,u(),d}},,function(e,t){!function(){e.exports=this.wp.apiFetch}()},,function(e,t){!function(){e.exports=this.kubio.menuData}()},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){!function(){e.exports=this.wp.editor}()},,,,function(e,t,n){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}n.d(t,"a",(function(){return o}))},function(e,t){!function(){e.exports=this.wp.a11y}()},function(e,t){!function(){e.exports=this.ReactDOM}()},,,,,function(e,t){!function(){e.exports=this.wp.notices}()},,,function(e,t){!function(){e.exports=this.wp.keyboardShortcuts}()},function(e,t){!function(){e.exports=this.kubio.blockLibrary}()},,,function(e,t,n){"use strict";e.exports=function(e,t,n,o,r,i,l,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,o,r,i,l,a],u=0;(c=new Error(t.replace(/%s/g,(function(){return s[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";var o=n(51),r=n(79),i=n(83),l=n(84)||0;function a(){return r(l)}e.exports=a,e.exports.generate=a,e.exports.seed=function(t){return o.seed(t),e.exports},e.exports.worker=function(t){return l=t,e.exports},e.exports.characters=function(e){return void 0!==e&&o.characters(e),o.shuffled()},e.exports.isValid=i},function(e,t,n){"use strict";var o=1;e.exports={nextValue:function(){return(o=(9301*o+49297)%233280)/233280},seed:function(e){o=e}}},function(e,t,n){"use strict";var o,r,i=n(80),l=(n(51),1567752802062);e.exports=function(e){var t="",n=Math.floor(.001*(Date.now()-l));return n===r?o++:(o=0,r=n),t+=i(7),t+=i(e),o>0&&(t+=i(o)),t+i(n)}},function(e,t,n){"use strict";var o=n(51),r=n(81),i=n(82);e.exports=function(e){for(var t,n=0,l="";!t;)l+=i(r,o.get(),1),t=e<Math.pow(16,n+1),n++;return l}},function(e,t,n){"use strict";var o,r="object"==typeof window&&(window.crypto||window.msCrypto);o=r&&r.getRandomValues?function(e){return r.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},e.exports=o},function(e,t){e.exports=function(e,t,n){for(var o=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*o*n/t.length),i="";;)for(var l=e(r),a=r;a--;)if((i+=t[l[a]&o]||"").length===+n)return i}},function(e,t,n){"use strict";var o=n(51);e.exports=function(e){return!(!e||"string"!=typeof e||e.length<6||new RegExp("[^"+o.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e))}},function(e,t,n){"use strict";e.exports=0},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(62);function r(e){var t=function(e,t){if("object"!==Object(o.a)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Object(o.a)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Object(o.a)(t)?t:String(t)}},function(e,t,n){var o=n(300);e.exports=function(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},,,,,,function(e,t,n){"use strict";var o=n(360),r=Object.prototype.toString;function i(e){return"[object Array]"===r.call(e)}function l(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function s(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!l(e)&&null!==e.constructor&&!l(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:l,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:s,isStream:function(e){return a(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,o){c(t[o])&&c(n)?t[o]=e(t[o],n):c(n)?t[o]=e({},n):i(n)?t[o]=n.slice():t[o]=n}for(var o=0,r=arguments.length;o<r;o++)u(arguments[o],n);return t},extend:function(e,t,n){return u(t,(function(t,r){e[r]=n&&"function"==typeof t?o(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},,,,,,function(e,t){!function(){e.exports=this.kubio.adminPanel}()},,,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,,,,,,function(e,t){!function(){e.exports=this.kubio.advancedPanel}()},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return X})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return U}));var o=n(8);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function i(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,_x,i,l=[],_n=!0,a=!1;try{if(_x=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;_n=!1}else for(;!(_n=(o=_x.call(n)).done)&&(l.push(o.value),l.length!==t);_n=!0);}catch(e){a=!0,r=e}finally{try{if(!_n&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(a)throw r}}return l}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=n(31);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach((function(t){Object(a.a)(e,t,n[t])}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=n(86);function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Object(u.a)(o.key),o)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var b=n(62),m=n(40);function h(e,t){if(t&&("object"===Object(b.a)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(m.a)(e)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}var g=n(143);function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Object(g.a)(e,t)}var v=n(10),_=n(18),y=n.n(_),j=n(64),E=n(76),S=n.n(E);var k=function(){function e(){s(this,e),Object(a.a)(this,"refs",{})}return p(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find((function(t){return t.node.sortableInfo.index==e.active.index}))}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(w)}}]),e}();function w(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function C(e,t){return Object.keys(e).reduce((function(n,o){return-1===t.indexOf(o)&&(n[o]=e[o]),n}),{})}var x={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},T=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}();function I(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}function P(e,t){e.style["".concat(T,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function R(e,t){e.style["".concat(T,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function M(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function A(e,t,n){return Math.max(e,Math.min(n,t))}function N(e){return"px"===e.substr(-2)?parseFloat(e):0}function D(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function L(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function z(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var o={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?o:B(e.parentNode,t,o)}}function F(e){var t=e.lockOffset,n=e.width,o=e.height,r=t,i=t,l="px";if("string"==typeof t){var a=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);S()(null!==a,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),i=parseFloat(t),l=a[1]}return S()(isFinite(r)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===l&&(r=r*n/100,i=i*o/100),{x:r,y:i}}function G(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find((function(e){return n.test(t[e])}))}(e)?e:G(e.parentNode):null}var H={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function U(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),h(this,f(n).apply(this,arguments))}return O(n,t),p(n,[{key:"componentDidMount",value:function(){Object(j.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return S()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return Object(v.createElement)(e,Object(o.a)({ref:t},this.props))}}]),n}(v.Component),Object(a.a)(t,"displayName",D("sortableHandle",e)),n}function W(e){return null!=e.sortableHandle}var V=function(){function e(t,n){s(this,e),this.container=t,this.onScrollCallback=n}return p(e,[{key:"clear",value:function(){null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(e){var t=this,n=e.translate,o=e.minTranslate,r=e.maxTranslate,i=e.width,l=e.height,a={x:0,y:0},c={x:1,y:1},s=this.container,u=s.scrollTop,d=s.scrollLeft,p=s.scrollHeight,b=s.scrollWidth,m=0===u,h=p-u-s.clientHeight==0,f=0===d,g=b-d-s.clientWidth==0;n.y>=r.y-l/2&&!h?(a.y=1,c.y=10*Math.abs((r.y-l/2-n.y)/l)):n.x>=r.x-i/2&&!g?(a.x=1,c.x=10*Math.abs((r.x-i/2-n.x)/i)):n.y<=o.y+l/2&&!m?(a.y=-1,c.y=10*Math.abs((n.y-l/2-o.y)/l)):n.x<=o.x+i/2&&!f&&(a.x=-1,c.x=10*Math.abs((n.x-i/2-o.x)/i)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===a.x&&0===a.y||(this.interval=setInterval((function(){t.isAutoScrolling=!0;var e={left:c.x*a.x,top:c.y*a.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)}),5))}}]),e}(),K={axis:y.a.oneOf(["x","y","xy"]),contentWindow:y.a.any,disableAutoscroll:y.a.bool,distance:y.a.number,getContainer:y.a.func,getHelperDimensions:y.a.func,helperClass:y.a.string,helperContainer:y.a.oneOfType([y.a.func,"undefined"==typeof HTMLElement?y.a.any:y.a.instanceOf(HTMLElement)]),hideSortableGhost:y.a.bool,keyboardSortingTransitionDuration:y.a.number,lockAxis:y.a.string,lockOffset:y.a.oneOfType([y.a.number,y.a.string,y.a.arrayOf(y.a.oneOfType([y.a.number,y.a.string]))]),lockToContainerEdges:y.a.bool,onSortEnd:y.a.func,onSortMove:y.a.func,onSortOver:y.a.func,onSortStart:y.a.func,pressDelay:y.a.number,pressThreshold:y.a.number,keyCodes:y.a.shape({lift:y.a.arrayOf(y.a.number),drop:y.a.arrayOf(y.a.number),cancel:y.a.arrayOf(y.a.number),up:y.a.arrayOf(y.a.number),down:y.a.arrayOf(y.a.number)}),shouldCancelStart:y.a.func,transitionDuration:y.a.number,updateBeforeSortStart:y.a.func,useDragHandle:y.a.bool,useWindowAsScrollContainer:y.a.bool},$={lift:[32],drop:[32],cancel:[27],up:[38,37],down:[40,39]},Y={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:$,shouldCancelStart:function(e){return-1!==[H.Input,H.Textarea,H.Select,H.Option,H.Button].indexOf(e.target.tagName)||!!M(e.target,(function(e){return"true"===e.contentEditable}))},transitionDuration:300,useWindowAsScrollContainer:!1},q=Object.keys(K);function X(e){var t,n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){var t;return s(this,n),t=h(this,f(n).call(this,e)),Object(a.a)(Object(m.a)(Object(m.a)(t)),"state",{}),Object(a.a)(Object(m.a)(Object(m.a)(t)),"handleStart",(function(e){var n=t.props,o=n.distance,r=n.shouldCancelStart;if(2!==e.button&&!r(e)){t.touched=!0,t.position=z(e);var i=M(e.target,(function(e){return null!=e.sortableInfo}));if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var l=t.props.useDragHandle,a=i.sortableInfo,c=a.index,s=a.collection;if(a.disabled)return;if(l&&!M(e.target,W))return;t.manager.active={collection:s,index:c},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==H.Anchor||e.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout((function(){return t.handlePress(e)}),t.props.pressDelay))}}})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"nodeIsChild",(function(e){return e.sortableInfo.manager===t.manager})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"handleMove",(function(e){var n=t.props,o=n.distance,r=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var i=z(e),l={x:t.position.x-i.x,y:t.position.y-i.y},a=Math.abs(l.x)+Math.abs(l.y);t.delta=l,o||r&&!(a>=r)?o&&a>=o&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"handleEnd",(function(){t.touched=!1,t.cancel()})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"cancel",(function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"handlePress",(function(e){try{var n=t.manager.getActive(),o=function(){if(n){var o=function(){var n,o,l,p,O,v,_,y=h.sortableInfo.index,j=(n=h,{bottom:N((o=window.getComputedStyle(n)).marginBottom),left:N(o.marginLeft),right:N(o.marginRight),top:N(o.marginTop)}),E=function(e){var t=window.getComputedStyle(e);return"grid"===t.display?{x:N(t.gridColumnGap),y:N(t.gridRowGap)}:{x:0,y:0}}(t.container),S=t.scrollContainer.getBoundingClientRect(),k=s({index:y,node:h,collection:f});if(t.node=h,t.margin=j,t.gridGap=E,t.width=k.width,t.height=k.height,t.marginOffset={x:t.margin.left+t.margin.right+t.gridGap.x,y:Math.max(t.margin.top,t.margin.bottom,t.gridGap.y)},t.boundingClientRect=h.getBoundingClientRect(),t.containerBoundingRect=S,t.index=y,t.newIndex=y,t.axis={x:a.indexOf("x")>=0,y:a.indexOf("y")>=0},t.offsetEdge=B(h,t.container),t.initialOffset=z(g?c({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild((p="input, textarea, select, canvas, [contenteditable]",O=(l=h).querySelectorAll(p),(_=(v=l.cloneNode(!0)).querySelectorAll(p),function(e){if(Array.isArray(e))return r(e)}(_)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(_)||i(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e,t){"file"!==e.type&&(e.value=O[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===H.Canvas&&O[t].width>0&&O[t].height>0&&e.getContext("2d").drawImage(O[t],0,0)})),v)),I(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-j.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-j.top,"px"),width:"".concat(t.width,"px")}),g&&t.helper.focus(),d&&(t.sortableGhost=h,I(h,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},g){var w=m?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,C=w.top,T=w.left,P=w.width,R=C+w.height,M=T+P;t.axis.x&&(t.minTranslate.x=T-t.boundingClientRect.left,t.maxTranslate.x=M-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=C-t.boundingClientRect.top,t.maxTranslate.y=R-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(m?0:S.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(m?t.contentWindow.innerWidth:S.left+S.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(m?0:S.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(m?t.contentWindow.innerHeight:S.top+S.height)-t.boundingClientRect.top-t.height/2);u&&u.split(" ").forEach((function(e){return t.helper.classList.add(e)})),t.listenerNode=e.touches?h:t.contentWindow,g?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(x.move.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)})),x.end.forEach((function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}))),t.setState({sorting:!0,sortingIndex:y}),b&&b({node:h,index:y,collection:f,isKeySorting:g,nodes:t.manager.getOrderedRefs(),helper:t.helper},e),g&&t.keyMove(0)},l=t.props,a=l.axis,s=l.getHelperDimensions,u=l.helperClass,d=l.hideSortableGhost,p=l.updateBeforeSortStart,b=l.onSortStart,m=l.useWindowAsScrollContainer,h=n.node,f=n.collection,g=t.manager.isKeySorting,O=function(){if("function"==typeof p){t._awaitingUpdateBeforeSortStart=!0;var n=function(t,n){try{var o=(r=h.sortableInfo.index,Promise.resolve(p({collection:f,index:r,node:h,isKeySorting:g},e)).then((function(){})))}catch(e){return n(!0,e)}var r;return o&&o.then?o.then(n.bind(null,!1),n.bind(null,!0)):n(!1,value)}(0,(function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n}));if(n&&n.then)return n.then((function(){}))}}();return O&&O.then?O.then(o):o()}}();return Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(e){return Promise.reject(e)}})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"handleSortMove",(function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"handleSortEnd",(function(e){var n=t.props,o=n.hideSortableGhost,r=n.onSortEnd,i=t.manager,l=i.active.collection,a=i.isKeySorting,c=t.manager.getOrderedRefs();t.listenerNode&&(a?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(x.move.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)})),x.end.forEach((function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})))),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&I(t.sortableGhost,{opacity:"",visibility:""});for(var s=0,u=c.length;s<u;s++){var d=c[s],p=d.node;d.edgeOffset=null,d.boundingClientRect=null,P(p,null),R(p,null),d.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({collection:l,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:a,nodes:c},e),t.touched=!1})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"autoscroll",(function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(e)t.autoScroller.clear();else{if(n){var o=c({},t.translate),r=0,i=0;return t.axis.x&&(o.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),r=t.translate.x-o.x),t.axis.y&&(o.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),i=t.translate.y-o.y),t.translate=o,P(t.helper,t.translate),t.scrollContainer.scrollLeft+=r,void(t.scrollContainer.scrollTop+=i)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"onAutoScroll",(function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"handleKeyDown",(function(e){var n=e.keyCode,o=t.props,r=o.shouldCancelStart,i=o.keyCodes,l=c({},$,void 0===i?{}:i);t.manager.active&&!t.manager.isKeySorting||!(t.manager.active||l.lift.includes(n)&&!r(e)&&t.isValidSortingTarget(e))||(e.stopPropagation(),e.preventDefault(),l.lift.includes(n)&&!t.manager.active?t.keyLift(e):l.drop.includes(n)&&t.manager.active?t.keyDrop(e):l.cancel.includes(n)?(t.newIndex=t.manager.active.index,t.keyDrop(e)):l.up.includes(n)?t.keyMove(-1):l.down.includes(n)&&t.keyMove(1))})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"keyLift",(function(e){var n=e.target,o=M(n,(function(e){return null!=e.sortableInfo})).sortableInfo,r=o.index,i=o.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:r,collection:i},t.handlePress(e)})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"keyMove",(function(e){var n=t.manager.getOrderedRefs(),o=n[n.length-1].node.sortableInfo.index,r=t.newIndex+e,i=t.newIndex;if(!(r<0||r>o)){t.prevIndex=i,t.newIndex=r;var l=function(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}(t.newIndex,t.prevIndex,t.index),a=n.find((function(e){return e.node.sortableInfo.index===l})),c=a.node,s=t.containerScrollDelta,u=a.boundingClientRect||L(c,s),d=a.translate||{x:0,y:0},p=u.top+d.y-s.top,b=u.left+d.x-s.left,m=i<r,h=m&&t.axis.x?c.offsetWidth-t.width:0,f=m&&t.axis.y?c.offsetHeight-t.height:0;t.handleSortMove({pageX:b+h,pageY:p+f,ignoreTransition:0===e})}})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"keyDrop",(function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"handleKeyEnd",(function(e){t.manager.active&&t.keyDrop(e)})),Object(a.a)(Object(m.a)(Object(m.a)(t)),"isValidSortingTarget",(function(e){var n=t.props.useDragHandle,o=e.target,r=M(o,(function(e){return null!=e.sortableInfo}));return r&&r.sortableInfo&&!r.sortableInfo.disabled&&(n?W(o):o.sortableInfo)})),function(e){S()(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(e),t.manager=new k,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return O(n,t),p(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then((function(n){e.container=n,e.document=e.container.ownerDocument||document;var o=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof o?o():o,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:G(e.container)||e.container,e.autoScroller=new V(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach((function(t){return x[t].forEach((function(n){return e.container.addEventListener(n,e.events[t],!1)}))})),e.container.addEventListener("keydown",e.handleKeyDown)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach((function(t){return x[t].forEach((function(n){return e.container.removeEventListener(n,e.events[t])}))})),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,o=t.lockOffset,r=t.lockToContainerEdges,i=t.transitionDuration,a=t.keyboardSortingTransitionDuration,c=void 0===a?i:a,s=this.manager.isKeySorting,u=e.ignoreTransition,d=z(e),p={x:d.x-this.initialOffset.x,y:d.y-this.initialOffset.y};if(p.y-=window.pageYOffset-this.initialWindowScroll.top,p.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=p,r){var b=function(e){var t=e.height,n=e.width,o=e.lockOffset,r=Array.isArray(o)?o:[o,o];S()(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",o);var i=l(r,2),a=i[0],c=i[1];return[F({height:t,lockOffset:a,width:n}),F({height:t,lockOffset:c,width:n})]}({height:this.height,lockOffset:o,width:this.width}),m=l(b,2),h=m[0],f=m[1],g={x:this.width/2-h.x,y:this.height/2-h.y},O={x:this.width/2-f.x,y:this.height/2-f.y};p.x=A(this.minTranslate.x+g.x,this.maxTranslate.x-O.x,p.x),p.y=A(this.minTranslate.y+g.y,this.maxTranslate.y-O.y,p.y)}"x"===n?p.y=0:"y"===n&&(p.x=0),s&&c&&!u&&R(this.helper,c),P(this.helper,p)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=e.onSortOver,r=this.containerScrollDelta,i=this.windowScrollDelta,l=this.manager.getOrderedRefs(),a=this.offsetEdge.left+this.translate.x+r.left,c=this.offsetEdge.top+this.translate.y+r.top,s=this.manager.isKeySorting,u=this.newIndex;this.newIndex=null;for(var d=0,p=l.length;d<p;d++){var b=l[d].node,m=b.sortableInfo.index,h=b.offsetWidth,f=b.offsetHeight,g={height:this.height>f?f/2:this.height/2,width:this.width>h?h/2:this.width/2},O=s&&m>this.index&&m<=u,v=s&&m<this.index&&m>=u,_={x:0,y:0},y=l[d].edgeOffset;y||(y=B(b,this.container),l[d].edgeOffset=y,s&&(l[d].boundingClientRect=L(b,r)));var j=d<l.length-1&&l[d+1],E=d>0&&l[d-1];j&&!j.edgeOffset&&(j.edgeOffset=B(j.node,this.container),s&&(j.boundingClientRect=L(j.node,r))),m!==this.index?(t&&R(b,t),this.axis.x?this.axis.y?v||m<this.index&&(a+i.left-g.width<=y.left&&c+i.top<=y.top+g.height||c+i.top+g.height<=y.top)?(_.x=this.width+this.marginOffset.x,y.left+_.x>this.containerBoundingRect.width-g.width&&j&&(_.x=j.edgeOffset.left-y.left,_.y=j.edgeOffset.top-y.top),null===this.newIndex&&(this.newIndex=m)):(O||m>this.index&&(a+i.left+g.width>=y.left&&c+i.top+g.height>=y.top||c+i.top+g.height>=y.top+f))&&(_.x=-(this.width+this.marginOffset.x),y.left+_.x<this.containerBoundingRect.left+g.width&&E&&(_.x=E.edgeOffset.left-y.left,_.y=E.edgeOffset.top-y.top),this.newIndex=m):O||m>this.index&&a+i.left+g.width>=y.left?(_.x=-(this.width+this.marginOffset.x),this.newIndex=m):(v||m<this.index&&a+i.left<=y.left+g.width)&&(_.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=m)):this.axis.y&&(O||m>this.index&&c+i.top+g.height>=y.top?(_.y=-(this.height+this.marginOffset.y),this.newIndex=m):(v||m<this.index&&c+i.top<=y.top+g.height)&&(_.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=m))),P(b,_),l[d].translate=_):n&&(this.sortableGhost=b,I(b,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),s&&(this.newIndex=u);var S=s?this.prevIndex:u;o&&this.newIndex!==S&&o({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:S,isKeySorting:s,nodes:l,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return S()(u.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?Object(j.findDOMNode)(this):e(u.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var t=u.withRef?"wrappedInstance":null;return Object(v.createElement)(e,Object(o.a)({ref:t},C(this.props,q)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){return this.props.useWindowAsScrollContainer?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),n}(v.Component),Object(a.a)(t,"displayName",D("sortableList",e)),Object(a.a)(t,"defaultProps",Y),Object(a.a)(t,"propTypes",K),Object(a.a)(t,"childContextTypes",{manager:y.a.object.isRequired}),n}var Q={index:y.a.number.isRequired,collection:y.a.oneOfType([y.a.number,y.a.string]),disabled:y.a.bool},Z=Object.keys(Q);function J(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return s(this,n),h(this,f(n).apply(this,arguments))}return O(n,t),p(n,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,o=e.index,r=Object(j.findDOMNode)(this);r.sortableInfo={collection:t,disabled:n,index:o,manager:this.context.manager},this.node=r,this.ref={node:r},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return S()(r.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=r.withRef?"wrappedInstance":null;return Object(v.createElement)(e,Object(o.a)({ref:t},C(this.props,Z)))}}]),n}(v.Component),Object(a.a)(t,"displayName",D("sortableElement",e)),Object(a.a)(t,"contextTypes",{manager:y.a.object.isRequired}),Object(a.a)(t,"propTypes",Q),Object(a.a)(t,"defaultProps",{collection:0}),n}},,,function(e,t,n){"use strict";var o=n(0);t.a=function(e){let{icon:t,size:n=24,...r}=e;return Object(o.cloneElement)(t,{width:n,height:n,...r})}},function(e,t,n){"use strict";(function(e){function o(t,n){var o,r,i,l=void 0!==(o=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:e).document&&o.document.attachEvent;if(!l){var a=(i=o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||function(e){return o.setTimeout(e,20)},function(e){return i(e)}),c=(r=o.cancelAnimationFrame||o.mozCancelAnimationFrame||o.webkitCancelAnimationFrame||o.clearTimeout,function(e){return r(e)}),s=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,o=t.lastElementChild,r=n.firstElementChild;o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;s(this),this.__resizeRAF__&&c(this.__resizeRAF__),this.__resizeRAF__=a((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},d=!1,p="",b="animationstart",m="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f=o.document.createElement("fakeelement");if(void 0!==f.style.animationName&&(d=!0),!1===d)for(var g=0;g<m.length;g++)if(void 0!==f.style[m[g]+"AnimationName"]){p="-"+m[g].toLowerCase()+"-",b=h[g],d=!0;break}var O="resizeanim",v="@"+p+"keyframes "+O+" { from { opacity: 0; } to { opacity: 0; } } ",_=p+"animation: 1ms "+O+"; "}return{addResizeListener:function(e,n){if(l)e.attachEvent("onresize",n);else{if(!e.__resizeTriggers__){var r=e.ownerDocument,i=o.getComputedStyle(e);i&&"static"==i.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(v||"")+".resize-triggers { "+(_||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=e.head||e.getElementsByTagName("head")[0],r=e.createElement("style");r.id="detectElementResize",r.type="text/css",null!=t&&r.setAttribute("nonce",t),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(e.createTextNode(n)),o.appendChild(r)}}(r),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=r.createElement("div")).className="resize-triggers";var a='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var c=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return a}});e.__resizeTriggers__.innerHTML=c.createHTML("")}else e.__resizeTriggers__.innerHTML=a;e.appendChild(e.__resizeTriggers__),s(e),e.addEventListener("scroll",u,!0),b&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==O&&s(e)},e.__resizeTriggers__.addEventListener(b,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(b,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}n.d(t,"a",(function(){return o}))}).call(this,n(102))},function(e,t,n){"use strict";n.d(t,"a",(function(){return Q})),n.d(t,"b",(function(){return we}));var o=n(37),r=n.n(o),i=n(38),l=n.n(i),a=n(44),c=n.n(a),s=n(45),u=n.n(s),d=n(22),p=n.n(d),b=n(46),m=n.n(b),h=n(15),f=n.n(h),g=n(10);function O(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function v(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function _(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function y(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,r=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?r="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==r){var i=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=O,t.componentWillReceiveProps=v),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=_;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,o)}}return e}O.__suppressDeprecationWarning=!0,v.__suppressDeprecationWarning=!0,_.__suppressDeprecationWarning=!0;var j=n(57),E=n.n(j);function S(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=S(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}var k=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=S(e))&&(o&&(o+=" "),o+=t);return o};function w(e){var t=e.cellCount,n=e.cellSize,o=e.computeMetadataCallback,r=e.computeMetadataCallbackProps,i=e.nextCellsCount,l=e.nextCellSize,a=e.nextScrollToIndex,c=e.scrollToIndex,s=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof n&&"number"!=typeof l||n===l)||(o(r),c>=0&&c===a&&s())}var C=n(87),x=n.n(C),T=function(){function e(t){var n=t.cellCount,o=t.cellSizeGetter,i=t.estimatedCellSize;r()(this,e),f()(this,"_cellSizeAndPositionData",{}),f()(this,"_lastMeasuredIndex",-1),f()(this,"_lastBatchedIndex",-1),f()(this,"_cellCount",void 0),f()(this,"_cellSizeGetter",void 0),f()(this,"_estimatedCellSize",void 0),this._cellSizeGetter=o,this._cellCount=n,this._estimatedCellSize=i}return l()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,o=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=o}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,o=this._lastMeasuredIndex+1;o<=e;o++){var r=this._cellSizeGetter({index:o});if(void 0===r||isNaN(r))throw Error("Invalid size returned for cell ".concat(o," of value ").concat(r));null===r?(this._cellSizeAndPositionData[o]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[o]={offset:n,size:r},n+=r,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,o=e.containerSize,r=e.currentOffset,i=e.targetIndex;if(o<=0)return 0;var l,a=this.getSizeAndPositionOfCell(i),c=a.offset,s=c-o+a.size;switch(n){case"start":l=c;break;case"end":l=s;break;case"center":l=c-(o-a.size)/2;break;default:l=Math.max(s,Math.min(c,r))}var u=this.getTotalSize();return Math.max(0,Math.min(u-o,l))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var o=n+t,r=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(r);n=i.offset+i.size;for(var l=r;n<o&&l<this._cellCount-1;)l++,n+=this.getSizeAndPositionOfCell(l).size;return{start:r,stop:l}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var o=t+Math.floor((e-t)/2),r=this.getSizeAndPositionOfCell(o).offset;if(r===n)return o;r<n?t=o+1:r>n&&(e=o-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),I=function(){function e(t){var n=t.maxScrollSize,o=void 0===n?"undefined"!=typeof window&&window.chrome?16777100:15e5:n,i=x()(t,["maxScrollSize"]);r()(this,e),f()(this,"_cellSizeAndPositionManager",void 0),f()(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new T(i),this._maxScrollSize=o}return l()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(r-o))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,o=e.containerSize,r=e.currentOffset,i=e.targetIndex;r=this._safeOffsetToOffset({containerSize:o,offset:r});var l=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:o,currentOffset:r,targetIndex:i});return this._offsetToSafeOffset({containerSize:o,offset:l})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,o=e.totalSize;return o<=t?0:n/(o-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(o===r)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,o=this._cellSizeAndPositionManager.getTotalSize(),r=this.getTotalSize();if(o===r)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}}]),e}();function P(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var o=n.callback,r=n.indices,i=Object.keys(r),l=!e||i.every((function(e){var t=r[e];return Array.isArray(t)?t.length>0:t>=0})),a=i.length!==Object.keys(t).length||i.some((function(e){var n=t[e],o=r[e];return Array.isArray(o)?n.join(",")!==o.join(","):n!==o}));t=r,l&&a&&o(r)}}function R(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,o=e.previousCellsCount,r=e.previousCellSize,i=e.previousScrollToAlignment,l=e.previousScrollToIndex,a=e.previousSize,c=e.scrollOffset,s=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,p=e.sizeJustIncreasedFromZero,b=e.updateScrollIndexCallback,m=n.getCellCount(),h=u>=0&&u<m;h&&(d!==a||p||!r||"number"==typeof t&&t!==r||s!==i||u!==l)?b(u):!h&&m>0&&(d<a||m<o)&&c>n.getTotalSize()-d&&b(m-1)}var M,A,N=!("undefined"==typeof window||!window.document||!window.document.createElement);function D(e){if((!M&&0!==M||e)&&N){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),M=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return M}var L,z,B=(A="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||A.webkitRequestAnimationFrame||A.mozRequestAnimationFrame||A.oRequestAnimationFrame||A.msRequestAnimationFrame||function(e){return A.setTimeout(e,1e3/60)},F=A.cancelAnimationFrame||A.webkitCancelAnimationFrame||A.mozCancelAnimationFrame||A.oCancelAnimationFrame||A.msCancelAnimationFrame||function(e){A.clearTimeout(e)},G=B,H=F,U=function(e){return H(e.id)},W=function(e,t){var n;Promise.resolve().then((function(){n=Date.now()}));var o={id:G((function r(){Date.now()-n>=t?e.call():o.id=G(r)}))};return o};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $="requested",Y=(z=L=function(e){function t(e){var n;r()(this,t),n=c()(this,u()(t).call(this,e)),f()(p()(n),"_onGridRenderedMemoizer",P()),f()(p()(n),"_onScrollMemoizer",P(!1)),f()(p()(n),"_deferredInvalidateColumnIndex",null),f()(p()(n),"_deferredInvalidateRowIndex",null),f()(p()(n),"_recomputeScrollLeftFlag",!1),f()(p()(n),"_recomputeScrollTopFlag",!1),f()(p()(n),"_horizontalScrollBarSize",0),f()(p()(n),"_verticalScrollBarSize",0),f()(p()(n),"_scrollbarPresenceChanged",!1),f()(p()(n),"_scrollingContainer",void 0),f()(p()(n),"_childrenToDisplay",void 0),f()(p()(n),"_columnStartIndex",void 0),f()(p()(n),"_columnStopIndex",void 0),f()(p()(n),"_rowStartIndex",void 0),f()(p()(n),"_rowStopIndex",void 0),f()(p()(n),"_renderedColumnStartIndex",0),f()(p()(n),"_renderedColumnStopIndex",0),f()(p()(n),"_renderedRowStartIndex",0),f()(p()(n),"_renderedRowStopIndex",0),f()(p()(n),"_initialScrollTop",void 0),f()(p()(n),"_initialScrollLeft",void 0),f()(p()(n),"_disablePointerEventsTimeoutId",void 0),f()(p()(n),"_styleCache",{}),f()(p()(n),"_cellCache",{}),f()(p()(n),"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),f()(p()(n),"_invokeOnGridRenderedHelper",(function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),f()(p()(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),f()(p()(n),"_onScroll",(function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)}));var o=new I({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),i=new I({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:o,rowSizeAndPositionManager:i,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return m()(t,e),l()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,o=e.columnIndex,r=void 0===o?this.props.scrollToColumn:o,i=e.rowIndex,l=void 0===i?this.props.scrollToRow:i,a=K({},this.props,{scrollToAlignment:n,scrollToColumn:r,scrollToRow:l});return{scrollLeft:this._getCalculatedScrollLeft(a),scrollTop:this._getCalculatedScrollTop(a)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,o=e.scrollTop,r=void 0===o?0:o;if(!(r<0)){this._debounceScrollEnded();var i=this.props,l=i.autoHeight,a=i.autoWidth,c=i.height,s=i.width,u=this.state.instanceProps,d=u.scrollbarSize,p=u.rowSizeAndPositionManager.getTotalSize(),b=u.columnSizeAndPositionManager.getTotalSize(),m=Math.min(Math.max(0,b-s+d),n),h=Math.min(Math.max(0,p-c+d),r);if(this.state.scrollLeft!==m||this.state.scrollTop!==h){var f={isScrolling:!0,scrollDirectionHorizontal:m!==this.state.scrollLeft?m>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:h!==this.state.scrollTop?h>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:"observed"};l||(f.scrollTop=h),a||(f.scrollLeft=m),f.needToResetStyleCache=!1,this.setState(f)}this._invokeOnScrollMemoizer({scrollLeft:m,scrollTop:h,totalColumnsWidth:b,totalRowsHeight:p})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,o=this.state.instanceProps;o.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),o.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o,i=this.props,l=i.scrollToColumn,a=i.scrollToRow,c=this.state.instanceProps;c.columnSizeAndPositionManager.resetCell(n),c.rowSizeAndPositionManager.resetCell(r),this._recomputeScrollLeftFlag=l>=0&&(1===this.state.scrollDirectionHorizontal?n<=l:n>=l),this._recomputeScrollTopFlag=a>=0&&(1===this.state.scrollDirectionVertical?r<=a:r>=a),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,o=this.props.columnCount,r=this.props;o>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(K({},r,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(K({},r,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,o=e.height,r=e.scrollLeft,i=e.scrollToColumn,l=e.scrollTop,a=e.scrollToRow,c=e.width,s=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),s.scrollbarSizeMeasured||this.setState((function(e){var t=K({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof r&&r>=0||"number"==typeof l&&l>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:l});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=o>0&&c>0;i>=0&&d&&this._updateScrollLeftForScrollToColumn(),a>=0&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:l||0,totalColumnsWidth:s.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:s.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,o=this.props,r=o.autoHeight,i=o.autoWidth,l=o.columnCount,a=o.height,c=o.rowCount,s=o.scrollToAlignment,u=o.scrollToColumn,d=o.scrollToRow,p=o.width,b=this.state,m=b.scrollLeft,h=b.scrollPositionChangeReason,f=b.scrollTop,g=b.instanceProps;this._handleInvalidatedGridSize();var O=l>0&&0===e.columnCount||c>0&&0===e.rowCount;h===$&&(!i&&m>=0&&(m!==this._scrollingContainer.scrollLeft||O)&&(this._scrollingContainer.scrollLeft=m),!r&&f>=0&&(f!==this._scrollingContainer.scrollTop||O)&&(this._scrollingContainer.scrollTop=f));var v=(0===e.width||0===e.height)&&a>0&&p>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):R({cellSizeAndPositionManager:g.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:m,scrollToAlignment:s,scrollToIndex:u,size:p,sizeJustIncreasedFromZero:v,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):R({cellSizeAndPositionManager:g.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:f,scrollToAlignment:s,scrollToIndex:d,size:a,sizeJustIncreasedFromZero:v,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),m!==t.scrollLeft||f!==t.scrollTop){var _=g.rowSizeAndPositionManager.getTotalSize(),y=g.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:m,scrollTop:f,totalColumnsWidth:y,totalRowsHeight:_})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&U(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,o=e.autoWidth,r=e.className,i=e.containerProps,l=e.containerRole,a=e.containerStyle,c=e.height,s=e.id,u=e.noContentRenderer,d=e.role,p=e.style,b=e.tabIndex,m=e.width,h=this.state,f=h.instanceProps,O=h.needToResetStyleCache,v=this._isScrolling(),_={boxSizing:"border-box",direction:"ltr",height:n?"auto":c,position:"relative",width:o?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};O&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var y=f.columnSizeAndPositionManager.getTotalSize(),j=f.rowSizeAndPositionManager.getTotalSize(),S=j>c?f.scrollbarSize:0,w=y>m?f.scrollbarSize:0;w===this._horizontalScrollBarSize&&S===this._verticalScrollBarSize||(this._horizontalScrollBarSize=w,this._verticalScrollBarSize=S,this._scrollbarPresenceChanged=!0),_.overflowX=y+S<=m?"hidden":"auto",_.overflowY=j+w<=c?"hidden":"auto";var C=this._childrenToDisplay,x=0===C.length&&c>0&&m>0;return g.createElement("div",E()({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:k("ReactVirtualized__Grid",r),id:s,onScroll:this._onScroll,role:d,style:K({},_,{},p),tabIndex:b}),C.length>0&&g.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:l,style:K({width:t?"auto":y,height:j,maxWidth:y,maxHeight:j,overflow:"hidden",pointerEvents:v?"none":"",position:"relative"},a)},C),x&&u())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,o=e.cellRangeRenderer,r=e.columnCount,i=e.deferredMeasurementCache,l=e.height,a=e.overscanColumnCount,c=e.overscanIndicesGetter,s=e.overscanRowCount,u=e.rowCount,d=e.width,p=e.isScrollingOptOut,b=t.scrollDirectionHorizontal,m=t.scrollDirectionVertical,h=t.instanceProps,f=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,g=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,O=this._isScrolling(e,t);if(this._childrenToDisplay=[],l>0&&d>0){var v=h.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:g}),_=h.rowSizeAndPositionManager.getVisibleCellRange({containerSize:l,offset:f}),y=h.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:g}),j=h.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:l,offset:f});this._renderedColumnStartIndex=v.start,this._renderedColumnStopIndex=v.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var E=c({direction:"horizontal",cellCount:r,overscanCellsCount:a,scrollDirection:b,startIndex:"number"==typeof v.start?v.start:0,stopIndex:"number"==typeof v.stop?v.stop:-1}),S=c({direction:"vertical",cellCount:u,overscanCellsCount:s,scrollDirection:m,startIndex:"number"==typeof _.start?_.start:0,stopIndex:"number"==typeof _.stop?_.stop:-1}),k=E.overscanStartIndex,w=E.overscanStopIndex,C=S.overscanStartIndex,x=S.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var T=C;T<=x;T++)if(!i.has(T,0)){k=0,w=r-1;break}if(!i.hasFixedWidth())for(var I=k;I<=w;I++)if(!i.has(0,I)){C=0,x=u-1;break}}this._childrenToDisplay=o({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:h.columnSizeAndPositionManager,columnStartIndex:k,columnStopIndex:w,deferredMeasurementCache:i,horizontalOffsetAdjustment:y,isScrolling:O,isScrollingOptOut:p,parent:this,rowSizeAndPositionManager:h.rowSizeAndPositionManager,rowStartIndex:C,rowStopIndex:x,scrollLeft:g,scrollTop:f,styleCache:this._styleCache,verticalOffsetAdjustment:j,visibleColumnIndices:v,visibleRowIndices:_}),this._columnStartIndex=k,this._columnStopIndex=w,this._rowStartIndex=C,this._rowStopIndex=x}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&U(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=W(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,o=e.scrollTop,r=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,o=e.scrollTop,l=t.props,a=l.height;(0,l.onScroll)({clientHeight:a,clientWidth:l.width,scrollHeight:i,scrollLeft:n,scrollTop:o,scrollWidth:r})},indices:{scrollLeft:n,scrollTop:o}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,o=e.scrollTop,r=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:o});r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,o=t._getScrollLeftForScrollToColumnStateUpdate(e,n);o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var o=this._rowStartIndex;o<=this._rowStopIndex;o++)for(var r=this._columnStartIndex;r<=this._columnStopIndex;r++){var i="".concat(o,"-").concat(r);this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,o=t._getScrollTopForScrollToRowStateUpdate(e,n);o&&(o.needToResetStyleCache=!1,this.setState(o))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var o={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(o.scrollLeft=0,o.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Object.assign(o,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var r,i,l=n.instanceProps;return o.needToResetStyleCache=!1,e.columnWidth===l.prevColumnWidth&&e.rowHeight===l.prevRowHeight||(o.needToResetStyleCache=!0),l.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),l.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==l.prevColumnCount&&0!==l.prevRowCount||(l.prevColumnCount=0,l.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===l.prevIsScrolling&&Object.assign(o,{isScrolling:!1}),w({cellCount:l.prevColumnCount,cellSize:"number"==typeof l.prevColumnWidth?l.prevColumnWidth:null,computeMetadataCallback:function(){return l.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:l.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){r=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),w({cellCount:l.prevRowCount,cellSize:"number"==typeof l.prevRowHeight?l.prevRowHeight:null,computeMetadataCallback:function(){return l.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:l.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),l.prevColumnCount=e.columnCount,l.prevColumnWidth=e.columnWidth,l.prevIsScrolling=!0===e.isScrolling,l.prevRowCount=e.rowCount,l.prevRowHeight=e.rowHeight,l.prevScrollToColumn=e.scrollToColumn,l.prevScrollToRow=e.scrollToRow,l.scrollbarSize=e.getScrollbarSize(),void 0===l.scrollbarSize?(l.scrollbarSizeMeasured=!1,l.scrollbarSize=0):l.scrollbarSizeMeasured=!0,o.instanceProps=l,K({},o,{},r,{},i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,o=e.scrollTop,r={scrollPositionChangeReason:$};return"number"==typeof n&&n>=0&&(r.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,r.scrollLeft=n),"number"==typeof o&&o>=0&&(r.scrollDirectionVertical=o>t.scrollTop?1:-1,r.scrollTop=o),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof o&&o>=0&&o!==t.scrollTop?r:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,o=e.height,r=e.scrollToAlignment,i=e.scrollToColumn,l=e.width,a=t.scrollLeft,c=t.instanceProps;if(n>0){var s=n-1,u=i<0?s:Math.min(s,i),d=c.rowSizeAndPositionManager.getTotalSize(),p=c.scrollbarSizeMeasured&&d>o?c.scrollbarSize:0;return c.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:l-p,currentOffset:a,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var o=n.scrollLeft,r=t._getCalculatedScrollLeft(e,n);return"number"==typeof r&&r>=0&&o!==r?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:r,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,o=e.rowCount,r=e.scrollToAlignment,i=e.scrollToRow,l=e.width,a=t.scrollTop,c=t.instanceProps;if(o>0){var s=o-1,u=i<0?s:Math.min(s,i),d=c.columnSizeAndPositionManager.getTotalSize(),p=c.scrollbarSizeMeasured&&d>l?c.scrollbarSize:0;return c.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:n-p,currentOffset:a,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var o=n.scrollTop,r=t._getCalculatedScrollTop(e,n);return"number"==typeof r&&r>=0&&o!==r?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:r}):{}}}]),t}(g.PureComponent),f()(L,"propTypes",null),z);f()(Y,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,o=e.columnSizeAndPositionManager,r=e.columnStartIndex,i=e.columnStopIndex,l=e.deferredMeasurementCache,a=e.horizontalOffsetAdjustment,c=e.isScrolling,s=e.isScrollingOptOut,u=e.parent,d=e.rowSizeAndPositionManager,p=e.rowStartIndex,b=e.rowStopIndex,m=e.styleCache,h=e.verticalOffsetAdjustment,f=e.visibleColumnIndices,g=e.visibleRowIndices,O=[],v=o.areOffsetsAdjusted()||d.areOffsetsAdjusted(),_=!c&&!v,y=p;y<=b;y++)for(var j=d.getSizeAndPositionOfCell(y),E=r;E<=i;E++){var S=o.getSizeAndPositionOfCell(E),k=E>=f.start&&E<=f.stop&&y>=g.start&&y<=g.stop,w="".concat(y,"-").concat(E),C=void 0;_&&m[w]?C=m[w]:l&&!l.has(y,E)?C={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(C={height:j.size,left:S.offset+a,position:"absolute",top:j.offset+h,width:S.size},m[w]=C);var x={columnIndex:E,isScrolling:c,isVisible:k,key:w,parent:u,rowIndex:y,style:C},T=void 0;!s&&!c||a||h?T=n(x):(t[w]||(t[w]=n(x)),T=t[w]),null!=T&&!1!==T&&O.push(T)}return O},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:D,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,o=e.scrollDirection,r=e.startIndex,i=e.stopIndex;return 1===o?{overscanStartIndex:Math.max(0,r),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,r-n),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),y(Y);var q,X,Q=Y,Z=1;function J(e){var t=e.cellCount,n=e.overscanCellsCount,o=e.scrollDirection,r=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),o===Z?{overscanStartIndex:Math.max(0,r-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,r-n),overscanStopIndex:Math.min(t-1,i+1)}}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var te=(X=q=function(e){function t(){var e,n;r()(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(p()(n),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),f()(p()(n),"_columnStartIndex",0),f()(p()(n),"_columnStopIndex",0),f()(p()(n),"_rowStartIndex",0),f()(p()(n),"_rowStopIndex",0),f()(p()(n),"_onKeyDown",(function(e){var t=n.props,o=t.columnCount,r=t.disabled,i=t.mode,l=t.rowCount;if(!r){var a=n._getScrollState(),c=a.scrollToColumn,s=a.scrollToRow,u=n._getScrollState(),d=u.scrollToColumn,p=u.scrollToRow;switch(e.key){case"ArrowDown":p="cells"===i?Math.min(p+1,l-1):Math.min(n._rowStopIndex+1,l-1);break;case"ArrowLeft":d="cells"===i?Math.max(d-1,0):Math.max(n._columnStartIndex-1,0);break;case"ArrowRight":d="cells"===i?Math.min(d+1,o-1):Math.min(n._columnStopIndex+1,o-1);break;case"ArrowUp":p="cells"===i?Math.max(p-1,0):Math.max(n._rowStartIndex-1,0)}d===c&&p===s||(e.preventDefault(),n._updateScrollState({scrollToColumn:d,scrollToRow:p}))}})),f()(p()(n),"_onSectionRendered",(function(e){var t=e.columnStartIndex,o=e.columnStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;n._columnStartIndex=t,n._columnStopIndex=o,n._rowStartIndex=r,n._rowStopIndex=i})),n}return m()(t,e),l()(t,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,o=this._getScrollState(),r=o.scrollToColumn,i=o.scrollToRow;return g.createElement("div",{className:t,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:r,scrollToRow:i}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow,o=this.props,r=o.isControlled,i=o.onScrollToChange;"function"==typeof i&&i({scrollToColumn:t,scrollToRow:n}),r||this.setState({scrollToColumn:t,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?{}:e.scrollToColumn!==t.instanceProps.prevScrollToColumn||e.scrollToRow!==t.instanceProps.prevScrollToRow?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow,instanceProps:{prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow}}):{}}}]),t}(g.PureComponent),f()(q,"propTypes",null),X);f()(te,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),y(te);var ne,oe,re=n(121);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=(oe=ne=function(e){function t(){var e,n;r()(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(p()(n),"state",{height:n.props.defaultHeight||0,width:n.props.defaultWidth||0}),f()(p()(n),"_parentNode",void 0),f()(p()(n),"_autoSizer",void 0),f()(p()(n),"_window",void 0),f()(p()(n),"_detectElementResize",void 0),f()(p()(n),"_onResize",(function(){var e=n.props,t=e.disableHeight,o=e.disableWidth,r=e.onResize;if(n._parentNode){var i=n._parentNode.offsetHeight||0,l=n._parentNode.offsetWidth||0,a=(n._window||window).getComputedStyle(n._parentNode)||{},c=parseInt(a.paddingLeft,10)||0,s=parseInt(a.paddingRight,10)||0,u=parseInt(a.paddingTop,10)||0,d=parseInt(a.paddingBottom,10)||0,p=i-u-d,b=l-c-s;(!t&&n.state.height!==p||!o&&n.state.width!==b)&&(n.setState({height:i-u-d,width:l-c-s}),r({height:i,width:l}))}})),f()(p()(n),"_setRef",(function(e){n._autoSizer=e})),n}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(re.a)(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.disableHeight,r=e.disableWidth,i=e.style,l=this.state,a=l.height,c=l.width,s={overflow:"visible"},u={};return o||(s.height=0,u.height=a),r||(s.width=0,u.width=c),g.createElement("div",{className:n,ref:this._setRef,style:le({},s,{},i)},t(u))}}]),t}(g.Component),f()(ne,"propTypes",null),oe);f()(ae,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var ce,se,ue=n(64),de=(se=ce=function(e){function t(){var e,n;r()(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(p()(n),"_child",void 0),f()(p()(n),"_measure",(function(){var e=n.props,t=e.cache,o=e.columnIndex,r=void 0===o?0:o,i=e.parent,l=e.rowIndex,a=void 0===l?n.props.index||0:l,c=n._getCellMeasurements(),s=c.height,u=c.width;s===t.getHeight(a,r)&&u===t.getWidth(a,r)||(t.set(a,r,u,s),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:r,rowIndex:a}))})),f()(p()(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=e,e&&n._maybeMeasureCell()})),n}return m()(t,e),l()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child||Object(ue.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,o=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var r=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),o&&(t.style.height=o),{height:r,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,o=void 0===n?0:n,r=e.parent,i=e.rowIndex,l=void 0===i?this.props.index||0:i;if(!t.has(l,o)){var a=this._getCellMeasurements(),c=a.height,s=a.width;t.set(l,o,s,c),r&&"function"==typeof r.invalidateCellSizeAfterRender&&r.invalidateCellSizeAfterRender({columnIndex:o,rowIndex:l})}}}]),t}(g.PureComponent),f()(ce,"propTypes",null),se);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}f()(de,"__internalCellMeasurerFlag",!1);var me="requested",he=function(e){function t(){var e,n;r()(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(p()(n),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),f()(p()(n),"_calculateSizeAndPositionDataOnNextUpdate",!1),f()(p()(n),"_onSectionRenderedMemoizer",P()),f()(p()(n),"_onScrollMemoizer",P(!1)),f()(p()(n),"_invokeOnSectionRenderedHelper",(function(){var e=n.props,t=e.cellLayoutManager,o=e.onSectionRendered;n._onSectionRenderedMemoizer({callback:o,indices:{indices:t.getLastRenderedIndices()}})})),f()(p()(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),f()(p()(n),"_updateScrollPositionForScrollToCell",(function(){var e=n.props,t=e.cellLayoutManager,o=e.height,r=e.scrollToAlignment,i=e.scrollToCell,l=e.width,a=n.state,c=a.scrollLeft,s=a.scrollTop;if(i>=0){var u=t.getScrollPositionForCell({align:r,cellIndex:i,height:o,scrollLeft:c,scrollTop:s,width:l});u.scrollLeft===c&&u.scrollTop===s||n._setScrollPosition(u)}})),f()(p()(n),"_onScroll",(function(e){if(e.target===n._scrollingContainer){n._enablePointerEventsAfterDelay();var t=n.props,o=t.cellLayoutManager,r=t.height,i=t.isScrollingChange,l=t.width,a=n._scrollbarSize,c=o.getTotalSize(),s=c.height,u=c.width,d=Math.max(0,Math.min(u-l+a,e.target.scrollLeft)),p=Math.max(0,Math.min(s-r+a,e.target.scrollTop));if(n.state.scrollLeft!==d||n.state.scrollTop!==p){var b=e.cancelable?"observed":me;n.state.isScrolling||i(!0),n.setState({isScrolling:!0,scrollLeft:d,scrollPositionChangeReason:b,scrollTop:p})}n._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:p,totalWidth:u,totalHeight:s})}})),n._scrollbarSize=D(),void 0===n._scrollbarSize?(n._scrollbarSizeMeasured=!1,n._scrollbarSize=0):n._scrollbarSizeMeasured=!0,n}return m()(t,e),l()(t,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,n=e.scrollLeft,o=e.scrollToCell,r=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=D(),this._scrollbarSizeMeasured=!0,this.setState({})),o>=0?this._updateScrollPositionForScrollToCell():(n>=0||r>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:r}),this._invokeOnSectionRenderedHelper();var i=t.getTotalSize(),l=i.height,a=i.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:r||0,totalHeight:l,totalWidth:a})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,o=n.height,r=n.scrollToAlignment,i=n.scrollToCell,l=n.width,a=this.state,c=a.scrollLeft,s=a.scrollPositionChangeReason,u=a.scrollTop;s===me&&(c>=0&&c!==t.scrollLeft&&c!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=c),u>=0&&u!==t.scrollTop&&u!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=u)),o===e.height&&r===e.scrollToAlignment&&i===e.scrollToCell&&l===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoHeight,n=e.cellCount,o=e.cellLayoutManager,r=e.className,i=e.height,l=e.horizontalOverscanSize,a=e.id,c=e.noContentRenderer,s=e.style,u=e.verticalOverscanSize,d=e.width,p=this.state,b=p.isScrolling,m=p.scrollLeft,h=p.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==o||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=o,this._calculateSizeAndPositionDataOnNextUpdate=!1,o.calculateSizeAndPositionData());var f=o.getTotalSize(),O=f.height,v=f.width,_=Math.max(0,m-l),y=Math.max(0,h-u),j=Math.min(v,m+d+l),E=Math.min(O,h+i+u),S=i>0&&d>0?o.cellRenderers({height:E-y,isScrolling:b,width:j-_,x:_,y:y}):[],w={boxSizing:"border-box",direction:"ltr",height:t?"auto":i,position:"relative",WebkitOverflowScrolling:"touch",width:d,willChange:"transform"},C=O>i?this._scrollbarSize:0,x=v>d?this._scrollbarSize:0;return w.overflowX=v+C<=d?"hidden":"auto",w.overflowY=O+x<=i?"hidden":"auto",g.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:k("ReactVirtualized__Collection",r),id:a,onScroll:this._onScroll,role:"grid",style:be({},w,{},s),tabIndex:0},n>0&&g.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:O,maxHeight:O,maxWidth:v,overflow:"hidden",pointerEvents:b?"none":"",width:v}},S),0===n&&c())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,o=e.scrollTop,r=e.totalHeight,i=e.totalWidth;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,o=e.scrollTop,l=t.props,a=l.height;(0,l.onScroll)({clientHeight:a,clientWidth:l.width,scrollHeight:r,scrollLeft:n,scrollTop:o,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:o}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,n=e.scrollTop,o={scrollPositionChangeReason:me};t>=0&&(o.scrollLeft=t),n>=0&&(o.scrollTop=n),(t>=0&&t!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(o)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop,scrollPositionChangeReason:me}:null:{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:me}}}]),t}(g.PureComponent);f()(he,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),he.propTypes={},y(he);var fe=he,ge=function(){function e(t){var n=t.height,o=t.width,i=t.x,l=t.y;r()(this,e),this.height=n,this.width=o,this.x=i,this.y=l,this._indexMap={},this._indices=[]}return l()(e,[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),e}(),Oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;r()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return l()(e,[{key:"getCellIndices",value:function(e){var t=e.height,n=e.width,o=e.x,r=e.y,i={};return this.getSections({height:t,width:n,x:o,y:r}).forEach((function(e){return e.getCellIndices().forEach((function(e){i[e]=e}))})),Object.keys(i).map((function(e){return i[e]}))}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,n=e.width,o=e.x,r=e.y,i=Math.floor(o/this._sectionSize),l=Math.floor((o+n-1)/this._sectionSize),a=Math.floor(r/this._sectionSize),c=Math.floor((r+t-1)/this._sectionSize),s=[],u=i;u<=l;u++)for(var d=a;d<=c;d++){var p="".concat(u,".").concat(d);this._sections[p]||(this._sections[p]=new ge({height:this._sectionSize,width:this._sectionSize,x:u*this._sectionSize,y:d*this._sectionSize})),s.push(this._sections[p])}return s}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var e=this;return Object.keys(this._sections).map((function(t){return e._sections[t].toString()}))}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,n=e.index;this._cellMetadata[n]=t,this.getSections(t).forEach((function(e){return e.addCellIndex({index:n})}))}}]),e}();function ve(e){var t=e.align,n=void 0===t?"auto":t,o=e.cellOffset,r=e.cellSize,i=e.containerSize,l=e.currentOffset,a=o,c=a-i+r;switch(n){case"start":return a;case"end":return c;case"center":return a-(i-r)/2;default:return Math.max(c,Math.min(a,l))}}var _e=function(e){function t(e,n){var o;return r()(this,t),(o=c()(this,u()(t).call(this,e,n)))._cellMetadata=[],o._lastRenderedCellIndices=[],o._cellCache=[],o._isScrollingChange=o._isScrollingChange.bind(p()(o)),o._setCollectionViewRef=o._setCollectionViewRef.bind(p()(o)),o}return m()(t,e),l()(t,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=E()({},this.props);return g.createElement(fe,E()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=function(e){for(var t=e.cellCount,n=e.cellSizeAndPositionGetter,o=[],r=new Oe(e.sectionSize),i=0,l=0,a=0;a<t;a++){var c=n({index:a});if(null==c.height||isNaN(c.height)||null==c.width||isNaN(c.width)||null==c.x||isNaN(c.x)||null==c.y||isNaN(c.y))throw Error("Invalid metadata returned for cell ".concat(a,":\n        x:").concat(c.x,", y:").concat(c.y,", width:").concat(c.width,", height:").concat(c.height));i=Math.max(i,c.y+c.height),l=Math.max(l,c.x+c.width),o[a]=c,r.registerCell({cellMetadatum:c,index:a})}return{cellMetadata:o,height:i,sectionManager:r,width:l}}({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,n=e.cellIndex,o=e.height,r=e.scrollLeft,i=e.scrollTop,l=e.width,a=this.props.cellCount;if(n>=0&&n<a){var c=this._cellMetadata[n];r=ve({align:t,cellOffset:c.x,cellSize:c.width,containerSize:l,currentOffset:r,targetIndex:n}),i=ve({align:t,cellOffset:c.y,cellSize:c.height,containerSize:o,currentOffset:i,targetIndex:n})}return{scrollLeft:r,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,n=e.height,o=e.isScrolling,r=e.width,i=e.x,l=e.y,a=this.props,c=a.cellGroupRenderer,s=a.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:r,x:i,y:l}),c({cellCache:this._cellCache,cellRenderer:s,cellSizeAndPositionGetter:function(e){var n=e.index;return t._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:o})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}]),t}(g.PureComponent);f()(_e,"defaultProps",{"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,n=e.cellRenderer,o=e.cellSizeAndPositionGetter,r=e.indices,i=e.isScrolling;return r.map((function(e){var r=o({index:e}),l={index:e,isScrolling:i,key:e,style:{height:r.height,left:r.x,position:"absolute",top:r.y,width:r.width}};return i?(e in t||(t[e]=n(l)),t[e]):n(l)})).filter((function(e){return!!e}))}}),_e.propTypes={},(function(e){function t(e,n){var o;return r()(this,t),(o=c()(this,u()(t).call(this,e,n)))._registerChild=o._registerChild.bind(p()(o)),o}return m()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.columnMaxWidth,o=t.columnMinWidth,r=t.columnCount,i=t.width;n===e.columnMaxWidth&&o===e.columnMinWidth&&r===e.columnCount&&i===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.columnMaxWidth,o=e.columnMinWidth,r=e.columnCount,i=e.width,l=o||1,a=n?Math.min(n,i):i,c=i/r;return c=Math.max(l,c),c=Math.min(a,c),c=Math.floor(c),t({adjustedWidth:Math.min(i,c*r),columnWidth:c,getColumnWidth:function(){return c},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!=typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),t}(g.PureComponent)).propTypes={};var ye=n(196),je=n.n(ye),Ee=function(e){function t(e,n){var o;return r()(this,t),(o=c()(this,u()(t).call(this,e,n)))._loadMoreRowsMemoizer=P(),o._onRowsRendered=o._onRowsRendered.bind(p()(o)),o._registerChild=o._registerChild.bind(p()(o)),o}return m()(t,e),l()(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=P(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreRows;e.forEach((function(e){var o=n(e);o&&o.then((function(){var n;(n={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex}).startIndex>n.lastRenderedStopIndex||n.stopIndex<n.lastRenderedStartIndex||t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;n?n.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,n=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=n,this._doStuff(t,n)}},{key:"_doStuff",value:function(e,t){var n,o=this,r=this.props,i=r.isRowLoaded,l=r.minimumBatchSize,a=r.rowCount,c=r.threshold,s=function(e){for(var t=e.isRowLoaded,n=e.minimumBatchSize,o=e.rowCount,r=e.stopIndex,i=[],l=null,a=null,c=e.startIndex;c<=r;c++)t({index:c})?null!==a&&(i.push({startIndex:l,stopIndex:a}),l=a=null):(a=c,null===l&&(l=c));if(null!==a){for(var s=Math.min(Math.max(a,l+n-1),o-1),u=a+1;u<=s&&!t({index:u});u++)a=u;i.push({startIndex:l,stopIndex:a})}if(i.length)for(var d=i[0];d.stopIndex-d.startIndex+1<n&&d.startIndex>0;){var p=d.startIndex-1;if(t({index:p}))break;d.startIndex=p}return i}({isRowLoaded:i,minimumBatchSize:l,rowCount:a,startIndex:Math.max(0,e-c),stopIndex:Math.min(a-1,t+c)}),u=(n=[]).concat.apply(n,je()(s.map((function(e){return[e.startIndex,e.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function(){o._loadUnloadedRanges(s)},indices:{squashedUnloadedRanges:u}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),t}(g.PureComponent);f()(Ee,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),Ee.propTypes={};var Se,ke,we=(ke=Se=function(e){function t(){var e,n;r()(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(p()(n),"Grid",void 0),f()(p()(n),"_cellRenderer",(function(e){var t=e.parent,o=e.rowIndex,r=e.style,i=e.isScrolling,l=e.isVisible,a=e.key,c=n.props.rowRenderer,s=Object.getOwnPropertyDescriptor(r,"width");return s&&s.writable&&(r.width="100%"),c({index:o,style:r,isScrolling:i,isVisible:l,key:a,parent:t})})),f()(p()(n),"_setRef",(function(e){n.Grid=e})),f()(p()(n),"_onScroll",(function(e){var t=e.clientHeight,o=e.scrollHeight,r=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:o,scrollTop:r})})),f()(p()(n),"_onSectionRendered",(function(e){var t=e.rowOverscanStartIndex,o=e.rowOverscanStopIndex,r=e.rowStartIndex,i=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:o,startIndex:r,stopIndex:i})})),n}return m()(t,e),l()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,o=e.scrollToIndex,r=e.width,i=k("ReactVirtualized__List",t);return g.createElement(Q,E()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:i,columnWidth:r,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:o}))}}]),t}(g.PureComponent),f()(Se,"propTypes",null),ke);f()(we,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:J,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var Ce=n(197),xe=n.n(Ce),Te=function(e,t,n,o,r){return"function"==typeof n?function(e,t,n,o,r){for(var i=n+1;t<=n;){var l=t+n>>>1;r(e[l],o)>=0?(i=l,n=l-1):t=l+1}return i}(e,void 0===o?0:0|o,void 0===r?e.length-1:0|r,t,n):function(e,t,n,o){for(var r=n+1;t<=n;){var i=t+n>>>1;e[i]>=o?(r=i,n=i-1):t=i+1}return r}(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t)},Ie=0,Pe=1;function Re(e,t,n,o,r){this.mid=e,this.left=t,this.right=n,this.leftPoints=o,this.rightPoints=r,this.count=(t?t.count:0)+(n?n.count:0)+o.length}var Me=Re.prototype;function Ae(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function Ne(e,t){var n=We(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function De(e,t){var n=e.intervals([]);n.push(t),Ne(e,n)}function Le(e,t){var n=e.intervals([]),o=n.indexOf(t);return o<0?Ie:(n.splice(o,1),Ne(e,n),Pe)}function ze(e,t,n){for(var o=0;o<e.length&&e[o][0]<=t;++o){var r=n(e[o]);if(r)return r}}function Be(e,t,n){for(var o=e.length-1;o>=0&&e[o][1]>=t;--o){var r=n(e[o]);if(r)return r}}function Fe(e,t){for(var n=0;n<e.length;++n){var o=t(e[n]);if(o)return o}}function Ge(e,t){return e-t}function He(e,t){return e[0]-t[0]||e[1]-t[1]}function Ue(e,t){return e[1]-t[1]||e[0]-t[0]}function We(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(Ge);var o=t[t.length>>1],r=[],i=[],l=[];for(n=0;n<e.length;++n){var a=e[n];a[1]<o?r.push(a):o<a[0]?i.push(a):l.push(a)}var c=l,s=l.slice();return c.sort(He),s.sort(Ue),new Re(o,We(r),We(i),c,s)}function Ve(e){this.root=e}Me.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},Me.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?De(this,e):this.left.insert(e):this.left=We([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?De(this,e):this.right.insert(e):this.right=We([e]);else{var n=Te(this.leftPoints,e,He),o=Te(this.rightPoints,e,Ue);this.leftPoints.splice(n,0,e),this.rightPoints.splice(o,0,e)}},Me.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?Le(this,e):2===(i=this.left.remove(e))?(this.left=null,this.count-=1,Pe):(i===Pe&&(this.count-=1),i):Ie;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?Le(this,e):2===(i=this.right.remove(e))?(this.right=null,this.count-=1,Pe):(i===Pe&&(this.count-=1),i):Ie;if(1===this.count)return this.leftPoints[0]===e?2:Ie;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,o=this.left;o.right;)n=o,o=o.right;if(n===this)o.right=this.right;else{var r=this.left,i=this.right;n.count-=o.count,n.right=o.left,o.left=r,o.right=i}Ae(this,o),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Ae(this,this.left):Ae(this,this.right);return Pe}for(r=Te(this.leftPoints,e,He);r<this.leftPoints.length&&this.leftPoints[r][0]===e[0];++r)if(this.leftPoints[r]===e)for(this.count-=1,this.leftPoints.splice(r,1),i=Te(this.rightPoints,e,Ue);i<this.rightPoints.length&&this.rightPoints[i][1]===e[1];++i)if(this.rightPoints[i]===e)return this.rightPoints.splice(i,1),Pe;return Ie},Me.queryPoint=function(e,t){return e<this.mid?this.left&&(n=this.left.queryPoint(e,t))?n:ze(this.leftPoints,e,t):e>this.mid?this.right&&(n=this.right.queryPoint(e,t))?n:Be(this.rightPoints,e,t):Fe(this.leftPoints,t);var n},Me.queryInterval=function(e,t,n){var o;return e<this.mid&&this.left&&(o=this.left.queryInterval(e,t,n))||t>this.mid&&this.right&&(o=this.right.queryInterval(e,t,n))?o:t<this.mid?ze(this.leftPoints,t,n):e>this.mid?Be(this.rightPoints,e,n):Fe(this.leftPoints,n)};var Ke=Ve.prototype;Ke.insert=function(e){this.root?this.root.insert(e):this.root=new Re(e[0],null,null,[e],[e])},Ke.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==Ie}return!1},Ke.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},Ke.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(Ke,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(Ke,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var $e,Ye,qe=function(){function e(){r()(this,e),f()(this,"_columnSizeMap",{}),f()(this,"_intervalTree",new Ve(null)),f()(this,"_leftMap",{})}return l()(e,[{key:"estimateTotalHeight",value:function(e,t,n){var o=e-this.count;return this.tallestColumnSize+Math.ceil(o/t)*n}},{key:"range",value:function(e,t,n){var o=this;this._intervalTree.queryInterval(e,e+t,(function(e){var t=xe()(e,3),r=t[0],i=(t[1],t[2]);return n(i,o._leftMap[i],r)}))}},{key:"setPosition",value:function(e,t,n,o){this._intervalTree.insert([n,n+o,e]),this._leftMap[e]=t;var r=this._columnSizeMap,i=r[t];r[t]=void 0===i?n+o:Math.max(i,n+o)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var o=e[n];t=0===t?o:Math.min(t,o)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var o=e[n];t=Math.max(t,o)}return t}}]),e}();function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(n,!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=(Ye=$e=function(e){function t(){var e,n;r()(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(p()(n),"state",{isScrolling:!1,scrollTop:0}),f()(p()(n),"_debounceResetIsScrollingId",void 0),f()(p()(n),"_invalidateOnUpdateStartIndex",null),f()(p()(n),"_invalidateOnUpdateStopIndex",null),f()(p()(n),"_positionCache",new qe),f()(p()(n),"_startIndex",null),f()(p()(n),"_startIndexMemoized",null),f()(p()(n),"_stopIndex",null),f()(p()(n),"_stopIndexMemoized",null),f()(p()(n),"_debounceResetIsScrollingCallback",(function(){n.setState({isScrolling:!1})})),f()(p()(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),f()(p()(n),"_onScroll",(function(e){var t=n.props.height,o=e.currentTarget.scrollTop,r=Math.min(Math.max(0,n._getEstimatedTotalHeight()-t),o);o===r&&(n._debounceResetIsScrolling(),n.state.scrollTop!==r&&n.setState({isScrolling:!0,scrollTop:r}))})),n}return m()(t,e),l()(t,[{key:"clearCellPositions",value:function(){this._positionCache=new qe,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new qe,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&U(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.autoHeight,r=n.cellCount,i=n.cellMeasurerCache,l=n.cellRenderer,a=n.className,c=n.height,s=n.id,u=n.keyMapper,d=n.overscanByPixels,p=n.role,b=n.style,m=n.tabIndex,h=n.width,O=n.rowDirection,v=this.state,_=v.isScrolling,y=v.scrollTop,j=[],E=this._getEstimatedTotalHeight(),S=this._positionCache.shortestColumnSize,w=this._positionCache.count,C=0;if(this._positionCache.range(Math.max(0,y-d),c+2*d,(function(n,o,r){var a;void 0===e?(C=n,e=n):(C=Math.min(C,n),e=Math.max(e,n)),j.push(l({index:n,isScrolling:_,key:u(n),parent:t,style:(a={height:i.getHeight(n)},f()(a,"ltr"===O?"left":"right",o),f()(a,"position","absolute"),f()(a,"top",r),f()(a,"width",i.getWidth(n)),a)}))})),S<y+c+d&&w<r)for(var x=Math.min(r-w,Math.ceil((y+c+d-S)/i.defaultHeight*h/i.defaultWidth)),T=w;T<w+x;T++)e=T,j.push(l({index:T,isScrolling:_,key:u(T),parent:this,style:{width:i.getWidth(T)}}));return this._startIndex=C,this._stopIndex=e,g.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:k("ReactVirtualized__Masonry",a),id:s,onScroll:this._onScroll,role:p,style:Qe({boxSizing:"border-box",direction:"ltr",height:o?"auto":c,overflowX:"hidden",overflowY:E<c?"hidden":"auto",position:"relative",width:h,WebkitOverflowScrolling:"touch",willChange:"transform"},b),tabIndex:m},g.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:E,maxWidth:"100%",maxHeight:E,overflow:"hidden",pointerEvents:_?"none":"",position:"relative"}},j))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&U(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=W(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,o=e.width,r=Math.max(1,Math.floor(o/n.defaultWidth));return this._positionCache.estimateTotalHeight(t,r,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,n=e.onScroll,o=this.state.scrollTop;this._onScrollMemoized!==o&&(n({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:o}),this._onScrollMemoized=o)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var n=this.props,o=n.cellMeasurerCache,r=n.cellPositioner,i=e;i<=t;i++){var l=r(i),a=l.left,c=l.top;this._positionCache.setPosition(i,a,c,o.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),t}(g.PureComponent),f()($e,"propTypes",null),Ye);function Je(){}f()(Ze,"defaultProps",{autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:Je,onScroll:Je,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"}),y(Ze);var et=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r()(this,e),f()(this,"_cellMeasurerCache",void 0),f()(this,"_columnIndexOffset",void 0),f()(this,"_rowIndexOffset",void 0),f()(this,"columnWidth",(function(e){var n=e.index;t._cellMeasurerCache.columnWidth({index:n+t._columnIndexOffset})})),f()(this,"rowHeight",(function(e){var n=e.index;t._cellMeasurerCache.rowHeight({index:n+t._rowIndexOffset})}));var o=n.cellMeasurerCache,i=n.columnIndexOffset,l=void 0===i?0:i,a=n.rowIndexOffset,c=void 0===a?0:a;this._cellMeasurerCache=o,this._columnIndexOffset=l,this._rowIndexOffset=c}return l()(e,[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,n,o){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,n,o)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),e}();function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=function(e){function t(e,n){var o;r()(this,t),o=c()(this,u()(t).call(this,e,n)),f()(p()(o),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),f()(p()(o),"_deferredInvalidateColumnIndex",null),f()(p()(o),"_deferredInvalidateRowIndex",null),f()(p()(o),"_bottomLeftGridRef",(function(e){o._bottomLeftGrid=e})),f()(p()(o),"_bottomRightGridRef",(function(e){o._bottomRightGrid=e})),f()(p()(o),"_cellRendererBottomLeftGrid",(function(e){var t=e.rowIndex,n=x()(e,["rowIndex"]),r=o.props,i=r.cellRenderer,l=r.fixedRowCount;return t===r.rowCount-l?g.createElement("div",{key:n.key,style:nt({},n.style,{height:20})}):i(nt({},n,{parent:p()(o),rowIndex:t+l}))})),f()(p()(o),"_cellRendererBottomRightGrid",(function(e){var t=e.columnIndex,n=e.rowIndex,r=x()(e,["columnIndex","rowIndex"]),i=o.props,l=i.cellRenderer,a=i.fixedColumnCount,c=i.fixedRowCount;return l(nt({},r,{columnIndex:t+a,parent:p()(o),rowIndex:n+c}))})),f()(p()(o),"_cellRendererTopRightGrid",(function(e){var t=e.columnIndex,n=x()(e,["columnIndex"]),r=o.props,i=r.cellRenderer,l=r.columnCount,a=r.fixedColumnCount;return t===l-a?g.createElement("div",{key:n.key,style:nt({},n.style,{width:20})}):i(nt({},n,{columnIndex:t+a,parent:p()(o)}))})),f()(p()(o),"_columnWidthRightGrid",(function(e){var t=e.index,n=o.props,r=n.columnCount,i=n.fixedColumnCount,l=n.columnWidth,a=o.state,c=a.scrollbarSize;return a.showHorizontalScrollbar&&t===r-i?c:"function"==typeof l?l({index:t+i}):l})),f()(p()(o),"_onScroll",(function(e){var t=e.scrollLeft,n=e.scrollTop;o.setState({scrollLeft:t,scrollTop:n});var r=o.props.onScroll;r&&r(e)})),f()(p()(o),"_onScrollbarPresenceChange",(function(e){var t=e.horizontal,n=e.size,r=e.vertical,i=o.state,l=i.showHorizontalScrollbar,a=i.showVerticalScrollbar;if(t!==l||r!==a){o.setState({scrollbarSize:n,showHorizontalScrollbar:t,showVerticalScrollbar:r});var c=o.props.onScrollbarPresenceChange;"function"==typeof c&&c({horizontal:t,size:n,vertical:r})}})),f()(p()(o),"_onScrollLeft",(function(e){var t=e.scrollLeft;o._onScroll({scrollLeft:t,scrollTop:o.state.scrollTop})})),f()(p()(o),"_onScrollTop",(function(e){var t=e.scrollTop;o._onScroll({scrollTop:t,scrollLeft:o.state.scrollLeft})})),f()(p()(o),"_rowHeightBottomGrid",(function(e){var t=e.index,n=o.props,r=n.fixedRowCount,i=n.rowCount,l=n.rowHeight,a=o.state,c=a.scrollbarSize;return a.showVerticalScrollbar&&t===i-r?c:"function"==typeof l?l({index:t+r}):l})),f()(p()(o),"_topLeftGridRef",(function(e){o._topLeftGrid=e})),f()(p()(o),"_topRightGridRef",(function(e){o._topRightGrid=e}));var i=e.deferredMeasurementCache,l=e.fixedColumnCount,a=e.fixedRowCount;return o._maybeCalculateCachedStyles(!0),i&&(o._deferredMeasurementCacheBottomLeftGrid=a>0?new et({cellMeasurerCache:i,columnIndexOffset:0,rowIndexOffset:a}):i,o._deferredMeasurementCacheBottomRightGrid=l>0||a>0?new et({cellMeasurerCache:i,columnIndexOffset:l,rowIndexOffset:a}):i,o._deferredMeasurementCacheTopRightGrid=l>0?new et({cellMeasurerCache:i,columnIndexOffset:l,rowIndexOffset:0}):i),o}return m()(t,e),l()(t,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,r):r}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o,i=this.props,l=i.fixedColumnCount,a=i.fixedRowCount,c=Math.max(0,n-l),s=Math.max(0,r-a);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:s}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:c,rowIndex:s}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:r}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:c,rowIndex:r}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,n=e.scrollTop;if(t>0||n>0){var o={};t>0&&(o.scrollLeft=t),n>0&&(o.scrollTop=n),this.setState(o)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,t=e.onScroll,n=e.onSectionRendered,o=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),r=(e.scrollTop,e.scrollToRow),i=x()(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var l=this.state,a=l.scrollLeft,c=l.scrollTop;return g.createElement("div",{style:this._containerOuterStyle},g.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(i),this._renderTopRightGrid(nt({},i,{onScroll:t,scrollLeft:a}))),g.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(nt({},i,{onScroll:t,scrollTop:c})),this._renderBottomRightGrid(nt({},i,{onScroll:t,onSectionRendered:n,scrollLeft:a,scrollToColumn:o,scrollToRow:r,scrollTop:c}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,n=e.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var o=0,r=0;r<t;r++)o+=n({index:r});this._leftGridWidth=o}else this._leftGridWidth=n*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,n=e.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var o=0,r=0;r<t;r++)o+=n({index:r});this._topGridHeight=o}else this._topGridHeight=n*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,n=t.columnWidth,o=t.enableFixedColumnScroll,r=t.enableFixedRowScroll,i=t.height,l=t.fixedColumnCount,a=t.fixedRowCount,c=t.rowHeight,s=t.style,u=t.styleBottomLeftGrid,d=t.styleBottomRightGrid,p=t.styleTopLeftGrid,b=t.styleTopRightGrid,m=t.width,h=e||i!==this._lastRenderedHeight||m!==this._lastRenderedWidth,f=e||n!==this._lastRenderedColumnWidth||l!==this._lastRenderedFixedColumnCount,g=e||a!==this._lastRenderedFixedRowCount||c!==this._lastRenderedRowHeight;(e||h||s!==this._lastRenderedStyle)&&(this._containerOuterStyle=nt({height:i,overflow:"visible",width:m},s)),(e||h||g)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:m},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:m}),(e||u!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=nt({left:0,overflowX:"hidden",overflowY:o?"auto":"hidden",position:"absolute"},u)),(e||f||d!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=nt({left:this._getLeftGridWidth(this.props),position:"absolute"},d)),(e||p!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=nt({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},p)),(e||f||b!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=nt({left:this._getLeftGridWidth(this.props),overflowX:r?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},b)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=l,this._lastRenderedFixedRowCount=a,this._lastRenderedHeight=i,this._lastRenderedRowHeight=c,this._lastRenderedStyle=s,this._lastRenderedStyleBottomLeftGrid=u,this._lastRenderedStyleBottomRightGrid=d,this._lastRenderedStyleTopLeftGrid=p,this._lastRenderedStyleTopRightGrid=b,this._lastRenderedWidth=m}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var t=e.enableFixedColumnScroll,n=e.fixedColumnCount,o=e.fixedRowCount,r=e.rowCount,i=e.hideBottomLeftGridScrollbar,l=this.state.showVerticalScrollbar;if(!n)return null;var a=l?1:0,c=this._getBottomGridHeight(e),s=this._getLeftGridWidth(e),u=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,d=i?s+u:s,p=g.createElement(Q,E()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:c,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,r-o)+a,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:d}));return i?g.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:nt({},this._bottomLeftGridStyle,{height:c,width:s,overflowY:"hidden"})},p):p}},{key:"_renderBottomRightGrid",value:function(e){var t=e.columnCount,n=e.fixedColumnCount,o=e.fixedRowCount,r=e.rowCount,i=e.scrollToColumn,l=e.scrollToRow;return g.createElement(Q,E()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,r-o),rowHeight:this._rowHeightBottomGrid,scrollToColumn:i-n,scrollToRow:l-o,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var t=e.fixedColumnCount,n=e.fixedRowCount;return t&&n?g.createElement(Q,E()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var t=e.columnCount,n=e.enableFixedRowScroll,o=e.fixedColumnCount,r=e.fixedRowCount,i=e.scrollLeft,l=e.hideTopRightGridScrollbar,a=this.state,c=a.showHorizontalScrollbar,s=a.scrollbarSize;if(!r)return null;var u=c?1:0,d=this._getTopGridHeight(e),p=this._getRightGridWidth(e),b=c?s:0,m=d,h=this._topRightGridStyle;l&&(m=d+b,h=nt({},this._topRightGridStyle,{left:0}));var f=g.createElement(Q,E()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-o)+u,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:r,scrollLeft:i,style:h,tabIndex:null,width:p}));return l?g.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:nt({},this._topRightGridStyle,{height:d,width:p,overflowX:"hidden"})},f):f}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}]),t}(g.PureComponent);function rt(e){var t=e.className,n=e.columns,o=e.style;return g.createElement("div",{className:t,role:"row",style:o},n)}f()(ot,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),ot.propTypes={},y(ot),(function(e){function t(e,n){var o;return r()(this,t),(o=c()(this,u()(t).call(this,e,n))).state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},o._onScroll=o._onScroll.bind(p()(o)),o}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.clientHeight,o=t.clientWidth,r=t.scrollHeight,i=t.scrollLeft,l=t.scrollTop,a=t.scrollWidth;return e({clientHeight:n,clientWidth:o,onScroll:this._onScroll,scrollHeight:r,scrollLeft:i,scrollTop:l,scrollWidth:a})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.clientWidth,o=e.scrollHeight,r=e.scrollLeft,i=e.scrollTop,l=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:o,scrollLeft:r,scrollTop:i,scrollWidth:l})}}]),t}(g.PureComponent)).propTypes={},rt.propTypes=null;var it={ASC:"ASC",DESC:"DESC"};function lt(e){var t=e.sortDirection,n=k("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===it.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===it.DESC});return g.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},t===it.ASC?g.createElement("path",{d:"M7 14l5-5 5 5z"}):g.createElement("path",{d:"M7 10l5 5 5-5z"}),g.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function at(e){var t=e.dataKey,n=e.label,o=e.sortBy,r=e.sortDirection,i=o===t,l=[g.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"==typeof n?n:null},n)];return i&&l.push(g.createElement(lt,{key:"SortIndicator",sortDirection:r})),l}function ct(e){var t=e.className,n=e.columns,o=e.index,r=e.key,i=e.onRowClick,l=e.onRowDoubleClick,a=e.onRowMouseOut,c=e.onRowMouseOver,s=e.onRowRightClick,u=e.rowData,d=e.style,p={"aria-rowindex":o+1};return(i||l||a||c||s)&&(p["aria-label"]="row",p.tabIndex=0,i&&(p.onClick=function(e){return i({event:e,index:o,rowData:u})}),l&&(p.onDoubleClick=function(e){return l({event:e,index:o,rowData:u})}),a&&(p.onMouseOut=function(e){return a({event:e,index:o,rowData:u})}),c&&(p.onMouseOver=function(e){return c({event:e,index:o,rowData:u})}),s&&(p.onContextMenu=function(e){return s({event:e,index:o,rowData:u})})),g.createElement("div",E()({},p,{className:t,key:r,role:"row",style:d}),n)}lt.propTypes={},at.propTypes=null,ct.propTypes=null;var st=function(e){function t(){return r()(this,t),c()(this,u()(t).apply(this,arguments))}return m()(t,e),t}(g.Component);function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(n,!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}f()(st,"defaultProps",{cellDataGetter:function(e){var t=e.dataKey,n=e.rowData;return"function"==typeof n.get?n.get(t):n[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:it.ASC,flexGrow:0,flexShrink:1,headerRenderer:at,style:{}}),st.propTypes={};var pt=function(e){function t(e){var n;return r()(this,t),(n=c()(this,u()(t).call(this,e))).state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(p()(n)),n._createRow=n._createRow.bind(p()(n)),n._onScroll=n._onScroll.bind(p()(n)),n._onSectionRendered=n._onSectionRendered.bind(p()(n)),n._setRef=n._setRef.bind(p()(n)),n}return m()(t,e),l()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,o=e.rowIndex,r=void 0===o?0:o;this.Grid&&this.Grid.recomputeGridSize({rowIndex:r,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var e=Object(ue.findDOMNode)(this.Grid),t=e.clientWidth||0;return(e.offsetWidth||0)-t}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.className,r=t.disableHeader,i=t.gridClassName,l=t.gridStyle,a=t.headerHeight,c=t.headerRowRenderer,s=t.height,u=t.id,d=t.noRowsRenderer,p=t.rowClassName,b=t.rowStyle,m=t.scrollToIndex,h=t.style,f=t.width,O=this.state.scrollbarWidth,v=r?s:s-a,_="function"==typeof p?p({index:-1}):p,y="function"==typeof b?b({index:-1}):b;return this._cachedColumnStyles=[],g.Children.toArray(n).forEach((function(t,n){var o=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[n]=dt({overflow:"hidden"},o)})),g.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":g.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:k("ReactVirtualized__Table",o),id:u,role:"grid",style:h},!r&&c({className:k("ReactVirtualized__Table__headerRow",_),columns:this._getHeaderColumns(),style:dt({height:a,overflow:"hidden",paddingRight:O,width:f},y)}),g.createElement(Q,E()({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:k("ReactVirtualized__Table__Grid",i),cellRenderer:this._createRow,columnWidth:f,columnCount:1,height:v,id:void 0,noContentRenderer:d,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:O,scrollToRow:m,style:dt({},l,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,n=e.columnIndex,o=e.isScrolling,r=e.parent,i=e.rowData,l=e.rowIndex,a=this.props.onColumnClick,c=t.props,s=c.cellDataGetter,u=c.cellRenderer,d=c.className,p=c.columnData,b=c.dataKey,m=c.id,h=u({cellData:s({columnData:p,dataKey:b,rowData:i}),columnData:p,columnIndex:n,dataKey:b,isScrolling:o,parent:r,rowData:i,rowIndex:l}),f=this._cachedColumnStyles[n],O="string"==typeof h?h:null;return g.createElement("div",{"aria-colindex":n+1,"aria-describedby":m,className:k("ReactVirtualized__Table__rowColumn",d),key:"Row"+l+"-Col"+n,onClick:function(e){a&&a({columnData:p,dataKey:b,event:e})},role:"gridcell",style:f,title:O},h)}},{key:"_createHeader",value:function(e){var t,n,o,r,i,l=e.column,a=e.index,c=this.props,s=c.headerClassName,u=c.headerStyle,d=c.onHeaderClick,p=c.sort,b=c.sortBy,m=c.sortDirection,h=l.props,f=h.columnData,O=h.dataKey,v=h.defaultSortDirection,_=h.disableSort,y=h.headerRenderer,j=h.id,E=h.label,S=!_&&p,w=k("ReactVirtualized__Table__headerColumn",s,l.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:S}),C=this._getFlexStyleForColumn(l,dt({},u,{},l.props.headerStyle)),x=y({columnData:f,dataKey:O,disableSort:_,label:E,sortBy:b,sortDirection:m});if(S||d){var T=b!==O?v:m===it.DESC?it.ASC:it.DESC,I=function(e){S&&p({defaultSortDirection:v,event:e,sortBy:O,sortDirection:T}),d&&d({columnData:f,dataKey:O,event:e})};i=l.props["aria-label"]||E||O,r="none",o=0,t=I,n=function(e){"Enter"!==e.key&&" "!==e.key||I(e)}}return b===O&&(r=m===it.ASC?"ascending":"descending"),g.createElement("div",{"aria-label":i,"aria-sort":r,className:w,id:j,key:"Header-Col"+a,onClick:t,onKeyDown:n,role:"columnheader",style:C,tabIndex:o},x)}},{key:"_createRow",value:function(e){var t=this,n=e.rowIndex,o=e.isScrolling,r=e.key,i=e.parent,l=e.style,a=this.props,c=a.children,s=a.onRowClick,u=a.onRowDoubleClick,d=a.onRowRightClick,p=a.onRowMouseOver,b=a.onRowMouseOut,m=a.rowClassName,h=a.rowGetter,f=a.rowRenderer,O=a.rowStyle,v=this.state.scrollbarWidth,_="function"==typeof m?m({index:n}):m,y="function"==typeof O?O({index:n}):O,j=h({index:n}),E=g.Children.toArray(c).map((function(e,r){return t._createColumn({column:e,columnIndex:r,isScrolling:o,parent:i,rowData:j,rowIndex:n,scrollbarWidth:v})})),S=k("ReactVirtualized__Table__row",_),w=dt({},l,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:v},y);return f({className:S,columns:E,index:n,isScrolling:o,key:r,onRowClick:s,onRowDoubleClick:u,onRowRightClick:d,onRowMouseOver:p,onRowMouseOut:b,rowData:j,style:w})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat(e.props.flexGrow," ").concat(e.props.flexShrink," ").concat(e.props.width,"px"),o=dt({},t,{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(o.maxWidth=e.props.maxWidth),e.props.minWidth&&(o.minWidth=e.props.minWidth),o}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,n=t.children;return(t.disableHeader?[]:g.Children.toArray(n)).map((function(t,n){return e._createHeader({column:t,index:n})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,o=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:o})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,o=e.rowStartIndex,r=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:o,stopIndex:r})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){var e=this.getScrollbarWidth();this.setState({scrollbarWidth:e})}}]),t}(g.PureComponent);f()(pt,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:J,overscanRowCount:10,rowRenderer:ct,headerRowRenderer:rt,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),pt.propTypes={};var bt=[],mt=null,ht=null;function ft(){ht&&(ht=null,document.body&&null!=mt&&(document.body.style.pointerEvents=mt),mt=null)}function gt(){ft(),bt.forEach((function(e){return e.__resetIsScrolling()}))}function Ot(e){e.currentTarget===window&&null==mt&&document.body&&(mt=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){ht&&U(ht);var e=0;bt.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),ht=W(gt,e)}(),bt.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function vt(e,t){bt.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",Ot),bt.push(e)}function _t(e,t){(bt=bt.filter((function(t){return t!==e}))).length||(t.removeEventListener("scroll",Ot),ht&&(U(ht),ft()))}var yt,jt,Et=function(e){return e===window},St=function(e){return e.getBoundingClientRect()};function kt(e,t){if(e){if(Et(e)){var n=window,o=n.innerHeight,r=n.innerWidth;return{height:"number"==typeof o?o:0,width:"number"==typeof r?r:0}}return St(e)}return{height:t.serverHeight,width:t.serverWidth}}function wt(e){return Et(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var xt=function(){return"undefined"!=typeof window?window:void 0},Tt=(jt=yt=function(e){function t(){var e,n;r()(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),f()(p()(n),"_window",xt()),f()(p()(n),"_isMounted",!1),f()(p()(n),"_positionFromTop",0),f()(p()(n),"_positionFromLeft",0),f()(p()(n),"_detectElementResize",void 0),f()(p()(n),"_child",void 0),f()(p()(n),"state",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(n,!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},kt(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),f()(p()(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=e,n.updatePosition()})),f()(p()(n),"_onChildScroll",(function(e){var t=e.scrollTop;if(n.state.scrollTop!==t){var o=n.props.scrollElement;o&&("function"==typeof o.scrollTo?o.scrollTo(0,t+n._positionFromTop):o.scrollTop=t+n._positionFromTop)}})),f()(p()(n),"_registerResizeListener",(function(e){e===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(e,n._onResize)})),f()(p()(n),"_unregisterResizeListener",(function(e){e===window?window.removeEventListener("resize",n._onResize,!1):e&&n._detectElementResize.removeResizeListener(e,n._onResize)})),f()(p()(n),"_onResize",(function(){n.updatePosition()})),f()(p()(n),"__handleWindowScrollEvent",(function(){if(n._isMounted){var e=n.props.onScroll,t=n.props.scrollElement;if(t){var o=wt(t),r=Math.max(0,o.left-n._positionFromLeft),i=Math.max(0,o.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:r,scrollTop:i}),e({scrollLeft:r,scrollTop:i})}}})),f()(p()(n),"__resetIsScrolling",(function(){n.setState({isScrolling:!1})})),n}return m()(t,e),l()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,n=this.state,o=n.height,r=n.width,i=this._child||ue.findDOMNode(this);if(i instanceof Element&&e){var l=function(e,t){if(Et(t)&&document.documentElement){var n=document.documentElement,o=St(e),r=St(n);return{top:o.top-r.top,left:o.left-r.left}}var i=wt(t),l=St(e),a=St(t);return{top:l.top+i.top-a.top,left:l.left+i.left-a.left}}(i,e);this._positionFromTop=l.top,this._positionFromLeft=l.left}var a=kt(e,this.props);o===a.height&&r===a.width||(this.setState({height:a.height,width:a.width}),t({height:a.height,width:a.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Object(re.a)(),this.updatePosition(e),e&&(vt(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.scrollElement,o=e.scrollElement;o!==n&&null!=o&&null!=n&&(this.updatePosition(n),_t(this,o),vt(this,n),this._unregisterResizeListener(o),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(_t(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,o=t.scrollTop,r=t.scrollLeft,i=t.height,l=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:n,scrollLeft:r,scrollTop:o,width:l})}}]),t}(g.PureComponent),f()(yt,"propTypes",null),jt);f()(Tt,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:xt(),serverHeight:0,serverWidth:0})},,,,,,,,,,,,,,,,function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},,,,,function(e,t,n){"use strict";function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}n.d(t,"a",(function(){return o}))},,function(e,t){!function(){e.exports=this.wp.mediaUtils}()},,,,,,,,,function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:l}catch(e){o=l}}();var c,s=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?s=c.concat(s):d=-1,s.length&&b())}function b(){if(!u){var e=a(p);u=!0;for(var t=s.length;t;){for(c=s,s=[];++d<t;)c&&c[d].run();d=-1,t=s.length}c=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new m(e,t)),1!==s.length||u||a(b)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t){!function(){e.exports=this.kubio.blockPatterns}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"STORE_KEY",{enumerable:!0,get:function(){return o.STORE_KEY}}),t.STORE_NAME=void 0;var o=n(24);const r=o.STORE_KEY;t.STORE_NAME=r},,,,function(e,t,n){"use strict";var o=n(184);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,l){if(l!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,function(e,t,n){var o=n(138).default,r=n(298);e.exports=function(e){var t=r(e,"string");return"symbol"===o(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(188);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},,,,,,,function(e,t,n){var o=n(301),r=n(302),i=n(189),l=n(303);e.exports=function(e){return o(e)||r(e)||i(e)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(304),r=n(305),i=n(189),l=n(306);e.exports=function(e,t){return o(e)||r(e,t)||i(e,t)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(307)},,,,,function(e,t,n){e.exports=n(561)},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"}));t.a=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"}));t.a=i},,,,,,,,,,,,,,function(e,t){!function(){e.exports=this.kubio.wpGlobalStyles}()},function(e,t){!function(){e.exports=this.wp.plugins}()},function(e,t,n){e.exports=n(578)},function(e,t){!function(){e.exports=this.wp.dataControls}()},,,,,function(e,t){!function(){e.exports=this.wp.blockLibrary}()},function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));t.a=i},,,,,,,function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));t.a=i},,,,,,,,,,,,,,,,,,function(e,t,n){var o=n(138).default;e.exports=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,o)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o=n(188);e.exports=function(e){if(Array.isArray(e))return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,_x,i,l=[],_n=!0,a=!1;try{if(_x=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;_n=!1}else for(;!(_n=(o=_x.call(n)).done)&&(l.push(o.value),l.length!==t);_n=!0);}catch(e){a=!0,r=e}finally{try{if(!_n&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(a)throw r}}return l}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var o;!function(n){"use strict";var r={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"Ae","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"Oe","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"Ue","Ű":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"ae","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"oe","ő":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"ue","ű":"u","ý":"y","þ":"th","ÿ":"y","ẞ":"SS","ا":"a","أ":"a","إ":"i","آ":"aa","ؤ":"u","ئ":"e","ء":"a","ب":"b","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ي":"y","ى":"a","ة":"h","ﻻ":"la","ﻷ":"laa","ﻹ":"lai","ﻵ":"laa","گ":"g","چ":"ch","پ":"p","ژ":"zh","ک":"k","ی":"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","က":"k","ခ":"kh","ဂ":"g","ဃ":"ga","င":"ng","စ":"s","ဆ":"sa","ဇ":"z","စျ":"za","ည":"ny","ဋ":"t","ဌ":"ta","ဍ":"d","ဎ":"da","ဏ":"na","တ":"t","ထ":"ta","ဒ":"d","ဓ":"da","န":"n","ပ":"p","ဖ":"pa","ဗ":"b","ဘ":"ba","မ":"m","ယ":"y","ရ":"ya","လ":"l","ဝ":"w","သ":"th","ဟ":"h","ဠ":"la","အ":"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h","ဧ":"e","၏":"-e","ဣ":"i","ဤ":"-i","ဉ":"u","ဦ":"-u","ဩ":"aw","သြော":"aw","ဪ":"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"","č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z","ހ":"h","ށ":"sh","ނ":"n","ރ":"r","ބ":"b","ޅ":"lh","ކ":"k","އ":"a","ވ":"v","މ":"m","ފ":"f","ދ":"dh","ތ":"th","ލ":"l","ގ":"g","ޏ":"gn","ސ":"s","ޑ":"d","ޒ":"z","ޓ":"t","ޔ":"y","ޕ":"p","ޖ":"j","ޗ":"ch","ޘ":"tt","ޙ":"hh","ޚ":"kh","ޛ":"th","ޜ":"z","ޝ":"sh","ޞ":"s","ޟ":"d","ޠ":"t","ޡ":"z","ޢ":"a","ޣ":"gh","ޤ":"q","ޥ":"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"p","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","α":"a","β":"v","γ":"g","δ":"d","ε":"e","ζ":"z","η":"i","θ":"th","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"ks","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"o","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"i","ώ":"o","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"I","Θ":"TH","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"KS","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"O","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"I","Ώ":"O","Ϊ":"I","Ϋ":"Y","ā":"a","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","ū":"u","Ā":"A","Ē":"E","Ģ":"G","Ī":"I","Ķ":"k","Ļ":"L","Ņ":"N","Ū":"U","Ќ":"Kj","ќ":"kj","Љ":"Lj","љ":"lj","Њ":"Nj","њ":"nj","Тс":"Ts","тс":"ts","ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ś":"S","Ź":"Z","Ż":"Z","Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g","ă":"a","Ă":"A","ș":"s","Ș":"S","ț":"t","Ț":"T","ţ":"t","Ţ":"T","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"i","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"I","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"Kh","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","ђ":"dj","ј":"j","ћ":"c","џ":"dz","Ђ":"Dj","Ј":"j","Ћ":"C","Џ":"Dz","ľ":"l","ĺ":"l","ŕ":"r","Ľ":"L","Ĺ":"L","Ŕ":"R","ş":"s","Ş":"S","ı":"i","İ":"I","ğ":"g","Ğ":"G","ả":"a","Ả":"A","ẳ":"a","Ẳ":"A","ẩ":"a","Ẩ":"A","đ":"d","Đ":"D","ẹ":"e","Ẹ":"E","ẽ":"e","Ẽ":"E","ẻ":"e","Ẻ":"E","ế":"e","Ế":"E","ề":"e","Ề":"E","ệ":"e","Ệ":"E","ễ":"e","Ễ":"E","ể":"e","Ể":"E","ỏ":"o","ọ":"o","Ọ":"o","ố":"o","Ố":"O","ồ":"o","Ồ":"O","ổ":"o","Ổ":"O","ộ":"o","Ộ":"O","ỗ":"o","Ỗ":"O","ơ":"o","Ơ":"O","ớ":"o","Ớ":"O","ờ":"o","Ờ":"O","ợ":"o","Ợ":"O","ỡ":"o","Ỡ":"O","Ở":"o","ở":"o","ị":"i","Ị":"I","ĩ":"i","Ĩ":"I","ỉ":"i","Ỉ":"i","ủ":"u","Ủ":"U","ụ":"u","Ụ":"U","ũ":"u","Ũ":"U","ư":"u","Ư":"U","ứ":"u","Ứ":"U","ừ":"u","Ừ":"U","ự":"u","Ự":"U","ữ":"u","Ữ":"U","ử":"u","Ử":"ư","ỷ":"y","Ỷ":"y","ỳ":"y","Ỳ":"Y","ỵ":"y","Ỵ":"Y","ỹ":"y","Ỹ":"Y","ạ":"a","Ạ":"A","ấ":"a","Ấ":"A","ầ":"a","Ầ":"A","ậ":"a","Ậ":"A","ẫ":"a","Ẫ":"A","ắ":"a","Ắ":"A","ằ":"a","Ằ":"A","ặ":"a","Ặ":"A","ẵ":"a","Ẵ":"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d","ƒ":"f","™":"(TM)","©":"(C)","œ":"oe","Œ":"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o","º":"o","ª":"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY","元":"CNY","円":"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN","лв":"BGN","៛":"KHR","₡":"CRC","₸":"KZT","ден":"MKD","zł":"PLN","₽":"RUB","₾":"GEL"},i=["်","ް"],l={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},a={en:{},az:{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},cs:{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},fi:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},hu:{"ä":"a","Ä":"A","ö":"o","Ö":"O","ü":"u","Ü":"U","ű":"u","Ű":"U"},lt:{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U"},lv:{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"i","Ķ":"k","Ļ":"L","Ņ":"N","Š":"S","Ū":"u","Ž":"Z"},pl:{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"e","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},sv:{"ä":"a","Ä":"A","ö":"o","Ö":"O"},sk:{"ä":"a","Ä":"A"},sr:{"љ":"lj","њ":"nj","Љ":"Lj","Њ":"Nj","đ":"dj","Đ":"Dj"},tr:{"Ü":"U","Ö":"O","ü":"u","ö":"o"}},c={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},s=[";","?",":","@","&","=","+","$",",","/"].join(""),u=[";","?",":","@","&","=","+","$",","].join(""),d=[".","!","~","*","'","(",")"].join(""),p=function(e,t){var n,o,p,h,f,g,O,v,_,y,j,E,S,k,w="-",C="",x="",T=!0,I={},P="";if("string"!=typeof e)return"";if("string"==typeof t&&(w=t),O=c.en,v=a.en,"object"==typeof t)for(j in n=t.maintainCase||!1,I=t.custom&&"object"==typeof t.custom?t.custom:I,p=+t.truncate>1&&t.truncate||!1,h=t.uric||!1,f=t.uricNoSlash||!1,g=t.mark||!1,T=!1!==t.symbols&&!1!==t.lang,w=t.separator||w,h&&(P+=s),f&&(P+=u),g&&(P+=d),O=t.lang&&c[t.lang]&&T?c[t.lang]:T?c.en:{},v=t.lang&&a[t.lang]?a[t.lang]:!1===t.lang||!0===t.lang?{}:a.en,t.titleCase&&"number"==typeof t.titleCase.length&&Array.prototype.toString.call(t.titleCase)?(t.titleCase.forEach((function(e){I[e+""]=e+""})),o=!0):o=!!t.titleCase,t.custom&&"number"==typeof t.custom.length&&Array.prototype.toString.call(t.custom)&&t.custom.forEach((function(e){I[e+""]=e+""})),Object.keys(I).forEach((function(t){var n;n=t.length>1?new RegExp("\\b"+b(t)+"\\b","gi"):new RegExp(b(t),"gi"),e=e.replace(n,I[t])})),I)P+=j;for(P=b(P+=w),S=!1,k=!1,y=0,E=(e=e.replace(/(^\s+|\s+$)/g,"")).length;y<E;y++)j=e[y],m(j,I)?S=!1:v[j]?(j=S&&v[j].match(/[A-Za-z0-9]/)?" "+v[j]:v[j],S=!1):j in r?(y+1<E&&i.indexOf(e[y+1])>=0?(x+=j,j=""):!0===k?(j=l[x]+r[j],x=""):j=S&&r[j].match(/[A-Za-z0-9]/)?" "+r[j]:r[j],S=!1,k=!1):j in l?(x+=j,j="",y===E-1&&(j=l[x]),k=!0):!O[j]||h&&-1!==s.indexOf(j)||f&&-1!==u.indexOf(j)?(!0===k?(j=l[x]+j,x="",k=!1):S&&(/[A-Za-z0-9]/.test(j)||C.substr(-1).match(/A-Za-z0-9]/))&&(j=" "+j),S=!1):(j=S||C.substr(-1).match(/[A-Za-z0-9]/)?w+O[j]:O[j],j+=void 0!==e[y+1]&&e[y+1].match(/[A-Za-z0-9]/)?w:"",S=!0),C+=j.replace(new RegExp("[^\\w\\s"+P+"_-]","g"),w);return o&&(C=C.replace(/(\w)(\S*)/g,(function(e,t,n){var o=t.toUpperCase()+(null!==n?n:"");return Object.keys(I).indexOf(o.toLowerCase())<0?o:o.toLowerCase()}))),C=C.replace(/\s+/g,w).replace(new RegExp("\\"+w+"+","g"),w).replace(new RegExp("(^\\"+w+"+|\\"+w+"+$)","g"),""),p&&C.length>p&&(_=C.charAt(p)===w,C=C.slice(0,p),_||(C=C.slice(0,C.lastIndexOf(w)))),n||o||(C=C.toLowerCase()),C},b=function(e){return e.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(e,t){for(var n in t)if(t[n]===e)return!0};e.exports?(e.exports=p,e.exports.createSlug=function(e){return function(t){return p(t,e)}}):void 0===(o=function(){return p}.apply(t,[]))||(e.exports=o)}()},,,,,,,function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));t.a=i},function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));t.a=i},,,,,,,,,,,function(e,t){!function(){e.exports=this.wp.viewport}()},,,,,,,,function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));t.a=i},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},function(e,t,n){"use strict";var o=n(93);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(o.isURLSearchParams(t))i=t.toString();else{var l=[];o.forEach(t,(function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,(function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),l.push(r(t)+"="+r(e))})))})),i=l.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var o=n(93),r=n(566),i={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(a=n(364)),a),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(l(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){c.headers[e]=o.merge(i)})),e.exports=c}).call(this,n(154))},function(e,t,n){"use strict";var o=n(93),r=n(567),i=n(569),l=n(361),a=n(570),c=n(573),s=n(574),u=n(365);e.exports=function(e){return new Promise((function(t,n){var d=e.data,p=e.headers;o.isFormData(d)&&delete p["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",h=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(m+":"+h)}var f=a(e.baseURL,e.url);if(b.open(e.method.toUpperCase(),l(f,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,b.onreadystatechange=function(){if(b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))){var o="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:o,config:e,request:b};r(t,n,i),b=null}},b.onabort=function(){b&&(n(u("Request aborted",e,"ECONNABORTED",b)),b=null)},b.onerror=function(){n(u("Network Error",e,null,b)),b=null},b.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,"ECONNABORTED",b)),b=null},o.isStandardBrowserEnv()){var g=(e.withCredentials||s(f))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;g&&(p[e.xsrfHeaderName]=g)}if("setRequestHeader"in b&&o.forEach(p,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:b.setRequestHeader(t,e)})),o.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),e.responseType)try{b.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){b&&(b.abort(),n(e),b=null)})),d||(d=null),b.send(d)}))}},function(e,t,n){"use strict";var o=n(568);e.exports=function(e,t,n,r,i){var l=new Error(e);return o(l,t,n,r,i)}},function(e,t,n){"use strict";var o=n(93);e.exports=function(e,t){t=t||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],l=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return o.isPlainObject(e)&&o.isPlainObject(t)?o.merge(e,t):o.isPlainObject(t)?o.merge({},t):o.isArray(t)?t.slice():t}function s(r){o.isUndefined(t[r])?o.isUndefined(e[r])||(n[r]=c(void 0,e[r])):n[r]=c(e[r],t[r])}o.forEach(r,(function(e){o.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),o.forEach(i,s),o.forEach(l,(function(r){o.isUndefined(t[r])?o.isUndefined(e[r])||(n[r]=c(void 0,e[r])):n[r]=c(void 0,t[r])})),o.forEach(a,(function(o){o in t?n[o]=c(e[o],t[o]):o in e&&(n[o]=c(void 0,e[o]))}));var u=r.concat(i).concat(l).concat(a),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return o.forEach(d,s),n}},function(e,t,n){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports='<html> <head> <style>.kubio-loading-logo{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:0}.kubio-loading-logo svg{width:120px!important;height:120px!important;max-width:120px!important;fill:#a4afb7!important}#eKIDzSscbEO1{overflow:visible;max-width:90px}#eKIDzSscbEO3_tr{animation:eKIDzSscbEO3_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO3_tr__tr{0%{transform:translate(193.209984px,190.850067px) rotate(0)}12%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}20%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}52%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}60%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}68%{transform:translate(193.209984px,190.850067px) rotate(0)}100%{transform:translate(193.209984px,190.850067px) rotate(0)}}#eKIDzSscbEO5_tr{animation:eKIDzSscbEO5_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO5_tr__tr{0%{transform:translate(193.219933px,61.519987px) rotate(360deg)}20%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}28%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}84%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}92%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}100%{transform:translate(193.219933px,61.519987px) rotate(360deg)}}#eKIDzSscbEO7_tr{animation:eKIDzSscbEO7_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO7_tr__tr{0%{transform:translate(59.18501px,193.18499px) rotate(0)}28%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}36%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}68%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}76%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}84%{transform:translate(59.18501px,193.18499px) rotate(0)}100%{transform:translate(59.18501px,193.18499px) rotate(0)}}#eKIDzSscbEO9_tr{animation:eKIDzSscbEO9_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO9_tr__tr{0%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}8%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}36%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}44%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t)}52%{transform:translate(59.149774px,59.150009px) rotate(360deg)}100%{transform:translate(59.149774px,59.150009px) rotate(360deg)}}</style> </head> <body> <div id="content"> </div> </body> </html> '},function(e,t,n){!function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=n(t);function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}var i={error:null},l=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).state=i,t.resetErrorBoundary=function(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null==t.props.onReset||(e=t.props).onReset.apply(e,o),t.reset()},t}var n,l;l=e,(n=t).prototype=Object.create(l.prototype),n.prototype.constructor=n,r(n,l),t.getDerivedStateFromError=function(e){return{error:e}};var a=t.prototype;return a.reset=function(){this.setState(i)},a.componentDidCatch=function(e,t){var n,o;null==(n=(o=this.props).onError)||n.call(o,e,t)},a.componentDidUpdate=function(e,t){var n,o,r,i,l=this.state.error,a=this.props.resetKeys;null!==l&&null!==t.error&&(void 0===(r=e.resetKeys)&&(r=[]),void 0===(i=a)&&(i=[]),r.length!==i.length||r.some((function(e,t){return!Object.is(e,i[t])})))&&(null==(n=(o=this.props).onResetKeysChange)||n.call(o,e.resetKeys,a),this.reset())},a.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,r=t.FallbackComponent,i=t.fallback;if(null!==e){var l={error:e,resetErrorBoundary:this.resetErrorBoundary};if(o.isValidElement(i))return i;if("function"==typeof n)return n(l);if(r)return o.createElement(r,l);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(o.Component);e.ErrorBoundary=l,e.useErrorHandler=function(e){var t=o.useState(null),n=t[0],r=t[1];if(null!=e)throw e;if(null!=n)throw n;return r},e.withErrorBoundary=function(e,t){var n=function(n){return o.createElement(l,t,o.createElement(e,n))},r=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+r+")",n},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(10))},function(e,t){e.exports='<html> <head> <style>body,html{background:#f1f3f5}.content{display:flex;flex-direction:column;align-items:center;justify-items:center;justify-content:center;position:fixed;left:0;top:0;width:100vw;height:100vh}.container{text-align:center}.message{font-size:1.2rem;color:#15192b;font-family:-apple-system,BlinkMacSystemFont,\'Segoe UI\',Roboto,Oxygen-Sans,Ubuntu,Cantarell,\'Helvetica Neue\',sans-serif}#eKIDzSscbEO1{overflow:visible;width:120px!important;height:120px!important;max-width:120px!important;fill:#a4afb7!important}#eKIDzSscbEO3_tr{animation:eKIDzSscbEO3_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO3_tr__tr{0%{transform:translate(193.209984px,190.850067px) rotate(0)}12%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}20%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}52%{transform:translate(193.209984px,190.850067px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}60%{transform:translate(193.209984px,190.850067px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}68%{transform:translate(193.209984px,190.850067px) rotate(0)}100%{transform:translate(193.209984px,190.850067px) rotate(0)}}#eKIDzSscbEO5_tr{animation:eKIDzSscbEO5_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO5_tr__tr{0%{transform:translate(193.219933px,61.519987px) rotate(360deg)}20%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}28%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}84%{transform:translate(193.219933px,61.519987px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}92%{transform:translate(193.219933px,61.519987px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}100%{transform:translate(193.219933px,61.519987px) rotate(360deg)}}#eKIDzSscbEO7_tr{animation:eKIDzSscbEO7_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO7_tr__tr{0%{transform:translate(59.18501px,193.18499px) rotate(0)}28%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}36%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}68%{transform:translate(59.18501px,193.18499px) rotate(90deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}76%{transform:translate(59.18501px,193.18499px) rotate(0);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}84%{transform:translate(59.18501px,193.18499px) rotate(0)}100%{transform:translate(59.18501px,193.18499px) rotate(0)}}#eKIDzSscbEO9_tr{animation:eKIDzSscbEO9_tr__tr 2s linear infinite normal forwards}@keyframes eKIDzSscbEO9_tr__tr{0%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}8%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}36%{transform:translate(59.149774px,59.150009px) rotate(270deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}44%{transform:translate(59.149774px,59.150009px) rotate(360deg);animation-timing-function:cubic-bezier(\n\t\t\t\t\t\t.39,\n\t\t\t\t\t\t.575,\n\t\t\t\t\t\t.565,\n\t\t\t\t\t\t1\n\t\t\t\t\t)}52%{transform:translate(59.149774px,59.150009px) rotate(360deg)}100%{transform:translate(59.149774px,59.150009px) rotate(360deg)}}</style> </head> <body> <div class="content"> <div class="container"> {svg_image} <p class="message">{message}</p> </div> </div> </body> </html> '},function(e,t){var n="complete",o="canceled";function r(e,t,n){Math.max(0,t),Math.max(0,n),e.self===e?e.scrollTo(t,n):(e.scrollLeft=t,e.scrollTop=n)}function i(e){var t=e._scrollSettings;if(t){var o=t.maxSynchronousAlignments,l=function(e,t){var n,o,r,i,l,a,c,s=e.align,u=e.target.getBoundingClientRect(),d=s&&null!=s.left?s.left:.5,p=s&&null!=s.top?s.top:.5,b=s&&null!=s.leftOffset?s.leftOffset:0,m=s&&null!=s.topOffset?s.topOffset:0,h=d,f=p;if(e.isWindow(t))a=Math.min(u.width,t.innerWidth),c=Math.min(u.height,t.innerHeight),o=u.left+t.pageXOffset-t.innerWidth*h+a*h,r=u.top+t.pageYOffset-t.innerHeight*f+c*f,o-=b,r-=m,o=e.align.lockX?t.pageXOffset:o,r=e.align.lockY?t.pageYOffset:r,i=o-t.pageXOffset,l=r-t.pageYOffset;else{a=u.width,c=u.height,n=t.getBoundingClientRect();var g=u.left-(n.left-t.scrollLeft),O=u.top-(n.top-t.scrollTop);o=g+a*h-t.clientWidth*h,r=O+c*f-t.clientHeight*f,o-=b,r-=m,o=Math.max(Math.min(o,t.scrollWidth-t.clientWidth),0),r=Math.max(Math.min(r,t.scrollHeight-t.clientHeight),0),o=e.align.lockX?t.scrollLeft:o,r=e.align.lockY?t.scrollTop:r,i=o-t.scrollLeft,l=r-t.scrollTop}return{x:o,y:r,differenceX:i,differenceY:l}}(t,e),a=Date.now()-t.startTime,c=Math.min(1/t.time*a,1);if(t.endIterations>=o)return r(e,l.x,l.y),e._scrollSettings=null,t.end(n);var s=1-t.ease(c);if(r(e,l.x-l.differenceX*s,l.y-l.differenceY*s),a>=t.time)return t.endIterations++,t.scrollAncestor&&i(t.scrollAncestor),void i(e);!function(e){if("requestAnimationFrame"in window)return window.requestAnimationFrame(e);setTimeout(e,16)}(i.bind(null,e))}}function l(e){return e.self===e}function a(e){return"pageXOffset"in e||(e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth)&&"hidden"!==getComputedStyle(e).overflow}function c(){return!0}function s(e){if(e.assignedSlot)return s(e.assignedSlot);if(e.parentElement)return"body"===e.parentElement.tagName.toLowerCase()?e.parentElement.ownerDocument.defaultView||e.parentElement.ownerDocument.ownerWindow:e.parentElement;if(e.getRootNode){var t=e.getRootNode();if(11===t.nodeType)return t.host}}e.exports=function(e,t,r){if(e){"function"==typeof t&&(r=t,t=null),t||(t={}),t.time=isNaN(t.time)?1e3:t.time,t.ease=t.ease||function(e){return 1-Math.pow(1-e,e/2)},t.align=t.align||{};var u=s(e),d=1,p=t.validTarget||c,b=t.isScrollable;t.debug&&(console.log("About to scroll to",e),u||console.error("Target did not have a parent, is it mounted in the DOM?"));for(var m=[];u;)if(t.debug&&console.log("Scrolling parent node",u),p(u,d)&&(b?b(u,a):a(u))&&(d++,m.push(u)),!(u=s(u))){h(n);break}return m.reduce(((n,r,a)=>function(e,t,n,r,a){var c,s=!t._scrollSettings,u=t._scrollSettings,d=Date.now(),p={passive:!0};function b(e){t._scrollSettings=null,t.parentElement&&t.parentElement._scrollSettings&&t.parentElement._scrollSettings.end(e),n.debug&&console.log("Scrolling ended with type",e,"for",t),a(e),c&&(t.removeEventListener("touchstart",c,p),t.removeEventListener("wheel",c,p))}u&&u.end(o);var m=n.maxSynchronousAlignments;return null==m&&(m=3),t._scrollSettings={startTime:d,endIterations:0,target:e,time:n.time,ease:n.ease,align:n.align,isWindow:n.isWindow||l,maxSynchronousAlignments:m,end:b,scrollAncestor:r},"cancellable"in n&&!n.cancellable||(c=b.bind(null,o),t.addEventListener("touchstart",c,p),t.addEventListener("wheel",c,p)),s&&i(t),c}(e,r,t,m[a+1],h)),null)}function h(e){--d||r&&r(e)}}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));t.a=i},function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(r.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12zM7 11h2V9H7v2zm0 4h2v-2H7v2zm3-4h7V9h-7v2zm0 4h7v-2h-7v2z"}));t.a=i},function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"}));t.a=i},,,,,function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)(r.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"}));t.a=i},,,,function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));t.a=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=n(0),r=n(5);const i=Object(o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(r.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"}));t.a=i},,,function(e,t,n){"use strict";var o=n(93),r=n(360),i=n(562),l=n(366);function a(e){var t=new i(e),n=r(i.prototype.request,t);return o.extend(n,i.prototype,t),o.extend(n,t),n}var c=a(n(363));c.Axios=i,c.create=function(e){return a(l(c.defaults,e))},c.Cancel=n(367),c.CancelToken=n(575),c.isCancel=n(362),c.all=function(e){return Promise.all(e)},c.spread=n(576),c.isAxiosError=n(577),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var o=n(93),r=n(361),i=n(563),l=n(564),a=n(366);function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[l,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),o.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,o){return this.request(a(o||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var o=n(93);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){o.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},function(e,t,n){"use strict";var o=n(93),r=n(565),i=n(362),l=n(363);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||l.adapter)(e).then((function(t){return a(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var o=n(93);e.exports=function(e,t,n){return o.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var o=n(93);e.exports=function(e,t){o.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))}},function(e,t,n){"use strict";var o=n(365);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var o=n(93);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,r,i,l){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.isString(r)&&a.push("path="+r),o.isString(i)&&a.push("domain="+i),!0===l&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var o=n(571),r=n(572);e.exports=function(e,t){return e&&!o(t)?r(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var o=n(93),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,l={};return e?(o.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=o.trim(e.substr(0,i)).toLowerCase(),n=o.trim(e.substr(i+1)),t){if(l[t]&&r.indexOf(t)>=0)return;l[t]="set-cookie"===t?(l[t]?l[t]:[]).concat([n]):l[t]?l[t]+", "+n:n}})),l):l}},function(e,t,n){"use strict";var o=n(93);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=o.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var o=n(367);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new o(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(10),i=a(r),l=a(n(18));function a(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n.eventListenerOptions=n.eventListenerOptions.bind(n),n.mousewheelListener=n.mousewheelListener.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}},{key:"eventListenerOptions",value:function(){return this.props.useCapture,this.isPassiveSupported()?{useCapture:this.props.useCapture,passive:!0}:{passive:!1}}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=this.getParentElement(e),o=void 0;if(this.props.useWindow){var r=document.documentElement||document.body.parentNode||document.body,i=void 0!==t.pageYOffset?t.pageYOffset:r.scrollTop;o=this.props.isReverse?i:this.calculateOffset(e,i)}else o=this.props.isReverse?n.scrollTop:e.scrollHeight-n.scrollTop-n.clientHeight;o<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,o=t.element,r=t.hasMore,l=(t.initialLoad,t.isReverse),a=t.loader,c=(t.loadMore,t.pageStart,t.ref),s=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));s.ref=function(t){e.scrollComponent=t,c&&c(t)};var u=[n];return r&&(a?l?u.unshift(a):u.push(a):this.defaultLoader&&(l?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),i.default.createElement(o,s,u)}}]),t}(r.Component);c.propTypes={children:l.default.node.isRequired,element:l.default.node,hasMore:l.default.bool,initialLoad:l.default.bool,isReverse:l.default.bool,loader:l.default.node,loadMore:l.default.func.isRequired,pageStart:l.default.number,ref:l.default.func,getScrollParent:l.default.func,threshold:l.default.number,useCapture:l.default.bool,useWindow:l.default.bool},c.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=c,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",(function(){return Ru})),n.d(t,"__experimentalFullscreenModeClose",(function(){return Pu})),n.d(t,"registerSidebarArea",(function(){return He})),n.d(t,"SidebarArea",(function(){return We})),n.d(t,"SubSidebarArea",(function(){return ze})),n.d(t,"registerSubSidebarArea",(function(){return Ue}));var o={};n.r(o),n.d(o,"toggle",(function(){return H})),n.d(o,"set",(function(){return U})),n.d(o,"setDefaults",(function(){return W})),n.d(o,"setPersistenceLayer",(function(){return V}));var r={};n.r(r),n.d(r,"get",(function(){return K}));var i={};n.r(i),n.d(i,"setDefaultComplementaryArea",(function(){return Y})),n.d(i,"enableComplementaryArea",(function(){return q})),n.d(i,"disableComplementaryArea",(function(){return X})),n.d(i,"pinItem",(function(){return Q})),n.d(i,"unpinItem",(function(){return Z})),n.d(i,"toggleFeature",(function(){return J})),n.d(i,"setFeatureValue",(function(){return ee})),n.d(i,"setFeatureDefaults",(function(){return te}));var l={};n.r(l),n.d(l,"getActiveComplementaryArea",(function(){return ne})),n.d(l,"isItemPinned",(function(){return oe})),n.d(l,"isFeatureActive",(function(){return re}));var a={};n.r(a),n.d(a,"toggleFeature",(function(){return hs})),n.d(a,"__experimentalSetPreviewDeviceType",(function(){return fs})),n.d(a,"setTemplate",(function(){return gs})),n.d(a,"addTemplate",(function(){return Os})),n.d(a,"removeTemplate",(function(){return vs})),n.d(a,"setTemplatePart",(function(){return _s})),n.d(a,"setHomeTemplateId",(function(){return ys})),n.d(a,"setPage",(function(){return js})),n.d(a,"showHomepage",(function(){return Es})),n.d(a,"openNavigationPanelToMenu",(function(){return Ss})),n.d(a,"setIsNavigationPanelOpened",(function(){return ks})),n.d(a,"updateSettings",(function(){return ws})),n.d(a,"openSidebar",(function(){return Cs})),n.d(a,"openInserterSidebar",(function(){return xs})),n.d(a,"addSubSidebar",(function(){return Ts})),n.d(a,"removeSubSidebar",(function(){return Is})),n.d(a,"closeSidebar",(function(){return Ps})),n.d(a,"toggleGlobalStyleEditing",(function(){return Rs})),n.d(a,"toggleGutentagDebug",(function(){return Ms})),n.d(a,"setOpenInserter",(function(){return As})),n.d(a,"setCurrentAncestor",(function(){return Ns})),n.d(a,"setIsListViewOpened",(function(){return Ds})),n.d(a,"setUIVersion",(function(){return Ls}));var c={};n.r(c),n.d(c,"isFeatureActive",(function(){return Fs})),n.d(c,"__experimentalGetPreviewDeviceType",(function(){return Gs})),n.d(c,"getCanUserCreateMedia",(function(){return Hs})),n.d(c,"getSettings",(function(){return Us})),n.d(c,"getHomeTemplateId",(function(){return Ws})),n.d(c,"getEditedPostType",(function(){return Vs})),n.d(c,"getEditedPostId",(function(){return Ks})),n.d(c,"getPage",(function(){return $s})),n.d(c,"isNavigationOpened",(function(){return Ys})),n.d(c,"getNavigationMenu",(function(){return qs})),n.d(c,"isInserterOpened",(function(){return Xs})),n.d(c,"getTemplateId",(function(){return Qs})),n.d(c,"getTemplatePartId",(function(){return Zs})),n.d(c,"getTemplateType",(function(){return Js})),n.d(c,"getTemplateIds",(function(){return eu})),n.d(c,"getTemplatePartIds",(function(){return tu})),n.d(c,"getEntity",(function(){return nu})),n.d(c,"getShowOnFront",(function(){return ou})),n.d(c,"isEditorSidebarOpened",(function(){return ru})),n.d(c,"getOpenedInserter",(function(){return iu})),n.d(c,"getOpenedInsertedClientId",(function(){return lu})),n.d(c,"getOpenedInsertedShouldReplace",(function(){return au})),n.d(c,"getOpenedInsertedShouldCloseOnSelect",(function(){return cu})),n.d(c,"getCurrentAncestor",(function(){return su})),n.d(c,"getEditorOpenedSidebar",(function(){return uu})),n.d(c,"getSubSidebars",(function(){return du})),n.d(c,"isGlobalStyleEditing",(function(){return pu})),n.d(c,"getGlobalStyleEditingPreviousEntity",(function(){return bu})),n.d(c,"isGutentagDebug",(function(){return mu})),n.d(c,"__experimentalGetInsertionPoint",(function(){return hu})),n.d(c,"isListViewOpened",(function(){return fu})),n.d(c,"getCurrentKubioTemplateSource",(function(){return gu})),n.d(c,"getCurrentPageTemplate",(function(){return Ou})),n.d(c,"currentPageHasFSETemplate",(function(){return vu})),n.d(c,"getCurrentPostType",(function(){return _u})),n.d(c,"getCurrentPostId",(function(){return yu})),n.d(c,"getIsBlogPage",(function(){return ju})),n.d(c,"getIsFrontPage",(function(){return Eu})),n.d(c,"getIsInnerPage",(function(){return Su})),n.d(c,"getAvailablePageTemplates",(function(){return ku})),n.d(c,"getClassicTemplateId",(function(){return wu})),n.d(c,"getIsWooCommercePage",(function(){return Cu})),n.d(c,"getUIVersion",(function(){return xu}));var s=n(0),u=n(178),d=n(4),p=n(272),b=n(23),m=n(69),h=n(2),f=n.n(h),g=n(24),O=n(49),v=n(33),_=n(26),y=n(264),j=n(16),E=n(3),S=n(11),k=n(39),w=n(7),C=n(58),x=n(1),T=n(8),I=n(13),P=n.n(I),R=n(273),M=n(5),A=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(M.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),N=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(M.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),D=n(326),L=n(314),z=n(48),B=n.n(z);const F=function(e){let t;return(e,n)=>{if("SET_PERSISTENCE_LAYER"===n.type){const{persistenceLayer:e,persistedData:o}=n;return t=e,o}const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_PREFERENCE_VALUE"===t.type){const{scope:n,name:o,value:r}=t;return{...e,[n]:{...e[n],[o]:r}}}return e}(e,n);var r;return"SET_PREFERENCE_VALUE"===n.type&&(null===(r=t)||void 0===r||r.set(o)),o}}();var G=Object(w.combineReducers)({defaults:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_PREFERENCE_DEFAULTS"===t.type){const{scope:n,defaults:o}=t;return{...e,[n]:{...e[n],...o}}}return e},preferences:F});function H(e,t){return function(n){let{select:o,dispatch:r}=n;const i=o.get(e,t);r.set(e,t,!i)}}function U(e,t,n){return{type:"SET_PREFERENCE_VALUE",scope:e,name:t,value:n}}function W(e,t){return{type:"SET_PREFERENCE_DEFAULTS",scope:e,defaults:t}}async function V(e){const t=await e.get();return{type:"SET_PERSISTENCE_LAYER",persistenceLayer:e,persistedData:t}}function K(e,t,n){var o,r;const i=null===(o=e.preferences[t])||void 0===o?void 0:o[n];return void 0!==i?i:null===(r=e.defaults[t])||void 0===r?void 0:r[n]}const $=Object(w.createReduxStore)("core/preferences",{reducer:G,actions:o,selectors:r});Object(w.register)($);const Y=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),q=(e,t)=>n=>{let{registry:o,dispatch:r}=n;t&&(o.select($).get(e,"isComplementaryAreaVisible")||o.dispatch($).set(e,"isComplementaryAreaVisible",!0),r({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},X=e=>t=>{let{registry:n}=t;n.select($).get(e,"isComplementaryAreaVisible")&&n.dispatch($).set(e,"isComplementaryAreaVisible",!1)},Q=(e,t)=>n=>{let{registry:o}=n;if(!t)return;const r=o.select($).get(e,"pinnedItems");!0!==(null==r?void 0:r[t])&&o.dispatch($).set(e,"pinnedItems",{...r,[t]:!0})},Z=(e,t)=>n=>{let{registry:o}=n;if(!t)return;const r=o.select($).get(e,"pinnedItems");o.dispatch($).set(e,"pinnedItems",{...r,[t]:!1})};function J(e,t){return function(n){let{registry:o}=n;B()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),o.dispatch($).toggle(e,t)}}function ee(e,t,n){return function(o){let{registry:r}=o;B()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),r.dispatch($).set(e,t,!!n)}}function te(e,t){return function(n){let{registry:o}=n;B()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),o.dispatch($).setDefaults(e,t)}}const ne=Object(w.createRegistrySelector)((e=>(t,n)=>{var o;const r=e($).get(n,"isComplementaryAreaVisible");if(void 0!==r)return r?null==t||null===(o=t.complementaryAreas)||void 0===o?void 0:o[n]:null})),oe=Object(w.createRegistrySelector)((e=>(t,n,o)=>{var r;const i=e($).get(n,"pinnedItems");return null===(r=null==i?void 0:i[o])||void 0===r||r})),re=Object(w.createRegistrySelector)((e=>(t,n,o)=>(B()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e($).get(n,o))));var ie=Object(w.combineReducers)({complementaryAreas:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return e[n]?e:{...e,[n]:o}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return{...e,[n]:o}}}return e}});const le=Object(w.createReduxStore)("core/interface",{reducer:ie,actions:i,selectors:l});Object(w.register)(le);var ae=n(265),ce=Object(ae.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`}))),se=ce((function(e){let{as:t=E.Button,scope:n,identifier:o,icon:r,selectedIcon:i,name:l,...a}=e;const c=t,u=Object(w.useSelect)((e=>e(le).getActiveComplementaryArea(n)===o),[o]),{enableComplementaryArea:d,disableComplementaryArea:p}=Object(w.useDispatch)(le);return Object(s.createElement)(c,Object(T.a)({icon:i&&u?i:r,onClick:()=>{u?p(n):d(n,o)}},a))})),ue=e=>{let{smallScreenTitle:t,children:n,className:o,toggleButtonProps:r}=e;const i=Object(s.createElement)(se,Object(T.a)({icon:L.a},r));return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},t&&Object(s.createElement)("span",{className:"interface-complementary-area-header__small-title"},t),i),Object(s.createElement)("div",{className:P()("components-panel__header","interface-complementary-area-header",o),tabIndex:-1},n,i))};const de=()=>{};function pe(e){let{name:t,as:n=E.Button,onClick:o,...r}=e;return Object(s.createElement)(E.Fill,{name:t},(e=>{let{onClick:t}=e;return Object(s.createElement)(n,Object(T.a)({onClick:o||t?function(){(o||de)(...arguments),(t||de)(...arguments)}:void 0},r))}))}pe.Slot=function(e){let{name:t,as:n=E.ButtonGroup,fillProps:o={},bubblesVirtually:r,...i}=e;return Object(s.createElement)(E.Slot,{name:t,bubblesVirtually:r,fillProps:o},(e=>{if(!s.Children.toArray(e).length)return null;const t=[];s.Children.forEach(e,(e=>{let{props:{__unstableExplicitMenuItem:n,__unstableTarget:o}}=e;o&&n&&t.push(o)}));const o=s.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&t.includes(e.props.__unstableTarget)?null:e));return Object(s.createElement)(n,i,o)}))};var be=pe;const me=e=>{let{__unstableExplicitMenuItem:t,__unstableTarget:n,...o}=e;return Object(s.createElement)(E.MenuItem,o)};function he(e){let{scope:t,target:n,__unstableExplicitMenuItem:o,...r}=e;return Object(s.createElement)(se,Object(T.a)({as:e=>Object(s.createElement)(be,Object(T.a)({__unstableExplicitMenuItem:o,__unstableTarget:`${t}/${n}`,as:me,name:`${t}/plugin-more-menu`},e)),role:"menuitemcheckbox",selectedIcon:R.a,name:n,scope:t},r))}function fe(e){let{scope:t,...n}=e;return Object(s.createElement)(E.Fill,Object(T.a)({name:`PinnedItems/${t}`},n))}fe.Slot=function(e){let{scope:t,className:n,...o}=e;return Object(s.createElement)(E.Slot,Object(T.a)({name:`PinnedItems/${t}`},o),(e=>(null==e?void 0:e.length)>0&&Object(s.createElement)("div",{className:P()(n,"interface-pinned-items")},e)))};var ge=fe;function Oe(e){let{scope:t,children:n,className:o}=e;return Object(s.createElement)(E.Fill,{name:`ComplementaryArea/${t}`},Object(s.createElement)("div",{className:o},n))}const ve=ce((function(e){let{children:t,className:n,closeLabel:o=Object(x.__)("Close plugin"),identifier:r,header:i,headerClassName:l,icon:a,isPinnable:c=!0,panelClassName:u,scope:d,name:p,smallScreenTitle:b,title:m,toggleShortcut:h,isActiveByDefault:f,showIconLabels:g=!1}=e;const{isActive:O,isPinned:v,activeArea:_,isSmall:y,isLarge:j}=Object(w.useSelect)((e=>{const{getActiveComplementaryArea:t,isItemPinned:n}=e(le),o=t(d);return{isActive:o===r,isPinned:n(d,r),activeArea:o,isSmall:e(D.store).isViewportMatch("< medium"),isLarge:e(D.store).isViewportMatch("large")}}),[r,d]);!function(e,t,n,o,r){const i=Object(s.useRef)(!1),l=Object(s.useRef)(!1),{enableComplementaryArea:a,disableComplementaryArea:c}=Object(w.useDispatch)(le);Object(s.useEffect)((()=>{o&&r&&!i.current?(c(e),l.current=!0):l.current&&!r&&i.current?(l.current=!1,a(e,t)):l.current&&n&&n!==t&&(l.current=!1),r!==i.current&&(i.current=r)}),[o,r,e,t,n])}(d,r,_,O,y);const{enableComplementaryArea:S,disableComplementaryArea:k,pinItem:C,unpinItem:T}=Object(w.useDispatch)(le);return Object(s.useEffect)((()=>{f&&void 0===_&&!y&&S(d,r)}),[_,f,d,r,y]),Object(s.createElement)(s.Fragment,null,c&&Object(s.createElement)(ge,{scope:d},v&&Object(s.createElement)(se,{scope:d,identifier:r,isPressed:O&&(!g||j),"aria-expanded":O,label:m,icon:g?R.a:a,showTooltip:!g,variant:g?"tertiary":void 0})),p&&c&&Object(s.createElement)(he,{target:p,scope:d,icon:a},m),O&&Object(s.createElement)(Oe,{className:P()("interface-complementary-area",n),scope:d},Object(s.createElement)(ue,{className:l,closeLabel:o,onClose:()=>k(d),smallScreenTitle:b,toggleButtonProps:{label:o,shortcut:h,scope:d,identifier:r}},i||Object(s.createElement)(s.Fragment,null,Object(s.createElement)("strong",null,m),c&&Object(s.createElement)(E.Button,{className:"interface-complementary-area__pin-unpin-item",icon:v?A:N,label:v?Object(x.__)("Unpin from toolbar"):Object(x.__)("Pin to toolbar"),onClick:()=>(v?T:C)(d,r),isPressed:v,"aria-expanded":v}))),Object(s.createElement)(E.Panel,{className:u},t)))}));ve.Slot=function(e){let{scope:t,...n}=e;return Object(s.createElement)(E.Slot,Object(T.a)({name:`ComplementaryArea/${t}`},n))};var _e=ve,ye=e=>{let{isActive:t}=e;return Object(s.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),Object(s.useEffect)((()=>(t?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{t&&document.body.classList.remove("is-fullscreen-mode")})),[t]),null},je=Object(s.forwardRef)((function(e,t){let{footer:n,header:o,sidebar:r,secondarySidebar:i,notices:l,content:a,drawer:c,actions:u,labels:d,className:p,shortcuts:b}=e;const m=Object(E.__unstableUseNavigateRegions)(b);!function(e){Object(s.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const h={
/* translators: accessibility text for the nav bar landmark region. */
drawer:Object(x.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:Object(x.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:Object(x.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:Object(x.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:Object(x.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:Object(x.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:Object(x.__)("Footer"),...d};return Object(s.createElement)("div",Object(T.a)({},m,{ref:Object(S.useMergeRefs)([t,m.ref]),className:P()(p,"interface-interface-skeleton",m.className,!!n&&"has-footer")}),!!c&&Object(s.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":h.drawer,tabIndex:"-1"},c),Object(s.createElement)("div",{className:"interface-interface-skeleton__editor"},!!o&&Object(s.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":h.header,tabIndex:"-1"},o),Object(s.createElement)("div",{className:"interface-interface-skeleton__body"},!!i&&Object(s.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":h.secondarySidebar,tabIndex:"-1"},i),!!l&&Object(s.createElement)("div",{className:"interface-interface-skeleton__notices"},l),Object(s.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":h.body,tabIndex:"-1"},a),!!r&&Object(s.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":h.sidebar,tabIndex:"-1"},r),!!u&&Object(s.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":h.actions,tabIndex:"-1"},u))),!!n&&Object(s.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":h.footer,tabIndex:"-1"},n))})),Ee=n(72);const Se=g.STORE_KEY;function ke(){return Object(s.createElement)(s.Fragment,null)}var we=n(17),Ce=n(120),xe=n(73),Te=n(433),Ie=n(315);const Pe="kubio-dragging-from-inserter--active",Re=()=>{setTimeout((()=>{const e=top.document.querySelector("body");e.classList.contains(Pe)&&e.classList.remove(Pe)}),10)},Me=()=>{const{setOpenInserter:e}=Object(w.useDispatch)(g.STORE_KEY),{insertionPoint:t,currentSelectedBlock:n}=Object(w.useSelect)((e=>({insertionPoint:e(g.STORE_KEY).getOpenedInserter(),currentSelectedBlock:e("core/block-editor").getSelectedBlockClientId()||null})),[]),o=Object(S.usePrevious)(n),{uiVersion:r}=Object(O.useUIVersion)();Object(s.useEffect)((()=>{2===r&&void 0!==o&&o!==n&&(e(!1),Re())}),[o,n,r]);const i=Object(v.useBlocksOwnerDocument)(),l=Object(S.useViewportMatch)("medium","<"),a=Object(s.useRef)(),c=Object(s.useCallback)((n=>{!1!==t&&(n.target.closest(".kubio-inserter-button")||n.target.closest(".kubio-sidebar-add-section-button")||n.target.classList.contains("edit-site-header-toolbar__inserter-toggle")||n.target.closest(".edit-site-header-toolbar__inserter-toggle")||n.target.closest(".kubio-inserter-ignore-click-outisde")||e(!1))}),[t,e]);return Object(d.useOnClickOutside)(a,c),Object(s.createElement)("div",{ref:a,className:"edit-site-editor__inserter-panel"},Object(s.createElement)("div",{className:"edit-site-editor__inserter-panel-header"},Object(s.createElement)(E.Button,{icon:Te.a,onClick:()=>e(!1)})),Object(s.createElement)("div",{className:"edit-site-editor__inserter-panel-content"},t&&Object(s.createElement)(j.__experimentalLibrary,{shouldFocusBlock:l,shouldSelectBlock:1===r,rootClientId:null==t?void 0:t.rootClientId,__experimentalInsertionIndex:null==t?void 0:t.insertionIndex,ownerDocument:i,insertionPoint:t,isAppender:null==t?void 0:t.isAppender})))},Ae=Object(xe.getNamesOfBlocks)(),Ne=["core/column","core/post-content","core/template-part",Ae.HEADER,Ae.FOOTER,Ae.SIDEBAR,Ae.COLUMN,Ae.LOOP_ITEM,Ae.SLIDER_CONTENT],De=e=>{let{variant:t="secondary",className:n="edit-site-header-toolbar__inserter-toggle"}=e;const{rootClientId:o,isInserterOpen:r}=Object(w.useSelect)((e=>{var t;const{getBlockListSettings:n,getSelectedBlockClientId:o,getBlockRootClientId:r,getBlock:i,getBlockIndex:l}=e("core/block-editor");let a,c=o(),s=n(c);(Object(h.isUndefined)(s)||s.templateLock)&&(a=l(c),c=r(c),s=n(c));const u=c&&Ne.includes(null===(t=i(c))||void 0===t?void 0:t.name)&&(Object(h.isUndefined)(s)||!s.templateLock);return{isInserterOpen:e(g.STORE_KEY).getOpenedInserter(),rootClientId:u?c:null,insertionIndex:a}}),[]),{setOpenInserter:i}=Object(w.useDispatch)(g.STORE_KEY),{selectBlock:l}=Object(w.useDispatch)("core/block-editor"),a=Object(s.useRef)(),{uiVersion:c}=Object(O.useUIVersion)(),u=Object(s.useCallback)((e=>{a.current.focus(),e.preventDefault(),e.stopPropagation()}),[]),d=Object(s.useCallback)((e=>{const t=!r&&"block-inserter";2!==c?(t?l(null):u(e),i(t,o),top.document.body.classList.remove("kubio-dragging-from-inserter--active")):t?(i("pattern-inserter/content",null),Re()):(u(e),i(!1,null))}),[r,o]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.Button,{ref:a,variant:t,isPressed:r,className:n,onClick:d,icon:r?L.a:Ie.a,onMouseDown:e=>{e.preventDefault()},label:(p=r,p?Object(x.__)("Close","kubio"):Object(x.__)("Add block","kubio"))}));var p},Le=[];function ze(e){let{title:t,label:n,children:o,areaIdentifier:r,className:i,backCallback:l,parentAreaIdentifier:a,onOpen:c}=e;const{clearSelectedBlock:u}=Object(w.useDispatch)("core/block-editor"),{openSidebar:d}=Object(w.useDispatch)(g.STORE_KEY),p=()=>{d(a||"document"),u()},b=l?()=>l(p):p,m=Object(w.useSelect)((e=>e(g.STORE_KEY).getSubSidebars[r])),{addSubSidebar:f}=Object(w.useDispatch)(g.STORE_KEY);return Object(s.useLayoutEffect)((()=>{m||(f({areaIdentifier:r,sidebar:Object(s.createElement)(E.Animate,{type:"slide-in"},(e=>{let{className:n}=e;return Object(s.createElement)(We,{title:t,backCallback:b,areaIdentifier:r,className:`${n} kubio-subsidebar-content`},o,Ge(r))}))}),Le.push(r))}),[m]),Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"kubio-subsidebar-container"},Object(s.createElement)("div",{className:P()("components-panel__header","interface-complementary-area-header","kubio-subsidebar-title",i),tabIndex:-1},Object(s.createElement)(E.Button,{label:Object(x.__)("Open","kubio"),onClick:()=>{u(),d(r),Object(h.isFunction)(c)&&c()}},Object(s.createElement)("strong",null,n||t),Object(s.createElement)(Ce.a,{icon:we.ArrowRight,className:"components-panel__arrow arrow_general_settings"})))),Object(s.createElement)("div",{style:{display:"none"}},o))}const Be=[],Fe=e=>{let{name:t,title:n=null,parent:o="document",render:r,isSubsidebar:i=!1}=e;Object(h.find)(Be,{name:t})&&console.error(`sidebar ${t} already added`),Be.push({name:t,parent:o,render:r,title:n||t,isSubsidebar:i})},Ge=e=>(e=>Be.filter((t=>{let{parent:n}=t;return n===e})))(e).map((t=>{let{title:n,render:o,name:r,isSubsidebar:i}=t;const l=i?ze:We;return Object(s.createElement)(l,{title:n,parentAreaIdentifier:e,areaIdentifier:r,key:`${e}.${r}`},o())})),He=e=>{let{name:t,title:n,parent:o="document",render:r}=e;return Fe({name:t,title:n,parent:o,render:r,isSubsidebar:!1})},Ue=e=>{let{name:t,title:n,parent:o="document",render:r}=e;return Fe({name:t,title:n,parent:o,render:r,isSubsidebar:!0})};function We(e){let{areaIdentifier:t,title:n,backCallback:o=null,children:r,className:i}=e;const{uiVersion:l}=Object(O.useUIVersion)();return Object(s.createElement)(_e,{scope:`${g.STORE_KEY}/sidebars`,complementaryAreaIdentifier:`${g.STORE_KEY}/sidebar/${t}`,identifier:`${g.STORE_KEY}/sidebar/${t}`,isPinnable:!1,className:P()(i,o?"kubio-sidebar-header-block":""),header:Object(s.createElement)("div",{className:P()("components-panel__header","kubio-sidebar-header","accordion-section-title",o?"kubio-sidebar-header--has-back":""),tabIndex:-1},o&&Object(s.createElement)(E.Button,{className:"kubio-sidebar-header-back-button",onClick:o,showTooltip:!0,label:Object(x.__)("Back","kubio")},Object(s.createElement)(Ce.a,{icon:we.ArrowLeft,className:"kubio-sidebar-header-arrow"})),Object(s.createElement)("strong",null,"function"==typeof n?n():n),2===l&&Object(s.createElement)(De,{className:"kubio-inserter-button",variant:"primary"}))},r,Ge(t))}var Ve=n(12);function Ke(e){let{children:t}=e;const{clearSelectedBlock:n}=Object(w.useDispatch)("core/block-editor"),{openSidebar:o}=Object(w.useDispatch)(g.STORE_KEY),{blockType:r,isMultiSelection:i}=Object(w.useSelect)((e=>{const{getSelectedBlockClientId:t,getBlockName:n,hasMultiSelection:o}=e("core/block-editor"),r=t(),i=r&&n(r);return{blockType:r&&Object(Ve.getBlockType)(i),isMultiSelection:o()}}));return Object(s.createElement)(We,{areaIdentifier:"block-inspector",title:()=>Object(s.createElement)("span",{className:"kubio-header-active-section"},Object(s.createElement)(j.BlockIcon,{icon:null==r?void 0:r.icon}),Object(s.createElement)("span",{className:"kubio-header-active-section page-title"},i?Object(x.__)("Multiple selection","kubio"):null==r?void 0:r.title)),backCallback:()=>{o("document"),n()}},!i&&t,i&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"kubio-multiple-selection"},Object(s.createElement)("p",null,Object(x.__)("Sidebar controls are not availble on multiple blocks selection","kubio")))))}const $e=()=>{const e=Object(v.useGetGlobalSessionProp)("ready",!1),{templateLabel:t}=Object(w.useSelect)((t=>{if(!e)return{templateLabel:Object(x.__)("Page","kubio")};const{getCurrentPostType:n,getCurrentPostId:o,getEditedPostType:r,getEditedPostId:i}=t(g.STORE_KEY),{getEntityRecord:l}=t("core"),a=n(),c=o();let s=Object(x.__)("Page","kubio");var u,d,p,b;return s=a&&c?(null===(u=l("postType",n(),o()))||void 0===u||null===(d=u.title)||void 0===d?void 0:d.rendered)||null:(null===(p=l("postType",r(),i()))||void 0===p||null===(b=p.title)||void 0===b?void 0:b.rendered)||Object(x.__)("Page","kubio"),{templateLabel:s}}),[e]),n=Object(v.useCurrentPageTitle)({title:t});return(null==n?void 0:n.title)||Object(x.__)("Page","kubio")};var Ye=n(6),qe=n(19),Xe=n(280),Qe=n(117),Ze=n(198),Je=n.n(Ze);const et=Object(s.createContext)({clientId:null,setContainer:h.noop}),tt=()=>Object(s.useContext)(et),nt=Object(xe.getNamesOfBlocks)(),ot=[nt.SECTION,nt.HERO,nt.NAVIGATION].map((e=>`[data-type="${e}"]`)).join(","),rt=e=>{let{children:t}=e;const[n,o]=Object(s.useState)(null),r=Object(v.useBlocksOwnerDocument)(),i=Object(S.useThrottle)(Object(s.useCallback)((e=>{var t,n;const r=null==e||null===(t=e.target)||void 0===t||null===(n=t.closest)||void 0===n?void 0:n.call(t,ot),i=(null==r?void 0:r.getAttribute("data-block"))||null;o(i)}),[]),300);Object(s.useEffect)((()=>{if(r)return r.addEventListener("mousemove",i),()=>r.removeEventListener("mousemove",i)}),[r]);const l=Object(s.useMemo)((()=>({clientId:n})),[n]);return Object(s.createElement)(et.Provider,{value:l},t)};var it=n(250);const lt=Object(Qe.c)((()=>Object(s.createElement)(E.Tooltip,{text:Object(x.__)("Move","kubio")},Object(s.createElement)("div",{className:"d-flex"},Object(s.createElement)(Ce.a,{icon:it.a,className:"draggable-item"})))));var at=n(56),ct=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(M.Path,{d:"M5 5v1.5h14V5H5zm0 7.8h14v-1.5H5v1.5zM5 19h14v-1.5H5V19z"}));const st=Object(s.createContext)(null),ut=e=>{let{children:t}=e;const n=Object(at.usePrimaryMenuBlockEditor)();return Object(s.createElement)(st.Provider,{value:n},t)};var dt=Object(s.createElement)(M.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(s.createElement)(M.Path,{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z"}));const pt=e=>{let{containerRef:t,afterMenuCreation:n,onClose:o}=e;const[r,i]=Object(s.useState)(""),[l,a]=Object(s.useState)(!1);return Object(s.createElement)(E.Popover,{className:"kubio-options-popover kubio-create-menu-popover",anchorRef:t,position:"middle right",onClose:o},Object(s.createElement)(E.Placeholder,{className:"wp-block-navigation-placeholder kubio-menu-placeholder",icon:dt,label:Object(x.__)("Kubio Menu","kubio")},Object(s.createElement)("div",null,Object(s.createElement)("div",{className:"kubio-create-menu-popover-description"},Object(s.createElement)("span",null,Object(x.__)("There is no header menu created. Please create a new one","kubio"))),Object(s.createElement)("div",{className:"wp-block-navigation-placeholder__actions"},Object(s.createElement)(E.Flex,null,Object(s.createElement)(E.FlexBlock,null,Object(s.createElement)(E.BaseControl,{className:"kubio-create-menu-popover-input-control"},Object(s.createElement)(E.BaseControl.VisualLabel,null,Object(x.__)("Menu name","kubio")),Object(s.createElement)(E.__experimentalInputControl,{value:r,onChange:i,placeholder:Object(x.__)("Please set a name","kubio")})),Object(s.createElement)(E.Button,{isSecondary:!0,className:"wp-block-navigation-placeholder__button",disabled:0===r.length,isBusy:l,onClick:async()=>{a(!0),await Object(at.createPrimaryMenu)(r),a(!1),n()}},Object(x.__)("Create new Menu","kubio"))))))))},bt=e=>{let{dataHelper:t,containerRef:n}=e;const[o,r]=Object(s.useState)(!1),[i,l]=Object(s.useState)(!1),{exists:a,items:c,setItems:u,hasResolved:d}=Object(s.useContext)(st),p=Object(w.useSelect)((e=>{var t,n;const{getPage:o,getEntity:r}=e(g.STORE_KEY),i=(null===(t=o())||void 0===t?void 0:t.link)||null,l=(null===(n=r())||void 0===n?void 0:n.path)||null;return(i||l||"").replace(/\/$/,"")}),[]);Object(s.useEffect)((()=>{i&&a&&d&&(u([{...Object(at.generateItemInitialData)(),label:null==t?void 0:t.getAttribute("attrs.name"),url:`${p}/${h}`}],!0),l(!1))}),[a,i,u,d]);const b=Object(s.useCallback)((()=>{if(f.length){const e=f.map((e=>{let{id:t}=e;return t})),t=m.filter((t=>-1===e.indexOf(t.id)));u([...t],!0)}else{const e=Math.max.apply(null,m.filter((e=>{let{parent:t}=e;return 0===t})).map((e=>{let{order:t}=e;return t})).filter(Boolean))+1;u([...m,{...Object(at.generateItemInitialData)(),label:null==t?void 0:t.getAttribute("attrs.name"),url:`${p}/${h}`,order:e}],!0)}}),[u,c,a,p]),m=Array.isArray(c)?c:[],h="#"+(null==t?void 0:t.getAttribute("anchor")),f=Object(s.useMemo)((()=>{if(!a)return[];const e=m.filter((e=>{let{url:t}=e;return t===`${p}/${h}`||t===`${p}${h}`}));return e.length?e:[]}),[a,c,p]),O=Object(s.useCallback)((()=>{a?b():r(!0)}),[a,b]),v=f.length>0;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.Tooltip,{text:v?Object(x.__)("Remove from menu","kubio"):Object(x.__)("Add to menu","kubio"),position:"top left"},Object(s.createElement)("div",{className:"d-flex"},Object(s.createElement)(E.Button,{isSmall:!0,onClick:()=>O(),icon:ct,className:P()(["icon-menu",{active:v}])}))),o&&Object(s.createElement)(pt,{containerRef:null==n?void 0:n.current,afterMenuCreation:()=>{l(!0),r(!1)},onClose:()=>r(!1)}))},mt=e=>{let{onRemove:t,onSelect:n,dataHelper:o}=e;const{selectBlock:r,toggleBlockHighlight:i}=Object(w.useDispatch)("core/block-editor"),l=o.getAttribute("anchor"),a=o.getAttribute("attrs.name"),[c,u]=Object(s.useState)(!1),[p,b]=Object(s.useState)(l),[m,h]=Object(s.useState)(a),g=Object(v.useBlocksOwnerDocument)();Object(s.useEffect)((()=>{p!==l&&b(l),m!==a&&h(a)}),[l,a]);const O=Object(s.useRef)(),_=Object(s.useRef)(),y=f.a.debounce((e=>{e=e||p;let t=Je()(e);t=Object(qe.getUniqueSlug)(t,g),t&&(t!==p&&b(t),t!==l&&o.setAttribute("anchor",t))}),100),{clientId:j}=tt(),S=Object(s.useCallback)((()=>{c&&u(!1)}),[c,u]),k=e=>{const t=null==e?void 0:e.clientId,n=Object(qe.getPreviewElementByModelId)(t,g);n&&n.scrollIntoView(),i(t,!0)};return Object(d.useOnClickOutside)(O,S),Object(s.createElement)("div",{ref:_,className:"page-section-item"},Object(s.createElement)("div",{className:(e=>{const t=["kubio-section-list-item"];return e&&t.push("list-item-full-height"),j===o.clientId&&t.push("hovered"),t.join(" ")})(c)},Object(s.createElement)("div",{className:"align-items-center drag-icon"},Object(s.createElement)(lt,null)),Object(s.createElement)("div",{className:"input-container",ref:O},Object(s.createElement)("div",{className:"input-drag-text"},Object(s.createElement)("input",{type:"text",value:m,className:"input-name",onChange:e=>{const t=e.target.value;h(t)},onFocus:e=>{k(o),c||u(!0)},onBlur:()=>{m!==a&&(o.setAttribute("attrs.name",m),y(m))}})),c&&Object(s.createElement)("div",{className:"id-div"},"ID:#",Object(s.createElement)("input",{type:"text",value:p,className:"input-name input-id",onFocus:e=>{k(o)},onChange:e=>{b(e.target.value)},onBlur:()=>{p===l&&m===a||y()}}))),Object(s.createElement)("div",{onClick:()=>{r(null==o?void 0:o.clientId)},className:"page-section-item__select-area",role:"button",tabIndex:0}),Object(s.createElement)("div",{className:"align-items-center"},Object(s.createElement)(E.Button,{isSmall:!0,icon:we.DeleteItemIcon,className:"icon-close",onClick:t,showTooltip:!0,tooltipPosition:"top left",label:Object(x.__)("Remove","kubio")}),Object(s.createElement)(bt,{dataHelper:o,containerRef:_}),Object(s.createElement)(E.Button,{isSmall:!0,icon:Xe.a,className:"icon-settings",onClick:n,showTooltip:!0,tooltipPosition:"top left",label:Object(x.__)("Settings","kubio")}))))},ht="kubio/edit-site",ft=e=>{let{name:t="",area:n}=e;const o=Object(s.useRef)(),{setOpenInserter:r}=Object(w.useDispatch)(ht),i=Object(w.useSelect)((e=>{e(ht).getOpenedInserter()})),l=jt[n],a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;const t=`pattern-inserter/${f.a.get(kt,e,kt[yt.CONTENT])}`;i!==t&&await r(!1,null),r(t,n)},c=null==l?void 0:l.toLowerCase();return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{ref:o,className:["kubio-full-section","kubio-full-section--placeholder"].join(" ")},Object(s.createElement)("div",{className:"kubio-subsidebar-container"},Object(s.createElement)("div",{className:P()("components-panel__header","interface-complementary-area-header","kubio-subsidebar-title","kubio-subsidebar-title-header"),tabIndex:-1},Object(s.createElement)("div",{className:"kubio-sidebar-title-text"},l),Object(s.createElement)("div",{className:"dummy-column"}),Object(s.createElement)("div",{className:"section-list-header-buttons-holder"},Object(s.createElement)(E.Button,{isSmall:!0,icon:Ie.a,className:"section-icon-container",onClick:function(){a(yt.CONTENT)},showTooltip:!0,tooltipPosition:"top left",label:Object(x.__)("Add block/section","kubio")})))),Object(s.createElement)(Ye.ControlNotice,{content:Object(x.sprintf)(Object(x.__)("The current page uses the theme %s. Use the button below to replace it with a Kubio %s","kubio"),c,c)}),Object(s.createElement)(E.Button,{isPrimary:!0,onClick:()=>a(),className:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n===yt.HEADER?["btn-primary","header-button"].concat(t).join(" "):["btn-primary"].concat(t).join(" ")}(t,["kubio-button-add-blocks"])},Object(s.createElement)("span",{className:P()("kubio-header-section-main-button",{"header-button":t===yt.HEADER})},(()=>{switch(n){case yt.HEADER:return Object(x.__)("Choose header design","kubio");case yt.FOOTER:return Object(x.__)("Choose footer design","kubio");case yt.SIDEBAR:return Object(x.__)("Add section","kubio");default:return Object(x.__)("Add predesigned section","kubio")}})()))))};function gt(e){const{templateParts:t,selectBlock:n,removeBlocks:o,reorderBlocks:r}=e,{blockTypes:i,getBlocks:l,isPage:a}=Object(w.useSelect)((e=>{const{getPage:t}=e(g.STORE_KEY),n=Object(w.select)("core").getEditedEntityRecord("root","site");let o;t&&(o=t());const r=f.a.get(o,"context",{}),{postType:i,postId:l}=r,a="page"===(null==n?void 0:n.show_on_front)&&parseInt(null==n?void 0:n.page_for_posts)===parseInt(l);return{isPage:"page"===i&&!a,blockTypes:e("core/blocks").getBlockTypes(),getBlocks:e("core/block-editor").getBlocks}})),[c]=Object(v.useGlobalSessionProp)("currentPageHasBlocksContent",!0,[]),u=Object(s.useMemo)((()=>{const e={selectBlock:n,removeBlocks:o,reorderBlocks:r,innerBlocks:l(),templatePart:{},blockTypes:i,label:Object(x.__)("Content","kubio")};return c&&Object(s.createElement)(It,e)}),[t,c]);return Object(s.createElement)(s.Fragment,null,a&&Object(s.createElement)(ft,{area:"header"}),u,a&&Object(s.createElement)(ft,{area:"footer"}))}function Ot(e){const{templateParts:t,selectBlock:n,removeBlocks:o,reorderBlocks:r}=e,{blockTypes:i}=Object(w.useSelect)((e=>({blockTypes:e("core/blocks").getBlockTypes(),getBlocks:e("core/block-editor").getBlocks})));return Object(s.createElement)(s.Fragment,null,t.map(((e,t)=>{const{name:l,clientId:a}=e,c={selectBlock:n,removeBlocks:o,reorderBlocks:r,name:l,templatePart:e,templatePartClientId:a,blockTypes:i};return Object(s.createElement)(It,Object(T.a)({key:"template-sections-"+t},c))})))}function vt(e){let{templateParts:t,...n}=e;const o=Object(w.useSelect)((e=>{const{currentPageHasFSETemplate:t}=e(g.STORE_KEY);return t()}),[]),r=Object(w.useSelect)((e=>e("core").getEntityRecords("postType","wp_template_part",{per_page:-1})||[]),[]),i=Object(d.useDeepMemo)((()=>t.map((e=>{const t=r.find((t=>{var n;return(null==t?void 0:t.slug)===(null==e||null===(n=e.attributes)||void 0===n?void 0:n.slug)}));let n=null==t?void 0:t.area;return{...e,area:n}}))),[t,r]),l=Object(d.useDeepMemo)((()=>f.a.orderBy(i,(e=>f.a.findIndex(Et,(t=>t===f.a.get(e,"area",yt.CONTENT)))))),[i]);let a=null;return a=o?Ot:gt,Object(s.createElement)(a,Object(T.a)({},n,{templateParts:l}))}const _t=e=>{let{onRemove:t,onSelect:n,item:o,dataHelper:r}=e;const{blockTypes:i}=Object(w.useSelect)((e=>({blockTypes:e("core/blocks").getBlockTypes()}))),{selectBlock:l}=Object(w.useDispatch)("core/block-editor"),{clientId:a}=tt(),c=P()("kubio-section-list-item",{hovered:a===o.clientId}),u=Object(s.useRef)();return Object(s.useEffect)((()=>{a===o.clientId&&u.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),[a]),Object(s.createElement)("div",{ref:u,className:"page-section-item"},Object(s.createElement)("div",{className:c},Object(s.createElement)("div",{className:"align-items-center"},Object(s.createElement)(lt,null)),Object(s.createElement)("div",{className:"input-container"},Object(s.createElement)("span",{className:"input-name"},Object(s.createElement)("span",{className:"input-name-text"},(e=>{const t=Object(h.find)(i,{name:e});return(null==t?void 0:t.title)||e})(o.name)))),Object(s.createElement)("div",{onClick:()=>{l(null==r?void 0:r.clientId)},className:"page-section-item__select-area",role:"button",tabIndex:"0"}),Object(s.createElement)("div",{className:"align-items-center"},Object(s.createElement)(E.Button,{isSmall:!0,icon:we.DeleteItemIcon,className:"icon-close",onClick:t,showTooltip:!0,tooltipPosition:"top left",label:Object(x.__)("Remove","kubio")}),Object(s.createElement)(E.Button,{isSmall:!0,icon:Xe.a,className:"icon-settings",onClick:n,showTooltip:!0,tooltipPosition:"top left",label:Object(x.__)("Settings","kubio")}))))},yt={HEADER:"header",FOOTER:"footer",SIDEBAR:"sidebar",CONTENT:"content"},jt={[yt.HEADER]:Object(x.__)("Header","kubio"),[yt.FOOTER]:Object(x.__)("Footer","kubio"),[yt.SIDEBAR]:Object(x.__)("Sidebar","kubio"),[yt.CONTENT]:Object(x.__)("Content","kubio")},Et=[yt.HEADER,yt.CONTENT,yt.SIDEBAR,yt.FOOTER],St=["kubio/header","kubio/footer","core/post-content","core/template-part"],kt={[yt.HEADER]:"header",[yt.FOOTER]:"footer",[yt.SIDEBAR]:"sidebar",[yt.CONTENT]:"post-content"},wt=Object(Qe.b)((e=>{let{item:t,onRemove:n=h.noop,onSelect:o=h.noop,dataHelper:r}=e;return Object(qe.isGutentagPrefixed)(t.name)?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(mt,{onRemove:()=>n(t),onSelect:()=>o(t),item:t,dataHelper:r})):Object(s.createElement)(_t,{onRemove:()=>n(t),onSelect:()=>o(t),item:t,dataHelper:r})})),Ct=e=>{var t;const n=Object(s.useMemo)((()=>xt()),[]);return Object(s.createElement)(n,Object(T.a)({clientId:null===(t=e.item)||void 0===t?void 0:t.clientId},e))},xt=()=>Object(d.WithKubioDataHelperProp)(wt),Tt=Object(Qe.a)((e=>{let{items:t,onRemove:n,onSelect:o}=e;return Object(s.createElement)("div",null,Object(s.createElement)(w.AsyncModeProvider,{value:!0},null==t?void 0:t.map(((e,t)=>Object(s.createElement)(Ct,{key:e.clientId,item:e,onRemove:n,onSelect:o,index:t})))))})),It=e=>{let{name:t="",reorderBlocks:n,templatePart:o={},blockTypes:r,removeBlocks:i,selectBlock:l,templatePartClientId:a,label:c}=e;const u=null==o?void 0:o.area,d=kt[yt.CONTENT],p=f.a.get(kt,u,d),m=Object(s.useRef)(),v=Object(s.useRef)(),_=Object(s.useRef)(),[y,j]=Object(s.useState)(!1),{setOpenInserter:S}=Object(w.useDispatch)(g.STORE_KEY),k=p,{isUnlocked:C}=Object(Ye.useTemplatePartLock)(k),[T,I]=Object(s.useState)(!1),{postType:R,postId:M}=Object(w.useSelect)((e=>{var t,n;return(null===(t=e(g.STORE_KEY))||void 0===t||null===(n=t.getPage())||void 0===n?void 0:n.context)||{}}),[]),A=Object(w.useSelect)((e=>{e(g.STORE_KEY).getOpenedInserter()})),{uiVersion:N}=Object(O.useUIVersion)(),D=Object(w.useSelect)((e=>e("core/block-editor").getBlocks(a)),[a]);if("core/post-content"===t&&Object(b.applyFilters)("kubio.showRenderedPostContent","page"!==R,R,M))return Object(s.createElement)(s.Fragment,null);const L=t.includes("kubio")&&["header","footer","sidebar"].includes(k),z=["kubio-full-section"];return L&&(C?z.push("kubio-full-section--unlocked"):z.push("kubio-full-section--locked")),Object(s.createElement)("div",{ref:m,className:z.join(" ")},L&&Object(s.createElement)("div",{ref:v,tabIndex:-1,role:"button",className:P()("kubio-full-section-overlay",{"kubio-full-section-overlay--show-popup":y})}),Object(s.createElement)("div",{className:"kubio-subsidebar-container"},Object(s.createElement)("div",{className:P()("components-panel__header","interface-complementary-area-header","kubio-subsidebar-title","kubio-subsidebar-title-header"),tabIndex:-1},Object(s.createElement)("div",{className:"kubio-sidebar-title-text"},c||(()=>{let e=jt[u];return e||(e=(()=>{const e=t,n=Object(h.find)(r,{name:e});return(null==n?void 0:n.title)||e})()),e})()),Object(s.createElement)("div",{className:"dummy-column"}),Object(s.createElement)("div",{ref:_,className:"section-list-header-buttons-holder"},L&&!C&&Object(s.createElement)(Ye.KubioPopup,{position:2===N?"middle right":"top left",className:"kubio-options-popover kubio-template-controls-popover",buttonRef:v,anchorRef:2===N?_:m,selectorToIgnoreOnClickOutside:".h-template-wizard__modal",onOpen:()=>j(!0),onClose:()=>j(!1)},Object(s.createElement)(Ye.TemplateLockModal,{title:Object(x.__)("Choose editing mode","kubio")},Object(s.createElement)(Ye.TemplateLockControls,{isWizardShown:T,setIsWizardShown:I,templatePart:k}))),Object(s.createElement)(E.Button,{isSmall:!0,icon:Xe.a,className:"section-icon-container",onClick:()=>{l(o.clientId)},showTooltip:!0,tooltipPosition:"top left",label:Object(x.__)("Settings","kubio")}),Object(s.createElement)(E.Button,{isSmall:!0,icon:Ie.a,className:"section-icon-container",onClick:function(){S(`pattern-inserter/${p}-blocks`,o.clientId)},showTooltip:!0,tooltipPosition:"top left",label:Object(x.__)("Add block/section","kubio")})))),Object(s.createElement)(Tt,{helperClass:"kubio-list-item-is-sorting",helperContainer:()=>m.current,onSortEnd:e=>{let{oldIndex:t,newIndex:o}=e;n(D,t,o)},lockAxis:"y",useDragHandle:!0,items:D,onRemove:e=>{i([e.clientId],!1)},onSelect:e=>{l(e.clientId)}}),p&&Object(s.createElement)(E.Button,{isPrimary:!0,onClick:()=>async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=`pattern-inserter/${f.a.get(kt,e,d)}`;A!==t&&await S(!1,null),S(t,o.clientId)}(),className:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u===yt.HEADER?["btn-primary","header-button"].concat(t).join(" "):["btn-primary"].concat(t).join(" ")}(t,["kubio-button-add-blocks","kubio-sidebar-add-section-button"])},Object(s.createElement)("span",{className:"kubio-header-section-main-button"},(()=>{switch(u){case yt.HEADER:return Object(x.__)("Choose header design","kubio");case yt.FOOTER:return Object(x.__)("Choose footer design","kubio");case yt.SIDEBAR:return Object(x.__)("Add section","kubio");default:return Object(x.__)("Add predesigned section","kubio")}})())))};var Pt=Object(S.compose)(Object(w.withSelect)((e=>{const{getSelectedBlockClientId:t,getBlock:n,getBlockParents:o,getClientIdsWithDescendants:r}=e("core/block-editor"),i=r().map(n).filter((e=>{let{name:t}=e;return St.includes(t)}));return{selectedBlockClientId:t(),templateParts:i,getBlockParents:o}})),Object(w.withDispatch)(((e,t)=>{let{onSelect:n=h.noop,getBlockParents:o,getBlockAttributes:r}=t;const{removeBlocks:i,moveBlockToPosition:l,updateBlockAttributes:a}=e("core/block-editor");return{selectBlock(t){e("core/block-editor").selectBlock(t),n(t)},removeBlocks:i,reorderBlocks:(e,t,n)=>{const r=o(e[t].clientId).pop();l(e[t].clientId,r,r,n)},updateBlockAttribute:(e,t,n)=>{let o=r(e);o=Object(h.set)(o,t,n),a(e,{...o})}}})))((e=>Object(s.createElement)(ut,null,Object(s.createElement)("div",{className:"block-editor-block-navigation__container kubio-interface"},Object(s.createElement)("div",{className:"block-editor-block-navigation__label"},Object(s.createElement)(vt,e))))));function Rt(){const e=Object(v.useCurrentPageBodyClasses)(),{additionalCSS:t,setAdditionalCSS:n}=Object(_.useGlobalAdditionalCSS)(),[o,r]=Object(s.useState)(t);Object(s.useEffect)((()=>{t!==o&&r(t)}),[t]);const i=Object(S.useDebounce)(n,300);return Object(s.createElement)(E.PanelBody,{initialOpen:!0,title:Object(x.__)("Additional CSS","kubio")},Object(s.createElement)(Ye.CodeMirrorControl,{value:o,onChange:e=>{i(e),r(e)},mode:"css"}),e&&!!e.length&&Object(s.createElement)(Ye.ControlNotice,{content:Object(s.createElement)(s.Fragment,null,Object(s.createElement)("span",null,Object(x.__)("Current page has the following classes that can be used as top selectors:","kubio")),Object(s.createElement)("div",null,Object(s.createElement)("strong",null,e.join(", "))))}))}const Mt=e=>{let{areaIdentifier:t}=e;const n=Object(w.useSelect)((e=>e(g.STORE_KEY).getEditorOpenedSidebar()),[]),o=null==n?void 0:n.endsWith(t);return Object(s.createElement)(s.Fragment,null,o&&Object(s.createElement)(Rt,null))};var At=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(ze,{title:Object(x.__)("Additional CSS","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/additional-css`},Object(s.createElement)(Mt,{areaIdentifier:`${t}/additional-css`}))},Nt=n(32),Dt=n.n(Nt),Lt=n(47),zt=n.n(Lt),Bt=n(29);const Ft=[{label:Object(x.__)("Kubio Default","kubio"),colors:[{slug:"kubio-color-1",color:[3,169,244]},{slug:"kubio-color-2",color:[247,144,7]},{slug:"kubio-color-3",color:[0,191,135]},{slug:"kubio-color-4",color:[102,50,255]},{slug:"kubio-color-5",color:[255,255,255]},{slug:"kubio-color-6",color:[0,0,0]}]},{label:Object(x.__)("Vibrant & Elegant","kubio"),colors:[{slug:"kubio-color-1",color:[48,62,122]},{slug:"kubio-color-2",color:[247,229,151]},{slug:"kubio-color-3",color:[246,97,97]},{slug:"kubio-color-4",color:[158,201,226]},{slug:"kubio-color-5",color:[246,248,250]},{slug:"kubio-color-6",color:[32,42,84]}]},{label:Object(x.__)("XPR | Glaucous & Coquelicot","kubio"),colors:[{slug:"kubio-color-1",color:[233,63,12]},{slug:"kubio-color-2",color:[238,192,13]},{slug:"kubio-color-3",color:[9,164,207]},{slug:"kubio-color-4",color:[181,214,209]},{slug:"kubio-color-5",color:[239,249,235]},{slug:"kubio-color-6",color:[85,119,173]}]},{label:Object(x.__)("XPR | Fruits & Jellies","kubio"),colors:[{slug:"kubio-color-1",color:[90,209,0]},{slug:"kubio-color-2",color:[0,176,244]},{slug:"kubio-color-3",color:[94,204,227]},{slug:"kubio-color-4",color:[255,181,0]},{slug:"kubio-color-5",color:[239,249,235]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(x.__)("XPR-1","kubio"),colors:[{slug:"kubio-color-1",color:[255,137,0]},{slug:"kubio-color-2",color:[0,144,183]},{slug:"kubio-color-3",color:[180,180,180]},{slug:"kubio-color-4",color:[230,230,230]},{slug:"kubio-color-5",color:[246,248,250]},{slug:"kubio-color-6",color:[58,58,58]}]},{label:Object(x.__)("XPR-2","kubio"),colors:[{slug:"kubio-color-1",color:[122,146,0]},{slug:"kubio-color-2",color:[200,0,69]},{slug:"kubio-color-3",color:[248,110,0]},{slug:"kubio-color-4",color:[255,194,0]},{slug:"kubio-color-5",color:[246,248,250]},{slug:"kubio-color-6",color:[71,0,55]}]},{label:Object(x.__)("XPR-3","kubio"),colors:[{slug:"kubio-color-1",color:[3,12,73]},{slug:"kubio-color-2",color:[255,0,0]},{slug:"kubio-color-3",color:[191,234,238]},{slug:"kubio-color-4",color:[255,181,0]},{slug:"kubio-color-5",color:[226,235,231]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(x.__)("XPR-4","kubio"),colors:[{slug:"kubio-color-1",color:[153,0,255]},{slug:"kubio-color-2",color:[237,0,166]},{slug:"kubio-color-3",color:[172,255,0]},{slug:"kubio-color-4",color:[243,162,0]},{slug:"kubio-color-5",color:[215,228,228]},{slug:"kubio-color-6",color:[66,157,255]}]},{label:Object(x.__)("XPR-5","kubio"),colors:[{slug:"kubio-color-1",color:[31,43,87]},{slug:"kubio-color-2",color:[153,187,227]},{slug:"kubio-color-3",color:[70,124,198]},{slug:"kubio-color-4",color:[225,98,66]},{slug:"kubio-color-5",color:[231,240,249]},{slug:"kubio-color-6",color:[71,0,55]}]},{label:Object(x.__)("XPR-6","kubio"),colors:[{slug:"kubio-color-1",color:[237,59,56]},{slug:"kubio-color-2",color:[242,250,200]},{slug:"kubio-color-3",color:[208,238,57]},{slug:"kubio-color-4",color:[222,235,171]},{slug:"kubio-color-5",color:[238,240,231]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(x.__)("XPR-7","kubio"),colors:[{slug:"kubio-color-1",color:[0,192,150]},{slug:"kubio-color-2",color:[0,231,153]},{slug:"kubio-color-3",color:[51,247,133]},{slug:"kubio-color-4",color:[152,255,129]},{slug:"kubio-color-5",color:[242,252,247]},{slug:"kubio-color-6",color:[23,37,42]}]},{label:Object(x.__)("XPR-8","kubio"),colors:[{slug:"kubio-color-1",color:[20,30,112]},{slug:"kubio-color-2",color:[39,76,196]},{slug:"kubio-color-3",color:[69,168,255]},{slug:"kubio-color-4",color:[94,247,255]},{slug:"kubio-color-5",color:[236,246,255]},{slug:"kubio-color-6",color:[27,46,77]}]}];Ft.forEach(((e,t)=>(t>1&&(e[Bt.PRO_ON_FREE_FLAG]=!0),e)));var Gt=Ft;const Ht=()=>{const{getPalette:e,setPalette:t}=Object(_.useGlobalDataColors)(),n=e(),[o,r]=Object(s.useState)(n),i=Object(w.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null})),l=Object(s.useCallback)(((e,n)=>{const i=zt()(n),l=[i._r,i._g,i._b],a=[...o];a[e]={...a[e],color:l},Dt()(o[e].color,a[e].color)||(r(a),t(a))}),[r,t,o]),a=Object(s.useCallback)((e=>{r([...e]),t([...e])}),[r,t]),c=e=>()=>{a(e.colors)},u=e=>t=>{l(e,t)},d=Object(s.useCallback)((()=>{const e={slug:"kubio-color-"+(parseInt(o.length)+1),color:[255,255,255]};o.push(e),t(o)}),[r,t,o]),p=Object(s.useCallback)((e=>{o.splice(e,1),t(o)}),[r,t,o]);return Object(s.createElement)(E.PanelBody,{title:Object(x.__)("Color Palette","kubio"),className:"kubio-color-palette-panel"},Object(s.createElement)(E.BaseControl,null,Object(s.createElement)(E.Flex,{justify:"center",className:""},Object(s.createElement)(E.FlexBlock,null,Object(s.createElement)(E.BaseControl,null,Object(x.__)("Current color scheme","kubio"))),Object(s.createElement)(E.FlexItem,null,Object(s.createElement)("span",{className:"c-components-units-list"},Object(s.createElement)("span",{role:"button",tabIndex:0,key:"palette-add-color",className:"c-components-units-list__item is-selected add-colors-button",onClick:d},Object(x.__)("Add colors","kubio"))))),Object(s.createElement)(E.Flex,{gap:0,className:"kubio-current-colors-palette"},o.map(((e,t)=>{let{color:n,slug:o}=e;const r=`rgb(${n.join(",")})`;return Object(s.createElement)(Ye.ColorIndicatorPopover,{key:`${o}-${t}`,color:r,onChange:u(t),alpha:!1,showPalette:!1,returnRawValue:!0,disabled:!1,hasButton:t>5,buttonIcon:!1,buttonText:Object(x.__)("Remove color","kubio"),onReset:()=>p(t)})})))),!i&&Object(s.createElement)(Ye.ControlNotice,{className:"notice-general-settings no-padding",content:Object(x.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(E.BaseControl,{label:Object(x.__)("More Palettes","kubio"),className:"more_palettes_base"},Gt.map(((e,t)=>Object(s.createElement)(E.BaseControl,{label:e.label,key:t,className:P()("kubio-color-scheme-base-control")},Object(s.createElement)(E.Button,{className:"kubio-color-scheme-selector",onClick:c(e),key:e.label},Object(s.createElement)(E.Flex,{gap:0},e.colors.map((e=>{let{slug:t,color:n}=e;return Object(s.createElement)(Ye.ColorIndicator,{key:t,value:`rgb(${n.join(",")})`})})))))))))},Ut=e=>{let{areaIdentifier:t}=e;return Object(w.useSelect)((e=>e(g.STORE_KEY).isEditorSidebarOpened(t)),[])&&Object(s.createElement)(Ht,null)};function Wt(e){let{parentAreaIdentifier:t}=e;return Object(s.createElement)(ze,{title:"Color Scheme",parentAreaIdentifier:t,areaIdentifier:`${t}/color-scheme`},Object(s.createElement)(Ut,{areaIdentifier:`${t}/color-scheme`}))}function Vt(){const{globalStyle:e,getStyleDefaultGlobalValue:t}=Object(_.useGlobalDataStyle)(),n={styledComponent:"transition"};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.PanelBody,{initialOpen:!0,title:Object(x.__)("Effects","kubio")},Object(s.createElement)(Ye.RangeWithUnitControl,{label:Object(x.__)("Transition Duration","kubio"),value:("duration",o={unit:"s"},e.getStyle("duration",o,{...n})),onChange:t=>((t,o,r)=>e.setStyle("duration",o,{...n}))(0,t),onReset:()=>((o,r)=>{const i={...n},l=t(o,i);l?e.setStyle(o,l,i):e.setStyle(o,null,{...i,unset:!0})})("duration"),min:0,max:5,step:.01})));var o}const Kt=e=>{let{areaIdentifier:t}=e;const n=Object(w.useSelect)((e=>e(g.STORE_KEY).isEditorSidebarOpened(t)),[]),o=Object(w.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return n&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Vt,null),!o&&Object(s.createElement)(Ye.ControlNotice,{className:"notice-general-settings",content:Object(x.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))};var $t=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(ze,{title:Object(x.__)("Global Effects","kubio"),label:Object(x.__)("Effects","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/effects`},Object(s.createElement)(Kt,{areaIdentifier:`${t}/effects`}))},Yt=n(109);const qt=()=>{const[e,t]=Object(s.useState)(""),{globalStyle:n,resetToInitialData:o}=Object(_.useGlobalDataStyle)(),r="form-fields",i={type:d.WithDataPathTypes.STYLE,style:r,dataHelper:n};return Object(s.createElement)(E.PanelBody,{initialOpen:!1,title:Object(x.__)("Form fields","kubio")},Object(s.createElement)(E.BaseControl,{label:Object(x.__)("State","kubio")},Object(s.createElement)(Yt.StatesControl,{activeState:e,setActiveState:t,availableStates:["normal","hover","focus","disabled"]}),Object(s.createElement)(Ye.ColorWithPath,Object(T.a)({label:Object(x.__)("Text color","kubio"),path:"typography.color",state:e},i,{onReset:o("typography.color",{styledComponent:r,state:e})})),Object(s.createElement)(Ye.ColorWithPath,Object(T.a)({label:Object(x.__)("Background color","kubio"),state:e,path:"background.color",showReset:!0},i,{onReset:o("background.color",{styledComponent:r,state:e})})),Object(s.createElement)(Ye.ColorWithPath,Object(T.a)({label:Object(x.__)("Border color","kubio"),path:["border.top.color","border.bottom.color","border.left.color","border.right.color"],state:e},i,{onReset:o(["border.top.color","border.bottom.color","border.left.color","border.right.color"],{styledComponent:r,state:e})})),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(Ye.TypographyControlPopupWithPath,Object(T.a)({path:"typography"},i,{onReset:o("typography",{styledComponent:r})})),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(Ye.BoxUnitValueControlWithPath,Object(T.a)({label:Object(x.__)("Padding","kubio"),path:"padding"},i,{onReset:o("padding",{styledComponent:r})})),Object(s.createElement)(Ye.BoxUnitValueControlWithPath,Object(T.a)({label:Object(x.__)("Margin","kubio"),path:"margin"},i,{onReset:o("margin",{styledComponent:r})})),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(Ye.BordersAndRadiusWithPath,Object(T.a)({path:"border"},i,{withColor:!1,onReset:o("border",{styledComponent:r})}))))},Xt=e=>{let{styledElement:t="form-submit-button",title:n=Object(x.__)("Form submit button","kubio")}=e;const[o,r]=Object(s.useState)(""),{globalStyle:i,resetToInitialData:l}=Object(_.useGlobalDataStyle)(),a={type:d.WithDataPathTypes.STYLE,style:t,dataHelper:i};return Object(s.createElement)(E.PanelBody,{initialOpen:!1,title:n},Object(s.createElement)(E.BaseControl,{label:Object(x.__)("State","kubio")},Object(s.createElement)(Yt.StatesControl,{activeState:o,setActiveState:r,availableStates:["normal","hover","disabled"]}),Object(s.createElement)(Ye.GradientColorPickerWithPath,Object(T.a)({label:Object(x.__)("Background","kubio"),path:"background",state:o},a,{onReset:l("background",{styledComponent:t,state:o})})),Object(s.createElement)(Ye.ColorWithPath,Object(T.a)({label:Object(x.__)("Text color","kubio"),path:"typography.color",state:o},a,{onReset:l("typography.color",{styledComponent:t,state:o})})),Object(s.createElement)(Ye.ColorWithPath,Object(T.a)({label:Object(x.__)("Border color","kubio"),path:["border.top.color","border.bottom.color","border.left.color","border.right.color"],state:o},a,{onReset:l(["border.top.color","border.bottom.color","border.left.color","border.right.color"],{styledComponent:t,state:o})})),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(Ye.TypographyControlPopupWithPath,Object(T.a)({path:"typography"},a,{onReset:l("typography",{styledComponent:t})})),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(Ye.BoxUnitValueControlWithPath,Object(T.a)({label:Object(x.__)("Padding","kubio"),path:"padding"},a,{onReset:l("padding",{styledComponent:t})})),Object(s.createElement)(Ye.BoxUnitValueControlWithPath,Object(T.a)({label:Object(x.__)("Margin","kubio"),path:"margin"},a,{onReset:l("margin",{styledComponent:t})})),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(Ye.BordersAndRadiusWithPath,Object(T.a)({path:"border"},a,{withColor:!1,onReset:l("border",{styledComponent:t})})),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(Ye.BoxShadowWithPath,Object(T.a)({path:"boxShadow"},a,{onReset:l("boxShadow",{styledComponent:t})}))))},Qt=e=>{let{areaIdentifier:t}=e;const n=Object(w.useSelect)((e=>e(g.STORE_KEY).isEditorSidebarOpened(t)),[]),o=Object(w.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return n&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(qt,null),Object(s.createElement)(Xt,{styledElement:"form-button",title:Object(x.__)("Form button","kubio")}),Object(s.createElement)(Xt,{styledElement:"form-submit-button",title:Object(x.__)("Form submit button","kubio")}),Object(s.createElement)(Xt,{styledElement:"form-reset-button",title:Object(x.__)("Form reset button","kubio")}),!o&&Object(s.createElement)(Ye.ControlNotice,{className:"notice-general-settings",content:Object(x.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))},Zt=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(ze,{title:Object(x.__)("Form Elements","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/form-elements`},Object(s.createElement)(Qt,{areaIdentifier:`${t}/form-elements`}))},Jt={H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6"},en={headingType:{values:Jt,options:[{value:Jt.H1,label:"H1"},{value:Jt.H2,label:"H2"},{value:Jt.H3,label:"H3"},{value:Jt.H4,label:"H4"},{value:Jt.H5,label:"H5"},{value:Jt.H6,label:"H6"}]}},tn=()=>{const[e,t]=Object(_.useGlobalDataSetting)("googleFonts.serveLocally");return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ye.ToggleControl,{label:Object(x.__)("Serve Google Fonts locally","kubio"),value:e,onChange:t}),Object(s.createElement)(Ye.ControlNotice,{className:"notice-general-settings no-padding",content:Object(x.__)("When this option is turned on the Google Fonts used in your site will be downloaded and served from your server instead of the Google server. This will minimize the DNS requests, reduce the Cumulative Layout Shift and serve your Google Fonts in a 100% GDPR compliant way.","kubio")}))},{weightOptions:nn,sizeUnitsOptions:on,sizeUnitsConfig:rn,styleOptions:ln,transformOptions:an,decorationOptions:cn}=Ye.TypographyConfig,sn=e=>{const{globalStyle:t,getStyleDefaultGlobalValue:n,getStyleInitialDefaultGlobalValue:o}=Object(_.useGlobalDataStyle)();return((e,t,n,o)=>{const r={styledComponent:"body"};return{setTypography:function(n,o){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=i.state?`states.${i.state}`:null;i=Object(h.omit)(i,"state");const a=["typography","holders",t,l,n].filter(Boolean).join("."),c=f.a.merge({},r,i);e.setStyle(a,o,c)},getTypography:function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=i.state?`states.${i.state}`:null;i=Object(h.omit)(i,"state");const a=["typography","holders",t,l,n].filter(Boolean).join("."),c=f.a.merge({},r,i);return e.getStyle(a,o,c)},unsetTypography:function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=i.state?`states.${i.state}`:null;i=Object(h.omit)(i,"state");const a=["typography","holders",t,l,n].filter(Boolean).join("."),c=f.a.merge({},r,i),s=o(a,c);e.setStyle(a,s,c)}}})(t,e,0,o)},un=e=>{let{getTypography:t,setTypography:n,unsetTypography:o,showTransform:r=!1,showDecoration:i=!0}=e;return Object(s.createElement)(Ye.PopoverOptionsButton,{label:Object(x.__)("Advanced","kubio"),popoverWidth:250,popupContent:Object(s.createElement)(s.Fragment,null,r&&Object(s.createElement)(Ye.GutentagSelectControl,{label:Object(x.__)("Transform","kubio"),options:an,value:t("transform"),onChange:e=>n("transform",e)}),i&&Object(s.createElement)(Ye.GutentagSelectControl,{label:Object(x.__)("Decoration","kubio"),options:cn,value:t("decoration",""),onChange:e=>n("decoration",e)}),Object(s.createElement)(Ye.GutentagSelectControl,{label:Object(x.__)("Style","kubio"),options:ln,value:t("style"),onChange:e=>n("style",e)}),Object(s.createElement)(Ye.SeparatorHorizontalLine,{fit:!0}),Object(s.createElement)(Ye.RangeWithUnitControl,{label:Object(x.__)("Line Height","kubio"),value:t("lineHeight"),onChange:e=>n("lineHeight",e),onReset:()=>o("lineHeight"),defaultUnit:"",min:0,max:10,step:.1}),Object(s.createElement)(Ye.RangeWithUnitControl,{label:Object(x.__)("Letter Spacing","kubio"),value:t("letterSpacing",{value:"",unit:"px"}),onChange:e=>n("letterSpacing",e),onReset:()=>o("letterSpacing"),min:0,max:10,step:.1,units:on}))})},dn=e=>{let{element:t="h1"}=e;const{getTypography:n,setTypography:o,unsetTypography:r}=sn(t),{getFontWeights:i}=Object(_.useGlobalDataFonts)(),l=i(n("family")),a=nn.filter((e=>-1!==l.indexOf(e.value)));return Object(s.createElement)(E.BaseControl,null,Object(s.createElement)(E.Flex,{className:"kubio-font-family-container general-typography"},Object(s.createElement)(E.FlexBlock,null,Object(s.createElement)("span",{className:"kubio-font-family-label"},Object(x.__)("Font family","kubio"))),Object(s.createElement)(E.FlexBlock,{className:"kubio-font-family-container__select"},Object(s.createElement)(Ye.FontPicker,{value:n("family"),onChange:e=>o("family",e)}))),Object(s.createElement)(Ye.GutentagSelectControl,{className:"kubio-select-control-container",label:Object(x.__)("Font weight","kubio"),options:a,value:parseInt(n("weight")),onChange:e=>o("weight",e)}),Object(s.createElement)(Ye.InlineLabeledControl,{label:Object(x.__)("Color","kubio")},Object(s.createElement)(Ye.ColorIndicatorPopover,{color:n("color"),onChange:e=>o("color",e),onReset:()=>r("color"),showReset:!0})),Object(s.createElement)(Ye.RangeWithUnitControl,{label:Object(x.__)("Size","kubio"),units:on,optionsByUnit:rn,onChange:e=>o("size",e),value:n("size"),onReset:()=>r("size")}),Object(s.createElement)(un,{getTypography:n,setTypography:o,unsetTypography:r,showTransform:!0}))},pn=()=>{const[e,t]=Object(s.useState)(""),{getTypography:n,setTypography:o,unsetTypography:r}=sn("a");return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.BaseControl,null,Object(s.createElement)(E.Flex,{className:"kubio-font-family-container"},Object(s.createElement)(E.FlexBlock,null,Object(s.createElement)("span",{className:"kubio-font-family-label"},Object(x.__)("Font family","kubio"))),Object(s.createElement)(E.FlexItem,null,Object(s.createElement)(Ye.FontPicker,{label:Object(x.__)("Font family","kubio"),value:n("family"),onChange:e=>o("family",e)}))),Object(s.createElement)(Ye.GutentagSelectControl,{label:Object(x.__)("Font Weight","kubio"),options:nn,value:parseInt(n("weight")),onChange:e=>o("weight",e)}),Object(s.createElement)(Ye.RangeWithUnitControl,{label:Object(x.__)("Size","kubio"),units:on,value:n("size"),onChange:e=>o("size",e),onReset:()=>r("size")}),Object(s.createElement)(E.BaseControl,{label:Object(x.__)("State","kubio")},Object(s.createElement)(Yt.StatesControl,{activeState:e,setActiveState:t,availableStates:["normal","hover","visited"]})),Object(s.createElement)(Ye.InlineLabeledControl,{label:Object(x.__)("Color","kubio")},Object(s.createElement)(Ye.ColorIndicatorPopover,{color:n("color","",{state:e}),onChange:t=>o("color",t,{state:e}),onReset:()=>{r("color",{state:e})},showReset:!0})),Object(s.createElement)(Ye.GutentagSelectControl,{label:Object(x.__)("Decoration","kubio"),options:cn,value:n("decoration","",{state:e}),onChange:t=>o("decoration",t,{state:e})}),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(un,{getTypography:n,setTypography:o,unsetTypography:r,showTransform:!0,showDecoration:!1})))},bn=()=>{const[e,t]=Object(s.useState)("h1"),n=Object(w.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.PanelBody,{initialOpen:!1,title:Object(x.__)("Headings","kubio")},Object(s.createElement)(Ye.ToggleGroup,{label:Object(x.__)("Heading Type","kubio"),options:en.headingType.options,value:e,onChange:t}),Object(s.createElement)(dn,{element:e})),Object(s.createElement)(E.PanelBody,{initialOpen:!1,title:Object(x.__)("Texts","kubio")},Object(s.createElement)(dn,{element:"p"})),Object(s.createElement)(E.PanelBody,{initialOpen:!1,title:Object(x.__)("Lead text","kubio")},Object(s.createElement)(dn,{element:"lead"})),Object(s.createElement)(E.PanelBody,{initialOpen:!1,title:Object(x.__)("Links","kubio")},Object(s.createElement)(pn,null)),Object(s.createElement)(E.PanelBody,{initialOpen:!1,title:Object(x.__)("Adobe TypeKit","kubio")},Object(s.createElement)(Ye.TypeKitSetupInterface,{showNotice:!0})),Object(s.createElement)(E.PanelBody,{initialOpen:!1,title:Object(x.__)("Google Fonts Settings","kubio")},Object(s.createElement)(tn,{showNotice:!0})),!n&&Object(s.createElement)(Ye.ControlNotice,{className:"notice-general-settings",content:Object(x.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))},mn=e=>{let{areaIdentifier:t}=e;return Object(w.useSelect)((e=>e(g.STORE_KEY).isEditorSidebarOpened(t)),[])?Object(s.createElement)(bn,null):Object(s.createElement)(s.Fragment,null)};var hn=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(ze,{title:Object(x.__)("Typography","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/typography`},Object(s.createElement)(mn,{areaIdentifier:`${t}/typography`}))};const fn=()=>{const{logoImage:e,alternateLogoImage:t,setLogoImage:n,setAlternateLogoImage:o}=Object(_.useSiteLogoImages)(),[r,i]=Object(k.useEntityProp)("root","site","title"),[l,a]=Object(k.useEntityProp)("root","site","description"),[c,u]=Object(k.useEntityProp)("root","site","site_icon"),{siteIconUrl:d}=Object(w.useSelect)((e=>{var t;const{getMedia:n}=e("core");return{siteIconUrl:(null===(t=n(c))||void 0===t?void 0:t.source_url)||""}}));return Object(s.createElement)(E.PanelBody,{title:Object(x.__)("Site Identity","kubio"),className:"kubio-site-identity-panel"},Object(s.createElement)(E.BaseControl,{label:Object(x.__)("Site title","kubio"),id:"site-title-control"},Object(s.createElement)(Ye.InputControl,{value:r||"",onChange:e=>i(e)})),Object(s.createElement)(E.BaseControl,{label:Object(x.__)("Tagline","kubio"),id:"tagline-control"},Object(s.createElement)(Ye.InputControl,{value:l||"",onChange:e=>a(e)})),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(E.BaseControl,{label:Object(x.__)("Logo image","kubio"),id:"logo-image-control"},Object(s.createElement)(Ye.MediaPicker,{value:e,type:"image",showButton:!0,onReset:()=>{n(null)},buttonLabel:Object(x.__)("Change image","kubio"),removeButtonLabel:Object(x.__)("Reset image","kubio"),onChange:e=>n(e.id)})),Object(s.createElement)(E.BaseControl,{label:Object(x.__)("Alternate logo image","kubio"),id:"alternate-logo-image-control"},Object(s.createElement)(Ye.MediaPicker,{value:t,type:"image",showButton:!0,showRemoveButton:!0,onReset:()=>{o(null)},buttonLabel:Object(x.__)("Change alternate image","kubio"),removeButtonLabel:Object(x.__)("Reset image","kubio"),onChange:e=>o(e.url)})),Object(s.createElement)(Ye.SeparatorHorizontalLine,null),Object(s.createElement)(E.BaseControl,{label:Object(x.__)("Site Icon","kubio"),id:"site-icon-control",help:Object(x.__)("Site Icons are what you see in browser tabs, bookmark bars, and within the WordPress mobile apps. Upload one here!","kubio")},Object(s.createElement)(Ye.MediaPicker,{value:""!==d?d:null,type:"image",showButton:!0,showRemoveButton:!0,onReset:()=>{u(null)},buttonLabel:Object(x.__)("Set site icon","kubio"),onChange:e=>u(e.id)})))},gn=e=>{let{areaIdentifier:t}=e;const n=Object(w.useSelect)((e=>e(g.STORE_KEY).getEditorOpenedSidebar()),[]),o=null==n?void 0:n.endsWith(t);return Object(s.createElement)(s.Fragment,null,o&&Object(s.createElement)(fn,null))};function On(e){let{parentAreaIdentifier:t}=e;return Object(s.createElement)(ze,{title:Object(x.__)("Site Identity","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/site-identity`},Object(s.createElement)(gn,{areaIdentifier:`${t}/site-identity`}))}const vn=()=>{const{globalStyle:e,getPropDefaultGlobalValue:t,getStyleDefaultGlobalValue:n}=Object(_.useGlobalDataStyle)(),o=(t,n,o)=>e.getPropInMedia(t,n,{...o}),r=(t,n)=>o=>e.setPropInMedia(t,o,{...n}),i=function(n){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return()=>{const r=t(n,o);e.setPropInMedia(n,r,o)}},l={styledComponent:"sectionSpacing"};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.PanelBody,{initialOpen:!0,title:Object(x.__)("Spacing","kubio")},Object(s.createElement)(Ye.RangeWithUnitControl,{label:Object(x.__)("Horizontal space between buttons/links","kubio"),units:Ye.sizeUnitsOptions,onChange:r("hSpace"),value:o("hSpace",{unit:"px"}),onReset:i("hSpace")}),Object(s.createElement)(Ye.RangeWithUnitControl,{label:Object(x.__)("Column contents vertical spacing","kubio"),units:Ye.sizeUnitsOptions,onChange:r("vSpace"),value:o("vSpace",{unit:"px"}),onReset:i("vSpace")}),Object(s.createElement)(Ye.RangeWithUnitControl,{label:Object(x.__)("Section vertical spacing","kubio"),units:Ye.sizeUnitsOptions,value:e.getStyle("padding.top",{unit:"px"},l),onChange:t=>{e.setStyle("padding.top",t,l),e.setStyle("padding.bottom",t,l)},onReset:()=>{const t=n("padding.top",l);e.setStyle("padding.top",t,l);const o=n("padding.bottom",l);e.setStyle("padding.bottom",o,l)}})))},yn=e=>{let{areaIdentifier:t}=e;const n=Object(w.useSelect)((e=>e(g.STORE_KEY).isEditorSidebarOpened(t)),[]),o=Object(w.useSelect)((e=>{var t,n;return(null===(t=e("kubio/edit-site"))||void 0===t||null===(n=t.getSettings())||void 0===n?void 0:n.isKubioTheme)||null}));return n&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(vn,null),!o&&Object(s.createElement)(Ye.ControlNotice,{className:"notice-general-settings",content:Object(x.__)("These settings are applied to Kubio blocks and the blocks within.","kubio")}))};var jn=e=>{let{parentAreaIdentifier:t}=e;return Object(s.createElement)(ze,{title:Object(x.__)("Global Spacing","kubio"),label:Object(x.__)("Spacing","kubio"),parentAreaIdentifier:t,areaIdentifier:`${t}/spacing`},Object(s.createElement)(yn,{areaIdentifier:`${t}/spacing`}))};function En(e){let{parentAreaIdentifier:t}=e;const n=`${t}/general-settings`;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(ze,{title:Object(x.__)("General Settings","kubio"),areaIdentifier:n},Object(s.createElement)(On,{parentAreaIdentifier:n}),Object(s.createElement)(hn,{parentAreaIdentifier:n}),Object(s.createElement)(Zt,{parentAreaIdentifier:n}),Object(s.createElement)(Wt,{parentAreaIdentifier:n}),Object(s.createElement)(jn,{parentAreaIdentifier:n}),Object(s.createElement)($t,{parentAreaIdentifier:n}),Object(s.createElement)(At,{parentAreaIdentifier:n})))}const Sn=e=>{let{addItem:t}=e;const[n,o]=Object(s.useState)(!1),[r,i]=Object(s.useState)(Object(at.generateItemInitialData)()),l=Object(s.useRef)(null);return Object(s.createElement)("div",{ref:l},Object(s.createElement)(E.Button,{onClick:()=>o(!0),className:"kubio-button-100",isPrimary:!0},Object(x.__)("Add menu item","kubio")),n&&Object(s.createElement)(E.Popover,{position:"middle left",className:"kubio-options-popover",onClose:()=>{o(!1)},anchorRef:l.current,offset:6},Object(s.createElement)(Ye.MenuItemOptions,{item:r,isAdd:!0,onChange:e=>{t(e),o(!1),i(Object(at.generateItemInitialData)())},afterUpdateClick:()=>o(!1),updateLabel:Object(x.__)("Add item","kubio")})))},kn=e=>{let{item:t,onItemChange:n,onRemoveItem:o,onTogglePopover:r}=e;const[i,l]=Object(s.useState)(t);Object(s.useEffect)((()=>{l(t)}),[t]);const a=e=>{const t={...i,...e};l(t),n(t)},c=Object(s.useRef)();return Object(s.createElement)("div",{ref:c},Object(s.createElement)(E.Flex,{className:"kubio-inspector-menu-item-content"},Object(s.createElement)(E.FlexBlock,null,Object(s.createElement)(E.Tooltip,{text:Object(qe.stripTags)(i.label)},Object(s.createElement)("span",{className:"kubio-inspector-menu-item-label"},Object(qe.stripTags)(i.label)))),Object(s.createElement)(E.FlexItem,{className:"kubio-inspector-menu-items-settings"},Object(s.createElement)(E.Flex,{gap:1},Object(s.createElement)(E.FlexItem,null,Object(s.createElement)(E.Button,{className:"kubio-inspector-menu-remove-item",isSmall:!0,iconSize:18,onClick:()=>o(i),icon:we.DeleteItemIcon})),Object(s.createElement)(E.FlexItem,null,Object(s.createElement)(Ye.PopoverOptionsButton,{iconSize:18,popoverClass:"kubio-menu-edit-popover",popoverAnchorRef:c,popupContent:e=>Object(s.createElement)(Ye.MenuItemOptions,{item:i,onChange:a,afterUpdateClick:e}),onPopoverClose:()=>r(!1),onPopoverOpen:()=>r(!0)}))))))},wn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.filter((e=>e.parent===t)).map((t=>({...t,children:t.id?wn(e,t.id):[]})))},Cn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(((e,n)=>[{...Object(h.omit)(e,["children","block"]),order:n+1,parent:t},...Cn(e.children||[],e.id)])).reduce(((e,t)=>e.concat(t)),[])},xn=e=>{let{items:t=[],setItems:n,isResolving:o,hasResolved:r}=e;const[i,l]=Object(s.useState)(-1/0),a=Object(s.useMemo)((()=>wn(t)),[t]),c=Object(s.useCallback)((e=>{n(e,!0)}),[n]),u=Object(s.useCallback)((e=>{let n=Object(h.cloneDeep)(t).filter((t=>t.id!==e.id)).map((t=>(t.parent===e.id&&(t.parent=e.parent),t))),o=0;n=n.map((t=>t.parent===e.parent?(o++,{...t,order:o}):t)),c(n)}),[c]),d=Object(s.useCallback)((e=>{const t=Cn(e);c(t)}),[c]),p=Object(s.useCallback)((e=>{if(!e.id)return void console.error("Can not update item without id");const n=Object(h.cloneDeep)(t).map((t=>t.id===e.id?{...t,...e}:t));c(n)}),[c]),b=Object(s.useCallback)((e=>{let{item:t}=e;return Object(s.createElement)(kn,{item:t,onItemChange:p,onRemoveItem:u,onTogglePopover:e=>{l(e?t.id:-1/0)}})}),[l,p,u]),m=a.length>0,f=Object(s.useCallback)((e=>e.id===i),[i]);return Object(s.createElement)(E.BaseControl,null,Object(s.createElement)("div",{className:"kubio-inspector-menu-tree"},o&&Object(s.createElement)(Ye.LoadingPlaceholder,{message:Object(x.__)("Loading menu …","kubio")}),r&&m&&Object(s.createElement)(Ye.SortableTree,{items:a,renderItem:b,handler:!0,collapsable:!1,onChange:d,isActive:f}),r&&!m&&Object(s.createElement)(Ye.SmallPlaceholder,{message:Object(x.__)("Empty menu","kubio")})))},Tn=e=>{let{menu:t}=e;const{setItems:n,items:o=[],isResolving:r,hasResolved:i}=Object(at.useMenuBlockEditor)(t.id),l=Object(s.useCallback)((e=>{n([...o,{...e,order:o.length+1}],!0)}),[o]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.PanelBody,{title:Object(x.__)("Menu Structure","kubio")},Object(s.createElement)(xn,{menuId:t.id,items:o,setItems:n,isResolving:r,hasResolved:i}),Object(s.createElement)(Sn,{addItem:l})))},In=e=>{let{menu:t,areaIdentifier:n}=e;const o=Object(w.useSelect)((e=>e(g.STORE_KEY).getEditorOpenedSidebar()));return o&&-1!==o.indexOf(n)&&Object(s.createElement)(Tn,{menu:t})},Pn=e=>{let{parentAreaIdentifier:t,menu:n}=e;const o=`${t}/menu-${n.id}`;return Object(s.createElement)(ze,{title:Object(x.sprintf)(// translators: %s is for the menu name
Object(x.__)("Menu: %s","kubio"),n.name||Object(x.__)("Unnamed menu","kubio")),label:n.name||Object(x.__)("Unnamed menu","kubio"),parentAreaIdentifier:t,areaIdentifier:o},Object(s.createElement)(In,{areaIdentifier:o,menu:n}))},Rn=()=>{const[e,t]=Object(s.useState)(!1),[n,o]=Object(s.useState)(!1),[r,i]=Object(s.useState)(""),l=Object(s.useRef)(),{saveMenu:a}=Object(w.useDispatch)("core"),{createErrorNotice:c,createInfoNotice:u}=Object(w.useDispatch)(m.store),d=Object(s.useCallback)((()=>{n?u(Object(x.__)("Another menu creation is in progress","kubio"),{type:"snackbar"}):(t(!e),i(""))}),[e,t,n]),p=Object(s.useCallback)((async()=>{if(!n){o(!0);try{await a({name:r})}catch(e){c(Object(x.__)("Menu creation failed","kubio"),{type:"snackbar"})}t(!1),o(!1)}}),[t,a,r,n,o]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.BaseControl,{className:"kubio-create-menu-button"},Object(s.createElement)(E.Button,{onClick:d,isPrimary:!0,className:"kubio-button-100",ref:l,isBusy:n},Object(x.__)("Create menu","kubio"))),e&&Object(s.createElement)(E.Popover,{position:"middle left",className:"kubio-options-popover",anchorRef:l.current,onClose:()=>t(!1),offset:6},Object(s.createElement)("div",null,Object(s.createElement)(E.BaseControl,null,Object(s.createElement)(Ye.InputControl,{label:Object(x.__)("Menu name","kubio"),onChange:i,value:r,disabled:n})),Object(s.createElement)(E.BaseControl,null,Object(s.createElement)(E.Button,{onClick:p,isPrimary:!0,disabled:n,isBusy:n,className:"kubio-button-100"},Object(x.__)("Create menu","kubio"))))))},Mn=e=>{let{areaIdentifier:t}=e;const{menus:n}=Object(w.useSelect)((e=>{const{getMenus:t,isResolving:n,hasFinishedResolution:o}=e("core"),r=[{per_page:-1}];return{menus:t(...r),isResolvingMenus:n("getMenus",r),hasResolvedMenus:o("getMenus",r)}}));return Object(s.createElement)(s.Fragment,null,null==n?void 0:n.map((e=>Object(s.createElement)(Pn,{key:e.id,parentAreaIdentifier:t,menu:e}))))};function An(e){let{parentAreaIdentifier:t}=e;const n=`${t}/menus-settings`;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(ze,{title:Object(x.__)("Menus","kubio"),areaIdentifier:n},Object(s.createElement)(Mn,{areaIdentifier:n}),Object(s.createElement)(Rn,null)))}var Nn=function(){return Object(s.createElement)(C.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},Object(s.createElement)(E.PanelBody,{title:Object(x.__)("Discussion","kubio")},Object(s.createElement)(C.PostTypeSupportCheck,{supportKeys:"comments"},Object(s.createElement)(E.PanelRow,null,Object(s.createElement)(C.PostComments,null))),Object(s.createElement)(C.PostTypeSupportCheck,{supportKeys:"trackbacks"},Object(s.createElement)(E.PanelRow,null,Object(s.createElement)(C.PostPingbacks,null)))))},Dn=n(179);const Ln=Object(w.withSelect)((e=>{const{getCurrentPostType:t}=e(Dn.STORE_KEY),{getPostType:n}=e(k.store);return{postType:n(t())}}));var zn=Object(S.compose)(Ln)((function(e){let{postType:t}=e;return Object(s.createElement)(C.PostFeaturedImageCheck,null,Object(s.createElement)(E.PanelBody,{title:Object(h.get)(t,["labels","featured_image"],Object(x.__)("Featured image","kubio"))},Object(s.createElement)(C.PostFeaturedImage,null)))})),Bn=function(){const{postType:e}=Object(w.useSelect)((e=>{const{getCurrentPostType:t}=e(Dn.STORE_KEY),{getPostType:n}=e(k.store);return{postType:n(t())}}),[]);return e?Object(s.createElement)(C.PageAttributesCheck,null,Object(s.createElement)(E.PanelBody,{title:Object(h.get)(e,["labels","attributes"],Object(x.__)("Page attributes","kubio"))},Object(s.createElement)(C.PageAttributesParent,null),Object(s.createElement)(E.PanelRow,null,Object(s.createElement)(C.PageAttributesOrder,null)))):null},Fn=function(){return Object(s.createElement)(C.PostExcerptCheck,null,Object(s.createElement)(E.PanelBody,{title:Object(x.__)("Excerpt","kubio")},Object(s.createElement)(C.PostExcerpt,null)))},Gn=n(35),Hn=Object(S.compose)([Object(w.withSelect)((e=>{const{isPermalinkEditable:t,getCurrentPost:n,isCurrentPostPublished:o,getPermalinkParts:r,getEditedPostAttribute:i,getEditedPostSlug:l}=e(C.store),{getPostType:a}=e(k.store),{link:c}=n(),s=a(i("type")),u=r();return{postLink:c,isEditable:t(),isPublished:o(),isViewable:Object(h.get)(s,["viewable"],!1),postSlug:Object(Gn.safeDecodeURIComponent)(l()),postTypeLabel:Object(h.get)(s,["labels","view_item"]),hasPermalinkParts:!!u,permalinkPrefix:null==u?void 0:u.prefix,permalinkSuffix:null==u?void 0:u.suffix}})),Object(S.ifCondition)((e=>{let{isEnabled:t,postLink:n,isViewable:o,hasPermalinkParts:r}=e;return t&&n&&o&&r}))])((function(e){let{postLink:t,permalinkPrefix:n,permalinkSuffix:o,editPermalink:r,postSlug:i,postTypeLabel:l,isEditable:a}=e;const[c,u]=Object(s.useState)(!1);let d,p,b;return a&&(d=n&&Object(s.createElement)("span",{className:"edit-post-post-link__link-prefix"},n),p=i&&Object(s.createElement)("span",{className:"edit-post-post-link__link-post-name"},i),b=o&&Object(s.createElement)("span",{className:"edit-post-post-link__link-suffix"},o)),Object(s.createElement)(E.PanelBody,{title:Object(x.__)("Permalink","kubio")},a&&Object(s.createElement)("div",{className:"editor-post-link"},Object(s.createElement)(Ye.InputControl,{label:Object(x.__)("URL Slug","kubio"),value:c?"":i,onChange:e=>{r(e),e?c&&u(!1):c||u(!0)},onBlur:e=>{r(Object(C.cleanForSlug)(e.target.value)),c&&u(!1)}}),Object(s.createElement)("p",null,Object(x.__)("The last part of the URL.","kubio")," ",Object(s.createElement)(E.ExternalLink,{href:"https://wordpress.org/support/article/writing-posts/#post-field-descriptions"},Object(x.__)("Read about permalinks","kubio")))),Object(s.createElement)("h3",{className:"edit-post-post-link__preview-label"},l||Object(x.__)("View post","kubio")),Object(s.createElement)("div",{className:"edit-post-post-link__preview-link-container"},Object(s.createElement)(E.ExternalLink,{className:"edit-post-post-link__link",href:t,target:"_blank"},a?Object(s.createElement)(s.Fragment,null,d,p,b):t)))})),Un=function(e){let{taxonomy:t,children:n}=e;const o=Object(h.get)(t,["labels","menu_name"]);return o?Object(s.createElement)(E.PanelBody,{title:o},n):null},Wn=function(){return Object(s.createElement)(C.PostTaxonomiesCheck,null,Object(s.createElement)(C.PostTaxonomies,{taxonomyWrapper:(e,t)=>Object(s.createElement)(Un,{taxonomy:t},e)}))};function Vn(e){let{layoutBlock:t}=e;const{dataHelper:n}=Object(d.useKubioDataHelper)(t),o=Object(xe.useQueryLayout)(n);return Object(s.createElement)(Ye.SelectWithIconControl,Object(T.a)({label:Object(x.__)("Layout","kubio")},o))}var Kn=Object(S.compose)([Object(w.withSelect)((e=>{const{getPage:t=f.a.noop}=e("kubio/edit-site")||{};return{currentPage:t()}}))])((function(e){const{currentPage:t}=e,{getBlocks:n}=Object(w.useSelect)("core/block-editor"),o=f.a.get(t,["context","postId"]),[r,i]=Object(s.useState)();return Object(s.useEffect)((()=>{const e=n(),t=Object(qe.findBlockByName)(e,"kubio/query-layout");i(t)}),[o]),r?Object(s.createElement)(E.PanelBody,{title:Object(x.__)("Blog layout","kubio"),initialOpen:!0},Object(s.createElement)(Vn,Object(T.a)({},e,{layoutBlock:r}))):null})),$n=function(e){let{onNewTemplate:t}=e;const[n,o]=Object(s.useState)(!1);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"edit-post-template__actions"},Object(s.createElement)(Bt.ProItem,{tag:E.Button,isPrimary:!0,onClick:()=>o(!0),urlArgs:{source:"template",content:"create-new"}},Object(x.__)("Create new template","kubio")),n&&Object(s.createElement)(Ye.TemplateWizard,{onNewTemplate:t,onClose:()=>{o(!1)}})))},Yn=function(){const{currentPostType:e,currentTemplate:t,currentTemplateLabel:n,availableTemplates:o}=Object(w.useSelect)((e=>{var t;const{getCurrentPageTemplate:n,getCurrentPostType:o,getAvailablePageTemplates:r}=e(g.STORE_KEY),i=o();let l=n();i===l&&(l="");const a=r();return{currentPostType:i,currentTemplate:l,currentTemplateLabel:(null===(t=Object(h.find)(a,{value:l}))||void 0===t?void 0:t.label)||"",availableTemplates:a}}),[]),{onNewTemplate:r,assignTemplate:i,assignClassicTemplate:l}=Object(d.useTemplateData)("header"),a=Object(d.useDeepMemo)((()=>{const e=o.reduce(((e,t)=>{const n=t.source||"custom";return{...e,[n]:[...e[n]||[],t]}}),{});return g.templateGroupPriorities.map((t=>({label:g.templateGroups[t],items:e[t]}))).filter((e=>{var t;return null===(t=e.items)||void 0===t?void 0:t.length}))}),[o]);return"page"!==e||"front-page"===(null==t?void 0:t.replace(".php",""))?Object(s.createElement)(s.Fragment,null):Object(s.createElement)(E.PanelBody,{title:Object(x.sprintf)(/* translators: %s: template title */Object(x.__)("Template: %s","kubio"),n)},Object(s.createElement)(Ye.GutentagSelectControl,{hideLabelFromVision:!0,label:Object(x.__)("Template:","kubio"),value:t,onChange:async function(e){Object.values(d.defaultTemplatesByPostType).includes(e)&&(e="");const t=o.find((t=>t.value===e));t&&((null==t?void 0:t.isClassicTemplate)?l(e):i(e))},options:a}),Object(s.createElement)($n,{onNewTemplate:r}))};const qn=["page","post","product"],Xn=e=>{let{areaIdentifier:t}=e;const{currentSidebar:n,isInnerPage:o,isWooPage:r}=Object(w.useSelect)((e=>({isWooPage:e(g.STORE_KEY).getIsWooCommercePage(),currentSidebar:e(g.STORE_KEY).getEditorOpenedSidebar(),isInnerPage:e(g.STORE_KEY).getIsInnerPage()})),[]),i=null==n?void 0:n.endsWith(t),l=o&&!r;return Object(s.createElement)("span",{className:"kubio-page-settings"},i&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Kn,null),l&&Object(s.createElement)(Yn,null),Object(s.createElement)(Hn,null),Object(s.createElement)(Wn,null),Object(s.createElement)(zn,null),Object(s.createElement)(Fn,null),Object(s.createElement)(Nn,null),Object(s.createElement)(Bn,null)))};function Qn(e){let{parentAreaIdentifier:t}=e;const n=`${t}/page-settings`,{postType:o}=Object(w.useSelect)((e=>{const{getCurrentPostType:t}=e(g.STORE_KEY);return{postType:t()}}),[]);return qn.includes(o)?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(ze,{title:Object(x.__)("Page Settings","kubio"),areaIdentifier:n},Object(s.createElement)(Xn,{areaIdentifier:n}))):null}var Zn=n(54),Jn=n.n(Zn);const eo=async()=>await Jn()({path:"kubio/v1/3rd_party_themes/import_blog"}),to=["home","index","single","search","archive","singular"],no=()=>{const e=Object(v.useGetGlobalSessionProp)("ready",!1),t=Object(v.useGetGlobalSessionProp)("urlBasedTemplatesMap",{}),n=Object(v.useSetGlobalSessionProp)("urlBasedTemplatesMap",{}),[o,r]=Object(s.useState)(!1),{getEntity:i,page:l,templateType:a,templateId:c}=Object(w.useSelect)((e=>{const{getEditedEntityRecord:t}=e("core"),{getPage:n,getEditedPostType:o,getEditedPostId:r}=e(g.STORE_KEY);return{getEntity:t,page:n(),templateType:o(),templateId:r()}}),[]);Object(s.useEffect)((()=>{e||r(!1)}),[e]);const u=Object(s.useCallback)((()=>{const e=i("postType",a,c),t=null==e?void 0:e.kubio_template_source;r(!["kubio","kubio-custom"].includes(t))}),[c,a]),d=Object(s.useCallback)((async()=>{if(null==l||!l.path)return;let e=t[null==l?void 0:l.path],o=!0;if(!e&&null!==e){const r=await window.fetch(Object(Gn.addQueryArgs)(null==l?void 0:l.path,{"__kubio-classic-page-template-slug":1})).then((e=>e.json()));e=r.data||null,n({...t,[null==l?void 0:l.path]:e}),o=r.success}r(o&&to.includes(e))}),[l,t]),p=Object(s.useCallback)(((e,t)=>{if(e&&t){var n;const t=null==e||null===(n=e.split("//"))||void 0===n?void 0:n.pop();to.includes(t)?u():r(!1)}else d()}),[]);return Object(s.useEffect)((()=>{e&&p(c,a)}),[e,c,a]),o},oo=()=>{const[e,t]=Object(s.useState)(!1),[n,o]=Object(v.useGlobalSessionProp)("thirdPartyBlockInstalled",!1),r=no(),{createSuccessNotice:i,createErrorNotice:l}=Object(w.useDispatch)("core/notices"),a=Object(s.useCallback)((async()=>{t(!0);try{await eo()}catch(e){return void l(Object(x.__)("There was an error while importing the Kubio blog. Please try again","kubio"))}o(!0),i(Object(x.__)("Kubio blog templates were imported successfully! Refresh the editor to enjoy the full site editing experience","kubio"),{isDismissible:!0,actions:[{label:Object(x.__)("Refresh page now","kubio"),onClick:()=>window.location.reload()}]}),t(!1)}),[]);return!r||r&&n?Object(s.createElement)(s.Fragment,null):Object(s.createElement)("div",{className:"kubio-sidebar-blog-area-import"},Object(s.createElement)("h2",null,Object(x.__)("💫 Start with the Kubio blog!","kubio")),Object(s.createElement)("p",null,Object(x.__)("Kubio comes with a fully customizable blog area for your site.","kubio"),Object(s.createElement)("br",null),Object(x.__)("Would you like to use the Kubio blog templates? ","kubio")),Object(s.createElement)(E.Button,{isPrimary:!0,isBusy:e,onClick:a},!e&&Object(x.__)("Import Kubio blog","kubio"),e&&Object(x.__)("Importing Kubio blog…","kubio")))};function ro(e){let{beforeSectionsList:t,afterSectionsList:n}=e;const o=$e(),{uiVersion:r}=Object(O.useUIVersion)();return Object(s.createElement)(We,{title:Object(s.createElement)(s.Fragment,null,Object(s.createElement)("span",{className:"preview-notice"},Object(x.__)("You are editing","kubio")),Object(s.createElement)("span",{className:"panel-title site-title"},Object(qe.fromHtmlEntities)(o))),areaIdentifier:"document"},t,1===r&&Object(s.createElement)(Qn,{parentAreaIdentifier:"document"}),Object(s.createElement)(oo,null),Object(s.createElement)(Pt,null),2===r&&Object(s.createElement)(Qn,{parentAreaIdentifier:"document"}),Object(s.createElement)(En,{parentAreaIdentifier:"document"}),Object(s.createElement)(An,{parentAreaIdentifier:"document"}),Object(s.createElement)(Bt.UpgradeToPro,{urlArgs:{source:"sidebar",content:"pro-upgrade"}}),n)}const{Slot:io,Fill:lo}=Object(E.createSlotFill)("ColibriEditSiteBlockEditorSidebarInspector"),ao=()=>{const{subsidebars:e}=Object(w.useSelect)((e=>({subsidebars:e(g.STORE_KEY).getSubSidebars()})));return Object(v.useGetGlobalSessionProp)("ready",!1)?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(ro,null),Object(s.createElement)(Ke,null,Object(s.createElement)(io,{bubblesVirtually:!0})),Object(h.map)(e,((e,t)=>Object(s.createElement)(s.Fragment,{key:t},e)))):null},co=lo;var so=n(21);const uo={content:Object(s.createElement)(so.ContentBlockInspector,null),style:Object(s.createElement)(so.StyleBlockInspector,null),advanced:Object(s.createElement)(so.AdvancedStyleBlockInspector,null)},po=Object(xe.getNamesOfBlocks)(),bo=[po.HEADER,po.FOOTER,po.QUERY_LAYOUT,po.HERO,po.SECTION,po.ROW,po.COLUMN,po.QUERY,po.LOOP,po.LOOP_ITEM],mo=[{name:"content",title:()=>{const e=Object(w.useSelect)((e=>{var t;return null===(t=e("core/block-editor").getSelectedBlock())||void 0===t?void 0:t.name}));let t=Object(x.__)("Layout","kubio");return-1===bo.indexOf(e)&&(t=Object(x.__)("Content","kubio")),Object(s.createElement)("span",{className:"kubio-tab-panel"},Object(s.createElement)(Ce.a,{icon:we.LayoutIcon}),Object(s.createElement)("span",{className:"kubio-tab-panel-text"},t))},className:"tab-content"},{name:"style",title:()=>Object(s.createElement)("span",{className:"kubio-tab-panel"},Object(s.createElement)(Ce.a,{icon:we.StyleIcon}),Object(s.createElement)("span",{className:"kubio-tab-panel-text"},Object(x.__)("Style","kubio"))),className:"tab-style"},{name:"advanced",title:()=>Object(s.createElement)("span",{className:"kubio-tab-panel"},Object(s.createElement)(Ce.a,{icon:we.AdvancedIcon}),Object(s.createElement)("span",{className:"kubio-tab-panel-text"},Object(x.__)("Advanced","kubio"))),className:"tab-advanced"}];var ho=Object(S.compose)(Object(w.withSelect)((e=>{const{getSelectedBlockClientId:t}=e("core/block-editor");return{selectedBlockClientId:t()}})))((e=>{let{selectedBlockClientId:t}=e;const[n,o]=Object(so.useCurrentInspectorTab)();return t&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ye.TabPanel,{className:"kubio-advanced-block-inspector",currentTab:n,onSelect:o,tabs:mo},(e=>Object(s.createElement)("div",{className:"kubio-block-inspector-tab-content"},Object(s.createElement)(so.BlockInspectorTopControls.Slot,{bubblesVirtually:!0}),uo[e.name]))))})),fo=n(9);const go="editor-styles-wrapper",Oo="wp-editor-classic-layout-styles",vo=e=>{if("BUTTON"===e.nodeName){const t=["forminator-ui","wpcf7-form ","wpforms-form","mc4wp-form"],n=e.closest("form"),o=t.some((e=>{var t;return null==n||null===(t=n.classList)||void 0===t?void 0:t.contains(e)}));if(n&&!n.getAttribute("action")&&!o)return}e.addEventListener("click",(e=>{e.preventDefault()}))},_o=Object(s.forwardRef)((function(e,t){let{contentRef:n,children:o,head:r,headHTML:i,contentHolderSelector:l,assetsHolderSelector:a,src:c,onLoad:u=h.noop,execStylesheetCompat:p=!0,...b}=e;const[m,f]=Object(s.useState)(),[O,_]=Object(s.useState)(),y=Object(v.useCurrentPageBodyClasses)(),j=Object(v.useSetGlobalSessionProp)("ownerDocument"),E=Object(v.useSetGlobalSessionProp)("blockEditorRootClasses",""),k=Object(v.useGetGlobalSessionProp)("ready",!1),{currentTemplateSource:C,kubioThemesBaseURL:I}=Object(w.useSelect)((e=>{const{getCurrentKubioTemplateSource:t,getSettings:n}=e(g.STORE_KEY);return{currentTemplateSource:t(),kubioThemesBaseURL:n().kubioThemesBaseURL}}),[]);Object(s.useEffect)((()=>{!k&&c&&(f(null),_(null),j(window.document),Object(fo.removeStyleManager)(m))}),[m,k,j,c]),Object(s.useEffect)((()=>{if(!k||!m)return;let e=!1;const t=k&&c&&m;k&&!c&&m&&["kubio-custom","kubio"].includes(C)&&(e=!0),["kubio-custom","kubio"].includes(C)?(e=>{let t=e.querySelector(".kubio-block-vars-reset");t||(t=e.createElement("style"),t.classList.add("kubio-block-vars-reset"),t.textContent="\n\t\t:root,\n\t\tbody,\n\t\tbody *,\n\t\t.editor-styles-wrapper .block-editor-block-list__layout.is-root-container > *\n\t\t{\n\t\t\t--wp--style--block-gap:0px;\n\t\t\t--gallery-block--gutter-size:0.5em;\n\t\t\t--global-content-width: unset;\n\t\t}",e.head.appendChild(t))})(m):(e=>{const t=e.querySelector(".kubio-block-vars-reset");var n;t&&(null==t||null===(n=t.remove)||void 0===n||n.call(t))})(m),m.querySelectorAll(`link[href^="${I}"]`).forEach((t=>{const n=null==t?void 0:t.id.replace(/(.*?)-css$/,"$1");n&&m.querySelectorAll(`style[id*="${n}-"]`).forEach((t=>{t.sheet&&(t.sheet.disabled=e)})),t.sheet&&(t.sheet.disabled=e)})),m.querySelectorAll(["wp-reset-editor-styles-css","wp-editor-classic-layout-styles-css","common-css","forms-css"].map((e=>`link#${e}`))).forEach((e=>{e.sheet&&(e.sheet.disabled=t)}))}),[k,c,C,m,I]),Object(s.useEffect)((()=>{if(m&&y.length){const e=Array.from(m.body.classList);m.body.setAttribute("class",Object(h.uniq)(e.concat(y)).join(" "))}}),[m,y]);const[,P]=Object(v.useGlobalSessionProp)("blocksOwnerDocument",null,[]),[,R]=Object(v.useGlobalSessionProp)("currentPageHasBlocksContent",null,[]),M=Object(s.useCallback)((e=>{function t(){const{contentDocument:t}=e,{readyState:o,body:r}=t;if("complete"!==o)return!1;"function"==typeof n?n(r):n&&(n.current=r);const a=["a",'[type="submit"]',"form button"];new t.defaultView.MutationObserver((function(e){Object(h.each)(e,(function(e){e.target.querySelectorAll(a.join(",")).forEach(vo)}))})).observe(t,{childList:!0,subtree:!0}),t.querySelectorAll(a.join(",")).forEach(vo),p&&function(e){const t=new Map;Array.from(document.styleSheets).forEach((n=>{try{n.cssRules}catch(e){return}const{ownerNode:o,cssRules:r}=n;r&&Array.from(r).find((e=>{let{selectorText:t}=e;return t&&(t.includes(`.${go}`)||t.includes(".wp-block"))}))&&!t.has(o)&&(o.id&&-1!==o.id.indexOf(Oo)||o.href&&-1!==o.href.indexOf(Oo)?e.head.prepend(o.cloneNode(!0)):e.head.appendChild(o.cloneNode(!0)),t.set(o,!0))}))}(t),t.defaultView.isKubioBlockEditor=!0,t.defaultView.isInsideIframe=!0,function(e,t){e.head.innerHTML="<style>/* head style start */</style>"+t+"<style>/* head style end */</style><style>*{scroll-behavior:  auto !important;}</style>"+e.head.innerHTML}(t,i),function(e){const{defaultView:t}=e,{frameElement:n}=t;function o(e){const{keyCode:o,ctrlKey:r,metaKey:i}=e;if((65===o||95===o)&&(r||i)){const t=e.target.hasAttribute("contenteditable")?e.target:e.target.closest("[contenteditable]");if(t)return((e,t)=>(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e&&e.ownerDocument.execCommand("selectAll",!1,null),!1))(t,e)}const l=Object.getPrototypeOf(e).constructor.name,a=window[l],c={};for(const t in e)c[t]=e[t];if(e instanceof t.MouseEvent){const e=n.getBoundingClientRect();c.clientX+=e.left,c.clientY+=e.top}const s=new a(e.type,c);!n.dispatchEvent(s)&&e.preventDefault()}const r=["keydown","keypress","dragover"];for(const t of r)e.addEventListener(t,o)}(t),f(t),j(t);let s=l&&t.querySelector(l),d="";if(l&&s){const e=s.parentElement;1===e.children.length&&(s.remove(),s=e),d=s.getAttribute("class"),s.setAttribute("class","kubio-hybrid-template-content-edit")}E(d);let b=t.body;return s?b=s:(c||l)&&(b.classList.add("kubio-hybrid-no-block-content"),R(!1)),b.classList.add(go),b.classList.add("wp-embed-responsive"),u(e,t),_(b),P(t),!0}e&&(e.contentDocument.body.parentElement.className="kubio-iframe",c?e.addEventListener("load",(()=>{t()})):t()||e.addEventListener("load",(()=>{t()})))}),[]),A=Object(s.useMemo)((()=>!!m&&(a&&m.querySelector(a)||m.head)),[a,m]),N=Object(s.useMemo)((()=>({ownerDocument:m||window.document})),[m]);return Object(s.createElement)(d.OwnerDocumentContext.Provider,{value:N},Object(s.createElement)("iframe",Object(T.a)({},b,{ref:Object(S.useMergeRefs)([t,M]),tabIndex:"0",title:Object(x.__)("Editor canvas","kubio"),className:"kubio-iframe",name:"editor-canvas",src:c}),O&&Object(s.createPortal)(o,O),A&&Object(s.createPortal)(r,A)))})),yo=async(e,t)=>new Promise((n=>{if(-1!==Array.from(e.ownerDocument.querySelectorAll("script[src]")).map((e=>e.src)).indexOf(t))return;const o=e.ownerDocument.createElement("script");o.async=!0,o.src=t,e.appendChild(o),o.addEventListener("load",n)})),jo=Object(h.debounce)((async function(e,t){for((arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.noop)(),t=window.structuredClone(t);t.length;){const n=t.shift();await yo(e,n)}}),1e3),Eo=e=>{const{children:t,className:n}=e,o=Object(s.useRef)(),r=Object(s.useRef)(),[i,l]=Object(v.useGlobalSessionProp)("containerBgMediaUploadRef",{dataHelper:null,ref:null,blockId:null,value:null});Object(s.useEffect)((()=>{null!==r.current&&l({...i,ref:r})}),[r.current]);const a=Object(v.useGetGlobalSessionProp)("ready",!1);Object(s.useLayoutEffect)((()=>{const e=o.current;if(e&&a){var t;const n=null===(t=e.ownerDocument.querySelector("#kubio-scripts-template"))||void 0===t?void 0:t.content.querySelectorAll("script");n&&jo(e.ownerDocument.head,Array.from(n).map((e=>{let{src:t}=e;return t})).filter(Boolean))}}),[a]);const c=Object(w.useSelect)((e=>{var t;const{getSettings:n}=e(j.store);return null===(t=n())||void 0===t?void 0:t.supportsLayout}),[]),u=Object(j.useSetting)("layout")||{},{contentSize:d,wideSize:p}=u,b={type:"default",alignments:Object(s.useMemo)((()=>{const e=["left","center","right"];return d&&e.push("full"),p&&e.push("wide"),c?e:void 0}),[c,d,p])};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{ref:o}),Object(s.createElement)(j.WritingFlow,null,Object(s.createElement)(j.BlockList,{__experimentalLayout:b,className:P()(n,"edit-site-block-editor__block-list","kubio-block-editor__block-list"),renderAppender:xe.KubioBlockAppender}),t),Object(s.createElement)(j.MediaUploadCheck,null,Object(s.createElement)(j.MediaUpload,{allowedTypes:["image","video"],value:i.value,onSelect:e=>{const{dataHelper:t}=i;if(!t)return;const n=t.getStyle("background");"image"===n.type&&"image"===e.type?n.image[0].source.url=e.url:"video"===n.type&&"video"===e.type&&(n.video.internal.url=e.url),t.setStyle("background",n)},render:e=>{let{open:t}=e;return Object(s.createElement)("div",{ref:r,onClick:t})}})))};var So=n(396),ko=n.n(So);const wo=()=>Object(s.createElement)("div",{className:"kubio-loading-logo"},Object(s.createElement)(E.Icon,{icon:we.KubioLoader})),Co=Object(s.memo)((()=>{const e=Object(S.useRefEffect)((e=>{e.contentWindow.document.open(),e.contentWindow.document.write(ko.a),e.contentWindow.document.close();const t=e.contentDocument||e.contentWindow.document,n=null==t?void 0:t.querySelector("#content");n&&Object(d.reactRender)(Object(s.createElement)(wo,null),n)}),[]);return Object(s.createElement)("iframe",{title:"kubio-loader",ref:e,className:"kubio-loading-logo-iframe"})}));let xo;const To=(e,t)=>{var n,o;e&&(null===(n=e.querySelector("#kubio-editor-view"))||void 0===n||null===(o=n.classList)||void 0===o||o.remove("device-change-animation"),t?xo=e.defaultView.setTimeout((()=>{e.body.classList.add("kubio-iframe-holder--show"),e.body.classList.remove("kubio-iframe-holder--hide"),e.body.classList.remove("h-ui-disable-transitions")}),100):(e.defaultView.clearTimeout(xo),e.body.classList.remove("kubio-iframe-holder--show"),e.body.classList.add("kubio-iframe-holder--hide"),e.body.classList.add("h-ui-disable-transitions")))},Io=Object(S.pure)((e=>{let{iframe:t,deviceType:n}=e;const o=Object(j.__experimentalUseResizeCanvas)(n,!0),r=Object(s.useRef)(),i=Object(s.useRef)(),l=Object(s.useRef)(),a=Object(S.useMergeRefs)([r,Object(j.__unstableUseTypingObserver)()]);return Object(v.useEditorIsLoadedChanged)((e=>{var t,n;To(null===(t=l.current)||void 0===t?void 0:t.ownerDocument,e),To(null===(n=r.current)||void 0===n?void 0:n.ownerDocument,e)})),Object(s.createElement)(s.Fragment,null,Object(s.createElement)(j.BlockTools,{className:"kubio-block-tools",__unstableContentRef:r},Object(s.createElement)("div",{id:"kubio-editor-view",ref:i},Object(s.createElement)("div",{id:"kubio-iframe-holder",className:"editor-styles-wrapper edit-site-block-editor__editor-styles-wrapper",style:o,ref:l},t(a)),Object(s.createElement)(Co,{key:"kubio-blinking-iframe"}))))})),Po="<style>body{width:100%;max-width:100%;overflow-x:hidden;}</style>",Ro=Object(S.createHigherOrderComponent)((e=>t=>{const{setOpenInserter:n}=Object(w.useDispatch)(g.STORE_KEY),{settings:o,templateType:r,page:i,deviceType:l,templateId:a}=Object(w.useSelect)((e=>{const{getSettings:t,getTemplateType:o,getTemplateId:r,getPage:i,__experimentalGetPreviewDeviceType:l}=e(g.STORE_KEY);return{settings:t(n),templateType:o(),templateId:r(),page:i(),deviceType:l()}}),[]),c={settings:o,templateType:r,page:i,deviceType:l,templateId:a};return i||r?Object(s.createElement)(e,Object(T.a)({},t,c)):null}),"currentEditorEntity");var Mo=Object(S.compose)(Ro,S.pure)((function(e){let{settings:t,templateType:n,page:o,deviceType:r,templateId:i}=e;const[l,a,c]=Object(k.useEntityBlockEditor)("postType",n,{id:i}),{setPage:u}=Object(w.useDispatch)(g.STORE_KEY),d=Object(j.__unstableUseMouseMoveTypingReset)(),p=window.__kubioEditorStyles.html+Po,b=Object(w.useSelect)((e=>{const t=e(g.STORE_KEY).getCurrentKubioTemplateSource();return null==t?void 0:t.startsWith("kubio")}),[n,i]),m=Object(s.useMemo)((()=>b?t.styles.filter((e=>"theme"!==e.__unstableType)):t.styles),[b,t.styles]),h=Object(s.useCallback)((e=>Object(s.createElement)(_o,{headHTML:p,ref:d,head:Object(s.createElement)(j.__unstableEditorStyles,{styles:m}),contentRef:e},Object(s.createElement)(Eo,null))),[d,p,m]);return Object(s.createElement)(j.BlockEditorProvider,{settings:t,value:l,onInput:a,onChange:c,useSubRegistry:!1},Object(s.createElement)(j.BlockEditorKeyboardShortcuts,null),Object(s.createElement)(j.__experimentalLinkControl.ViewerFill,null,Object(s.useCallback)((e=>Object(s.createElement)(ke,Object(T.a)({},e,{activePage:o,onActivePageChange:u}))),[o])),Object(s.createElement)(co,null,Object(s.createElement)(ho,null)),Object(s.createElement)(Io,{deviceType:r,iframe:h}))})),Ao=function(){var e,t;const{setOpenInserter:n}=Object(w.useDispatch)(g.STORE_KEY),[o,r]=Object(s.useState)({}),{settings:i,page:l,deviceType:a,classicTemplateId:c}=Object(w.useSelect)((e=>{const{getSettings:t,getEntity:o,getPage:r,getClassicTemplateId:i,__experimentalGetPreviewDeviceType:l}=e(g.STORE_KEY);return{settings:{...t(n)},entity:o(),page:r(),classicTemplateId:i(),deviceType:l()}}),[n]);Object(s.useEffect)((()=>{Dt()(l,o)||r(l)}),[l]);const[u,d,p]=Object(k.useEntityBlockEditor)("postType",null==o||null===(e=o.context)||void 0===e?void 0:e.postType,{id:null==o||null===(t=o.context)||void 0===t?void 0:t.postId}),{setPage:b}=Object(w.useDispatch)(g.STORE_KEY),m=Object(j.__unstableUseMouseMoveTypingReset)(),h=Object(v.useSetGlobalSessionProp)("ready"),f=(e,t)=>{t.body.id="kubio",h(!0)},O=window.__kubioEditorStyles.html+Po,_=Object(v.useGetGlobalSessionProp)("blockEditorRootClasses",""),y=Object(s.useCallback)((e=>(null==o?void 0:o.path)&&Object(s.createElement)(_o,{headHTML:O,ref:m,contentRef:e,src:Object(Gn.addQueryArgs)(null==o?void 0:o.path,{"__kubio-site-edit-iframe-preview":!0,"__kubio-site-edit-iframe-classic-template":c}),contentHolderSelector:"#kubio-site-edit-content-holder",assetsHolderSelector:"#kubio-site-edit-assets-holder",onLoad:f,execStylesheetCompat:!1},Object(s.createElement)(Eo,{className:_},Object(s.createElement)(Ye.LayoutPicker,null)))),[null==o?void 0:o.path,m,O,O,i.styles,_]);return Object(s.createElement)(j.BlockEditorProvider,{settings:i,value:u,onInput:d,onChange:p,useSubRegistry:!1},Object(s.createElement)(j.BlockEditorKeyboardShortcuts,null),Object(s.createElement)(j.__experimentalLinkControl.ViewerFill,null,Object(s.useCallback)((e=>Object(s.createElement)(ke,Object(T.a)({},e,{activePage:o,onActivePageChange:b}))),[o])),Object(s.createElement)(co,null,Object(s.createElement)(ho,null)),Object(s.createElement)(Io,{deviceType:a,iframe:y}))};const No=()=>{const[e,t]=Object(s.useState)([]),n=Object(w.useSelect)((e=>{const{getEntityRecords:t}=e("core");return t("postType","kubio_section",{per_page:-1})}),[]),o="kubio-content/custom";return Object(s.useEffect)((()=>{let r=e;null==n||n.forEach((t=>{if(e.includes(t.id))return;const n={name:`${o}/custom-section/${t.id}`,title:t.title.rendered,categories:[o],description:Object(x.__)("Custom section","kubio"),screenshot:!1,fromColibri:!0,fromFirebase:!0,isCustomSection:!0,isProOnFree:!1,isGutentagPattern:!0,content:JSON.parse(t.content.raw)};Object(u.registerPattern)(n),r=[...r,t.id]})),t(r)}),[n,e]),null};var Do=n(334),Lo=n(424);function zo(e){let{record:t,checked:n,onChange:o,closePanel:r}=e;const{name:i,kind:l,title:a,key:c}=t,u=Object(w.useSelect)((e=>{var t;const{blocks:n=[]}=e("core").getEditedEntityRecord(l,i,c),o=e("core/block-editor").getBlockParents(null===(t=n[0])||void 0===t?void 0:t.clientId);return o[o.length-1]}),[]),d=Object(w.useSelect)((e=>{if("postType"!==l||"wp_template"!==i)return a;const t=e("core").getEditedEntityRecord(l,i,c);return e("core/editor").__experimentalGetTemplateInfo(t).title}),[i,l,a,c]),p=Object(w.useSelect)((e=>e("core/block-editor").getSelectedBlockClientId()===u),[u]),b=p?Object(x.__)("Selected","kubio"):Object(x.__)("Select","kubio"),{selectBlock:m}=Object(w.useDispatch)("core/block-editor"),h=Object(s.useCallback)((()=>m(u)),[u]),f=Object(s.useCallback)((()=>{m(u),r()}),[u]);return Object(s.createElement)(E.PanelRow,null,Object(s.createElement)(E.CheckboxControl,{label:Object(s.createElement)("strong",null,d||Object(x.__)("Untitled","kubio")),checked:n,onChange:o}),u?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.Button,{onClick:h,className:"entities-saved-states__find-entity",disabled:p},b),Object(s.createElement)(E.Button,{onClick:f,className:"entities-saved-states__find-entity-small",disabled:p},b)):null)}const Bo={site:Do.a,page:Lo.a};function Fo(e){let{list:t,unselectedEntities:n,setUnselectedEntities:o,closePanel:r}=e;const i=t[0],l=Object(w.useSelect)((e=>e("core").getEntity(i.kind,i.name)),[i.kind,i.name]),{name:a}=i,c=Bo[a];return Object(s.createElement)(E.PanelBody,{title:l.label,initialOpen:!0,icon:c},t.map((e=>Object(s.createElement)(zo,{key:e.key||`${e.kind}-${e.name}-${e.property}`,record:e,checked:!Object(h.some)(n,(t=>t.kind===e.kind&&t.name===e.name&&t.key===e.key)),onChange:t=>o(e,t),closePanel:r}))))}const Go={title:Object(x.__)("Title","kubio"),description:Object(x.__)("Tagline","kubio"),site_logo:Object(x.__)("Logo","kubio"),sitelogo:Object(x.__)("Logo","kubio"),show_on_front:Object(x.__)("Show on front","kubio"),page_on_front:Object(x.__)("Page on front","kubio")},Ho={wp_template_part:e=>Object(x._n)("template part","template parts",e,"kubio"),wp_template:e=>Object(x._n)("template","templates",e,"kubio"),post:e=>Object(x._n)("post","posts",e,"kubio"),page:e=>Object(x._n)("page","pages",e,"kubio"),site:e=>Object(x._n)("site","sites",e,"kubio")};var Uo=Object(E.withFocusReturn)((function(e){let{isOpen:t,close:n}=e;const{dirtyEntityRecords:o}=Object(w.useSelect)((e=>{const t=e(k.store).__experimentalGetDirtyEntityRecords().filter((e=>!("root"===e.kind&&"site"===e.name))),n=e(k.store).getEntityRecordEdits("root","site"),o=[];for(const e in n)o.push({kind:"root",name:"site",title:Go[e]||e,property:e});return{dirtyEntityRecords:[...t,...o]}}),[]),{saveEditedEntityRecord:r}=Object(w.useDispatch)("core"),i=Object.values(Object(h.groupBy)(o,"name")),l=[];i.forEach((e=>{Ho[e[0].name]&&l.push(Ho[e[0].name](e.length))}));const[a,c]=Object(s.useState)([]),u=(e,t)=>{let{kind:n,name:o,key:r}=e;c(t?a.filter((e=>e.kind!==n||e.name!==o||e.key!==r)):[...a,{kind:n,name:o,key:r}])},d=Object(s.useCallback)((()=>n()),[n]),p=Object(x.__)("Save","kubio");return t?Object(s.createElement)("div",{className:"entities-saved-states__panel kubio-entities-saved-states__panel"},Object(s.createElement)("div",{className:"entities-saved-states__panel-header"},Object(s.createElement)(E.Button,{isPrimary:!0,disabled:o.length-a.length==0,onClick:()=>{const e=o.filter((e=>{let{kind:t,name:n,key:o}=e;return!Object(h.some)(a,(e=>e.kind===t&&e.name===n&&e.key===o))}));n(e),e.forEach((e=>{let{kind:t,name:n,key:o}=e;r(t,n,o)}))},className:"editor-entities-saved-states__save-button"},p),Object(s.createElement)(E.Button,{onClick:d,icon:Te.a,label:Object(x.__)("Close panel","kubio")})),Object(s.createElement)("div",{className:"entities-saved-states__text-prompt"},Object(s.createElement)("strong",null,Object(x.__)("Select the changes you want to save","kubio")),Object(s.createElement)("p",null,Object(x.__)("Some changes may affect other areas of your site.","kubio"))),i.map((e=>Object(s.createElement)(Fo,{key:e[0].name,list:e,closePanel:d,unselectedEntities:a,setUnselectedEntities:u})))):null})),Wo=n(429);const Vo=["front-page","single-post","page","archive","search","404","index"],Ko="root",$o="template-parts",Yo="templates",qo="templates-general",Xo="templates-pages",Qo="templates-posts",Zo="kubio__custom-templates",Jo="kubio__theme-templates",er="kubio__kubio-templates",tr="kubio-content-area-postType-page",nr=[{area:"header",menu:"template-parts-headers",title:Object(x.__)("Headers","kubio")},{area:"footer",menu:"template-parts-footers",title:Object(x.__)("Footers","kubio")},{area:"sidebar",menu:"template-parts-sidebars",title:Object(x.__)("Sidebars","kubio")},{area:"uncategorized",menu:"template-parts-general",title:Object(x.__)("General","kubio")}];function or(e){let{openEntitiesSavedStates:t}=e;const{saveEditedEntityRecord:n}=Object(w.useDispatch)("core"),{isSaving:o,isDirty:r}=Object(w.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t,isSavingEntityRecord:n}=e("core"),o=t();return{isDirty:o.length>0,isSaving:Object(h.some)(o,(e=>n(e.kind,e.name,e.key)))}})),i=!r||o,l=Object(x.__)("Save","kubio"),{dirtyEntityRecords:a}=Object(w.useSelect)((e=>{const t=e(k.store).__experimentalGetDirtyEntityRecords().filter((e=>!("root"===e.kind&&"site"===e.name))),n=e(k.store).getEntityRecordEdits("root","site"),o=[];for(const e in n)o.push({kind:"root",name:"site",property:e});return{dirtyEntityRecords:[...t,...o]}}),[]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.Button,{isPrimary:!0,className:"edit-site-save-button__button","aria-disabled":i,disabled:i,isBusy:o,onClick:i?void 0:()=>{a.forEach((e=>{let{kind:t,name:o,key:r}=e;n(t,o,r)}))}},l),Object(s.createElement)(E.Button,{isPrimary:!0,icon:we.ArrowDown,iconSize:24,className:"edit-site-save-button__dropdown","aria-disabled":i,disabled:i,onClick:i?void 0:t}))}n(99);var rr=n(422),ir=n(63);function lr(e){let{feature:t,label:n,info:o,messageActivated:r,messageDeactivated:i}=e;const l=Object(w.useSelect)((e=>e(g.STORE_KEY).isFeatureActive(t)),[]),{toggleFeature:a}=Object(w.useDispatch)(g.STORE_KEY);return Object(s.createElement)(E.MenuItem,{icon:l&&R.a,isSelected:l,onClick:Object(h.flow)(a.bind(null,t),(()=>{l?Object(ir.speak)(i||Object(x.__)("Feature deactivated","kubio")):Object(ir.speak)(r||Object(x.__)("Feature activated","kubio"))})),role:"menuitemcheckbox",info:o},n)}const ar={className:"edit-site-more-menu__content",position:"bottom left"},cr={tooltipPosition:"bottom"};var sr=()=>{const{isGutentagDebug:e,baseUrl:t,currentPage:n,hasBlockSelected:o}=Object(w.useSelect)((e=>{const{isGutentagDebug:t=f.a.noop,getPage:n=f.a.noop}=e(g.STORE_KEY)||{},{url:o}=e("core").getEntityRecord("root","site")||{};return{isGutentagDebug:t(),currentPage:n(),baseUrl:o,hasBlockSelected:!!e("core/block-editor").getSelectedBlockClientId()}}),[]),r=()=>{const e=null==n?void 0:n.link,o=encodeURIComponent(e);window.open(`${t}/wp-admin/customize.php?url=${o}`).focus()},{toggleGutentagDebug:i}=Object(w.useDispatch)(g.STORE_KEY);let l=Object(s.createElement)(s.Fragment,null);const{uiVersion:a,setUIVersion:c}=Object(O.useUIVersion)(),{openSidebar:u}=Object(w.useDispatch)(g.STORE_KEY),d=()=>{const e=2===a?1:2;c(e),2===e&&u(o?"block-inspector":"document")},p=1===a?Object(x.__)("Switch to Kubio Editor layout","kubio"):Object(x.__)("Switch to WordPress Editor layout","kubio"),b=1===a?Object(x.__)("Switch to the new Kubio editor layout for a more friendly editing experience","kubio"):Object(x.__)("Switch to the WordPress editor layout to have the default editing experience","kubio");return Object(s.createElement)(E.DropdownMenu,{className:"edit-site-more-menu",icon:rr.a,label:Object(x.__)("More tools & options","kubio"),popoverProps:ar,toggleProps:cr},(e=>{let{onClose:t}=e;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.MenuGroup,{label:Object(x._x)("View","noun","kubio")},Object(s.createElement)(E.MenuItem,{onClick:d,info:b},p),Object(s.createElement)(lr,{feature:"fixedToolbar",label:Object(x.__)("Top toolbar","kubio"),info:Object(x.__)("Access all block and document tools in a single place","kubio"),messageActivated:Object(x.__)("Top toolbar activated","kubio"),messageDeactivated:Object(x.__)("Top toolbar deactivated","kubio")}),Object(s.createElement)(lr,{feature:"focusMode",label:Object(x.__)("Spotlight mode","kubio"),info:Object(x.__)("Focus on one block at a time","kubio"),messageActivated:Object(x.__)("Spotlight mode activated","kubio"),messageDeactivated:Object(x.__)("Spotlight mode deactivated","kubio")}),l,Object(s.createElement)(E.MenuItem,{onClick:r},Object(x.__)("Open theme customizer","kubio")),Object(s.createElement)(be.Slot,{name:"kubio/edit-site/plugin-more-menu",label:Object(x.__)("Plugins","kubio"),as:[E.MenuGroup,E.MenuItem],fillProps:{onClick:t}})))}))},ur=n(397);const dr={searchString:"",setSearchString:f.a.noop},pr={categoriesList:[],selectedCategory:null,setSelectedCategory:f.a.noop},br=Object(s.createContext)({list:[],categories:null,filterFunction:null}),mr=Object(s.createContext)({list:[]}),hr=Object(s.createContext)(dr),fr=Object(s.createContext)(pr),gr=Object(s.memo)((e=>{let{children:t}=e;const{list:n,categories:o,filterFunction:r=null}=Or(),i="all",[l,a]=Object(s.useState)(i),[c,u]=Object(s.useState)(""),d=Object(s.useMemo)((()=>{if(f.a.isEmpty(o))return{};const e={};return o.forEach((t=>{let{label:n,value:o}=t;e[o]=n})),e}),[o]),p=Object(s.useMemo)((()=>r&&"function"==typeof r?r(n,c):_r(n,c)),[c,n,r]),{resultedCategories:b,nrOfItemsPerCategory:m}=Object(s.useMemo)((()=>{const e=[{value:i,label:"All"}],t={[i]:p.length};return p.forEach((n=>{const o=(null==n?void 0:n.categories)||[];o.forEach((n=>{const r=e.map((e=>e.value));if(o.forEach((e=>{t[e]?t[e]++:t[e]=1})),r.includes(n))return;let i;f.a.get(d,n)?i=f.a.get(d,n):(i=f.a.startCase(n.replace("-"," & ")).trim(),i=i.replace(" "," & "));const l={value:n,label:i};e.push(l)}))})),{resultedCategories:e,nrOfItemsPerCategory:t}}),[p,d]),h=Object(s.useMemo)((()=>p.filter((e=>l===i||((null==e?void 0:e.categories)||[]).includes(l)))),[l,i,p]),g=Object(s.useMemo)((()=>({searchString:c,setSearchString:u})),[c,u]),O=Object(s.useMemo)((()=>({categoriesList:b,selectedCategory:l,setSelectedCategory:a,nrOfItemsPerCategory:m})),[b,l,a,m]),v=Object(s.useMemo)((()=>({list:h})),[h]);return Object(s.createElement)(mr.Provider,{value:v},Object(s.createElement)(hr.Provider,{value:g},Object(s.createElement)(fr.Provider,{value:O},t)))})),Or=()=>Object(s.useContext)(br),vr=()=>Object(s.useContext)(mr),_r=(e,t)=>{if(!t)return e;const n=t.toLowerCase();return e.filter((e=>{let{label:t}=e;return t.toLowerCase().includes(n)}))};var yr=n(203),jr=n.n(yr),Er=n(43),Sr=n.n(Er);const kr={demoParts:null,demoSitesList:null,demoSitesListBySlug:null,demoPartsContentById:{pages:{},templates:{},templateParts:{},globalData:{}}};function wr(e){if(!e)return;const t=["demoPartsContentById","globalData",e.id];if(f.a.get(kr,t))return;const n={contentUrlPath:e.content_url_path,content:null};f.a.set(kr,t,n)}async function Cr(e){const t=["demoPartsContentById","pages",e],n=f.a.get(kr,t),o=await async function(e){return Ir(e,"pages")}(e),r=null==n?void 0:n.globalDataId;let i={page:o,globalData:await Tr(r)};return i=f.a.cloneDeep(i),i}async function xr(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=["demoPartsContentById","templates",e],o=f.a.get(kr,n),r=f.a.get(o,"templatePartsIds",[]);let i={template:await async function(e){return Ir(e,"templates")}(e),templateParts:await Promise.all(r.map((async e=>({area:f.a.get(kr,["demoPartsContentById","templateParts",e,"area"]),content:await async function(e){return Ir(e,"templateParts")}(e)}))))};if(t){const e=null==o?void 0:o.globalDataId,t=await Tr(e);i.globalData=t}return i=f.a.cloneDeep(i),i}async function Tr(e){return Ir(e,"globalData")}async function Ir(e,t){const n=f.a.get(kr,["demoPartsContentById",t,e]);let o=null==n?void 0:n.content;if(o)await(10,new Promise((e=>setTimeout((()=>{e()}),10))));else{const e=null==n?void 0:n.contentUrlPath;if(!e)return;try{const t=await jr.a.get(e);o=null==t?void 0:t.data,n.content=o}catch(e){console.error(e)}}return o}async function Pr(){if(kr.demoParts)return kr.demoParts;let e=f.a.get(window,["kubioUtilsData","demo_parts_by_slug"]);f.a.isEmpty(e)&&(e=await async function(){try{var e;let t=f.a.get(window,["kubioUtilsData","demo_parts_url"],"");if(f.a.get(window,["kubioUtilsData","include_test_templates"],!1))try{const e=new URL(t);e.searchParams.append("tests",1),t=e.toString()}catch(e){console.error(e)}const n=await jr.a.get(t);return(null==n||null===(e=n.data)||void 0===e?void 0:e.body)||{}}catch(e){return console.error(e),[]}}());const t=[];return f.a.each(e,((e,n)=>{t[n]=function(e,t){const n=f.a.get(window,["kubioUtilsData","demo_sites"],{}),o=f.a.get(n,t),r=f.a.get(o,"thumb",""),i=["index","home"],l=[],a=i.concat(["single","search","404"]);let c=e.filter((e=>{let{slug:t,type:n}=e;return"template"===n?(i.includes(t)&&l.push(t),a.includes(t)):"page"!==n||"sample-page"!==t}));if(l.length>1){const e=i.filter((e=>l.includes(e)));e.pop(),c=c.filter((t=>{let{slug:n,type:o}=t;return"template"!==o||!e.includes(n)}))}const s={};return c.forEach(((e,t)=>{s[e.content_url_path]=t})),f.a.sortBy(c,(e=>"page"===e.type?s[e.content_url_path]:100+f.a.indexOf(a,e.slug))).map((e=>{let{content_url_path:n,id:i,preview_image_url:l,preview_image_url_full:a,page_preview_url:c,title:s,type:u,slug:d}=e;return{contentUrlPath:n,id:i,slug:d,uniqueId:Sr.a.generate(),screenshot:l||r,screenshotFull:a||r,label:(p=Rr({title:s,slug:d,type:u}),function(e){return e.split(" ").map((e=>{return(t=e).charAt(0).toUpperCase()+t.slice(1);var t})).join(" ")}((b=p,Dr.innerHTML=b,Dr.innerText))),isPro:!!o.is_pro,type:u,demoSiteSlug:t,pagePreviewUrl:Lr({page_preview_url:c,currentDemoSite:o,type:u,slug:d}),categories:(null==o?void 0:o.categories)||[]};var p,b}))}(e,n)})),n=e,f.a.each(n,((e,t)=>{e.forEach((e=>{"page"===(null==e?void 0:e.type)?function(e){var t,n;const o={templateId:null==e||null===(t=e.template)||void 0===t?void 0:t.id,globalDataId:null==e||null===(n=e.globalData)||void 0===n?void 0:n.id,contentUrlPath:e.content_url_path,content:null},r=e.globalData;r&&(o.globalDataId=null==r?void 0:r.id),f.a.set(kr,["demoPartsContentById","pages",e.id],o),wr(r)}(e):function(e){const t=["demoPartsContentById","templates",e.id],n=f.a.get(e,"templateParts",[]);n.forEach((e=>{!function(e){const t=["demoPartsContentById","templateParts",e.id];if(f.a.get(kr,t))return;const n={area:e.area,contentUrlPath:e.content_url_path,content:null};f.a.set(kr,t,n)}(e)}));const o=null==e?void 0:e.globalData;if(wr(),f.a.get(kr,t))return;const r={templatePartsIds:n.map((e=>e.id)),contentUrlPath:e.content_url_path,content:null};o&&(r.globalDataId=null==o?void 0:o.id),f.a.set(kr,t,r)}(e)}))})),kr.demoParts=t,f.a.isEmpty(t)?{}:kr.demoParts;var n}function Rr(e){let{title:t,slug:n,type:o}=e;if("template"===o)switch(n){case"index":case"home":return Object(x.__)("Blog","kubio");case"search":return Object(x.__)("Search","kubio");case"single":return Object(x.__)("Post Page","kubio");default:return t}return t}async function Mr(){if(kr.demoSitesList)return kr.demoSitesList;let e=f.a.get(window,["kubioUtilsData","demo_sites"],null);if(f.a.isEmpty(e)&&(e=await async function(){let e=f.a.get(window,["kubioUtilsData","demo_sites_url"],null);if(e){if(f.a.get(window,["kubioUtilsData","include_test_templates"],!1))try{const t=new URL(e);t.searchParams.append("tests",1),e=t.toString()}catch(e){console.error(e)}try{var t;const n=await jr.a.get(e),o=(null==n||null===(t=n.data)||void 0===t?void 0:t.body)||{};o.forEach((e=>{const t=f.a.get(e,"plugins",[]),n=[];f.a.each(t,((e,t)=>{const o=null==t?void 0:t.split("/")[0];n.push({label:e,slug:o})})),e.plugins=n}));const r=f.a.keyBy(o,"slug");return f.a.set(window,["kubioUtilsData","demo_sites"],r),r}catch(e){console.error(e)}return null}}()),f.a.isEmpty(e))return[];const t=Object.values(e).map((e=>{let{is_pro:t,name:n,thumb:o,categories:r,slug:i,preview:l,pro_template_slug:a,plugins:c}=e;return{isPro:!!t,label:Nr(n),preview:l,screenshot:o,proTemplateSlug:a,categories:r,slug:i,plugins:c}})),n=f.a.keyBy(t,"slug");return t.forEach((e=>{const{proTemplateSlug:t}=e;if(!t)return;const o=f.a.get(n,t);o&&(e.relatedDemoSite=o,o.relatedDemoSite=e)})),kr.demoSitesList=t,kr.demoSitesListBySlug=n,kr.demoSitesList}const Ar=e=>{e&&setTimeout((()=>{const t=document.querySelector(".kubio-iframe");if(t){const n=null==t?void 0:t.contentDocument,o=null==n?void 0:n.querySelector(`[data-block="${e}"]`);null==o||o.scrollIntoView({behavior:"smooth"})}}),100)};function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.replace(/ (Free|Pro)/i,""),e=e.trim(),e}const Dr=document.createElement("div");function Lr(e){let{page_preview_url:t,currentDemoSite:n,type:o,slug:r}=e;if("page"===o||!["404","search"].includes(r))return t;const i=n.preview;switch(r){case"404":return`${i}/404-page`;case"search":return`${i}?s="lorem"`}}!async function(){await Mr(),await Pr()}();const zr={selectedDemoSlug:null,onSelectDemo:f.a.noop,setSelectedDemoSlug:f.a.noop,currentDemoSite:null,selectedDemoPartId:null,setSelectedDemoPartId:f.a.noop},Br=Object(s.createContext)(zr),Fr=e=>{let{children:t}=e;const[n,o]=Object(s.useState)(),[r,i]=Object(s.useState)([]),[l,a]=Object(s.useState)({}),[c,u]=Object(s.useState)(!1),[d,p]=Object(s.useState)(),[b,m]=Object(s.useState)(!1);Object(s.useEffect)((()=>{!async function(){const e=await Mr();i(e)}()}),[]),Object(s.useEffect)((()=>{!async function(){const e=await Pr();a(e),u(!0)}()}),[]);const h=Object(s.useCallback)(((e,t)=>{p(t),o(e)}),[o,p]),f=Object(s.useMemo)((()=>r.find((e=>e.slug===n))),[n,r]),g=Object(s.useMemo)((()=>({rawDemoList:r,selectedDemoSlug:n,onSelectDemo:h,setSelectedDemoSlug:o,currentDemoSite:f,initialDemoPart:d,setInitialDemoPart:p,demosPartsPerSlug:l,demoPartsIsLoaded:c,showDemoSiteImportPage:b,setShowDemoSiteImportPage:m})),[r,n,h,o,f,d,p,l,c,b,m]);return Object(s.createElement)(Br.Provider,{value:g},t)},Gr=()=>Object(s.useContext)(Br),Hr=Object(s.createContext)({favoritesDataByType:{},onAddToFavorites:f.a.noop}),Ur="kubio_favorites",Wr=Object(s.memo)((e=>{let{children:t}=e;const[n,o]=Object(s.useState)({}),r=Object(w.useSelect)((e=>{const{getEntityRecords:t,getEditedEntityRecord:n}=e("core");return(t("postType",Ur,{per_page:-1})||[]).map((e=>n("postType",Ur,e.id)))}),[]),{saveEntityRecord:i,editEntityRecord:l}=Object(w.useDispatch)("core"),a=Object(s.useRef)(!1),c=Object(s.useMemo)((()=>f.a.get(r,"0")),[r]),u=Object(s.useMemo)((()=>{try{const e=f.a.get(c,"content","{}");return JSON.parse(e)}catch(e){return{}}}),[c]);Object(s.useEffect)((()=>{f.a.isEqual(u,n)||o(u)}),[u]);const d=Object(s.useCallback)((async()=>{const e={title:"Favorites data",status:"publish",content:JSON.stringify({})};return await i("postType",Ur,e)}),[i]),p=Object(s.useCallback)((async(e,t,r)=>{var i,s;if(a.current)return;a.current=!0;let u=c;if(f.a.isEmpty(u)&&(u=await d()),null===(i=u)||void 0===i||!i.id)return void(a.current=!1);const p=f.a.cloneDeep(n);r?f.a.set(p,[e,t],!0):f.a.unset(p,[e,t]),o(p);const b={content:JSON.stringify(p)};l("postType",Ur,null===(s=u)||void 0===s?void 0:s.id,b),a.current=!1}),[d,a,c,n]),b=Object(s.useMemo)((()=>({favoritesDataByType:n,onAddToFavorites:p})),[n]);return Object(s.createElement)(Hr.Provider,{value:b},t)})),Vr=()=>Object(s.useContext)(Hr),Kr=Object(s.createContext)({favoritesDataByType:null}),$r=Object(s.memo)((e=>{let{children:t}=e;const{favoritesDataByType:n}=Vr(),o=Object(s.useMemo)((()=>({favoritesDataByType:n})),[n]);return Object(s.createElement)(Kr.Provider,{value:o},t)})),Yr=()=>Object(s.useContext)(Kr),qr={currentDemoParts:[],demoPartsIsLoaded:!1,selectedDemoPart:null,setSelectedDemoPart:f.a.noop},Xr=Object(s.createContext)(qr),Qr=Object(s.memo)((e=>{let{children:t}=e;const{selectedDemoSlug:n,initialDemoPart:o,setInitialDemoPart:r,demosPartsPerSlug:i,demoPartsIsLoaded:l,currentDemoSite:a}=Gr(),c=Object(s.useMemo)((()=>f.a.get(i,null==a?void 0:a.slug,[])),[a,i]),u=null==a?void 0:a.relatedDemoSite,d=Object(s.useMemo)((()=>f.a.get(i,null==u?void 0:u.slug,[])),[u,i]),p=Object(s.useMemo)((()=>{const e=f.a.get(c,[0]);if(!o)return e;return c.find((e=>(null==e?void 0:e.uniqueId)===(null==o?void 0:o.uniqueId)))||e}),[n,o]),[b,m]=Object(s.useState)(p),h=Object(s.useCallback)((e=>{o&&r(null),m(e)}),[m,o,r]);Object(s.useEffect)((()=>{o&&h(o)}),[o]),Object(s.useEffect)((()=>{h(p)}),[n]);const g=Object(s.useMemo)((()=>({currentDemoParts:c,demoPartsIsLoaded:l,selectedDemoPart:b,setSelectedDemoPart:h,relatedDemoParts:d})),[c,l,b,h,d]);return Object(s.createElement)(Xr.Provider,{value:g},t)})),Zr=()=>Object(s.useContext)(Xr),Jr="content",ei="wholePage",ti=(Object(x.__)("Content","kubio"),Object(x.__)("Full page","kubio"),"onlyThisPage"),ni="allPages",oi=(Object(x.__)("Only this page","kubio"),Object(x.__)("All pages","kubio"),["singular","single"]),ri=["index","archive","home"],ii=oi.concat(ri),li=Object(s.createContext)({}),ai="starterSite",ci="pages",si="sections",ui="favorites",di=[{label:Object(x.__)("Starter sites","kubio"),value:ai},{label:Object(x.__)("Pages","kubio"),value:ci},{label:Object(x.__)("Sections","kubio"),value:si},{label:Object(x.__)("Favorites","kubio"),value:ui}],pi=Object(s.memo)((e=>{let{onClose:t,children:n}=e;const[o,r]=Object(s.useState)(ai),[i,l]=Object(s.useState)(!1),{templateId:a,postId:c}=Object(w.useSelect)((e=>{const{getPage:t=f.a.noop,getTemplateId:n=f.a.noop}=e("kubio/edit-site")||{},o=t();return{templateId:n()||"",postId:f.a.get(o,"context.postId")}}),[]);Object(s.useEffect)((()=>{i&&l(!1)}),[a,c]);const u=Object(s.useMemo)((()=>({activePage:o,setActivePage:r,onClose:t,showLoadingOverlay:i,setShowLoadingOverlay:l})),[o,r,t,i,l]);return Object(s.createElement)(li.Provider,{value:u},n)})),bi=()=>Object(s.useContext)(li),mi={isImporting:!1,importDemoPart:f.a.noop},hi=Object(s.createContext)(mi),fi=Object(s.memo)((e=>{let{children:t}=e;const n=Object(s.useRef)(!1),[o,r]=Object(s.useState)(!1),{selectedDemoPart:i}=Zr(),[l,a]=Object(s.useState)(Jr),[c,u]=Object(s.useState)(ti),[d,p]=Object(s.useState)(),b=n.current,m=Object(s.useCallback)((e=>{n.current=e}),[n]),h=Object(s.useCallback)((()=>{b||p(i)}),[b,p,i]),f=Object(s.useMemo)((()=>({isImporting:b,setIsImporting:m,importDemoPart:h,demoPartThatIsImporting:d,setDemoPartThatIsImporting:p,whatToImport:l,setWhatToImport:a,whereToApplyChanges:c,setWhereToApplyChanges:u,shouldConvertGlobalColors:o,setShouldConvertGlobalColors:r})),[b,m,d,p,h,l,a,c,u,o,r]);return Object(s.createElement)(hi.Provider,{value:f},t)})),gi=()=>Object(s.useContext)(hi),Oi={typography:{holders:{}}};["a","lead","p","h1","h2","h3","h4","h5","h6"].forEach((e=>{f.a.set(Oi,`typography.holders.${e}`,{transform:"none",style:"normal",decoration:"none"})}));const vi=e=>(e.forEach((e=>{switch(null==e?void 0:e.name){case"kubio/contact":case"kubio/subscribe-form":f.a.set(e,["attributes","shortcode"],""),f.a.set(e,["attributes","formId"],"");break;case"kubio/shortcode":f.a.set(e,["attributes","shortcode"],"")}const t=f.a.get(e,"innerBlocks",[]);vi(t)})),e),_i=e=>f.a.cloneDeep(f.a.get(e,"globalStyle.style.descendants.body",{}));function yi(e){return f()(e).pickBy(f.a.isObject).mapValues(yi).omitBy(f.a.isEmpty).assign(f.a.omitBy(e,(e=>f.a.isObject(e)&&!Array.isArray(e)))).value()}const ji=["header","footer","sidebar"],Ei={header:"kubio/header",footer:"kubio/footer",sidebar:"kubio/sidebar"},Si=e=>{const t=top.document;e?t.defaultView.setTimeout((()=>{t.body.classList.add("kubio-iframe-holder--show"),t.body.classList.remove("kubio-iframe-holder--hide"),t.body.classList.remove("h-ui-disable-transitions")}),100):(t.body.classList.remove("kubio-iframe-holder--show"),t.body.classList.add("kubio-iframe-holder--hide"),t.body.classList.add("h-ui-disable-transitions"))},ki=Object(s.memo)((()=>{const{isImporting:e,setIsImporting:t,demoPartThatIsImporting:n,setDemoPartThatIsImporting:o,whereToApplyChanges:r,whatToImport:i,shouldConvertGlobalColors:l}=gi(),{onClose:a=f.a.noop}=bi(),{contentClientId:c,nrOfBlocksInsideContent:u,postType:p,postId:b,isClassicTemplate:m,pagePath:h,isFrontPageClassic:g,currentTheme:O,currentPostTitle:y}=Object(w.useSelect)((e=>{var t,n;const{getBlocks:o,getBlockOrder:r}=e("core/block-editor"),{getPage:i=f.a.noop,getTemplateId:l}=e("kubio/edit-site")||{},{getEditedEntityRecord:a,getCurrentTheme:c,getEntityRecord:s}=e("core"),u=a("root","site"),d=null===(t=c())||void 0===t?void 0:t.stylesheet,p=i()||{},{path:b}=p,{postType:m,postId:h}=(null==p?void 0:p.context)||{},g=l()||"",O=!f.a.get(g.split("//"),"[1]"),v=null==u?void 0:u.page_on_front,_="page"===u.show_on_front,y=O&&_&&parseInt(v)===parseInt(h),j=o()||[],E=Object(qe.findBlockByName)(j,"core/post-content"),S=null==E?void 0:E.clientId,k=null===(n=r(S))||void 0===n?void 0:n.length,w=s("postType",m,h);return{contentClientId:S,nrOfBlocksInsideContent:k,postType:m,postId:h,pagePath:b,isClassicTemplate:O,isFrontPageClassic:y,currentTheme:d,currentPost:w,currentPostTitle:f.a.get(w,"title.rendered","Kubio")}}),[]),{saveEntityRecord:j,editEntityRecord:E}=Object(w.useDispatch)("core"),{insertBlocks:k,replaceInnerBlocks:C,resetBlocks:T,selectBlock:I,removeBlocks:P}=Object(w.useDispatch)("core/block-editor"),{createErrorNotice:R}=Object(d.useKubioNotices)(),M=Object(v.useGetGlobalSessionProp)("urlBasedTemplatesMap",{})[h],A=Object(s.useRef)(),[,N=f.a.noop]=Object(v.useGlobalSessionProp)("thirdPartyBlockInstalled",!1),{onProcessGlobalDataSettings:D}=(e=>{let{shouldConvertGlobalColors:t,whatToImport:n,contentClientId:o,isClassicTemplate:r}=e;const{parseVariableColor:i,setPalette:l,getPalette:a}=Object(_.useGlobalDataColors)(),{updateBlockAttributes:c}=Object(w.useDispatch)("core/block-editor"),{editEntityRecord:u}=Object(w.useDispatch)("core"),p=Object(s.useRef)(!1),b=Object(s.useRef)(!1),m="globalStyle.style.descendants.body",{globalStyle:h}=Object(_.useGlobalDataStyle)(),g=Object(s.useMemo)((()=>a()),[]),O=Object(s.useMemo)((()=>h.getStyle("",{},{styledComponent:"body",fromRoot:!0})),[h]),v=Object(s.useMemo)((()=>h.getStyle("",{},{styledComponent:"sectionSpacing",fromRoot:!0})),[h]),{getBlocks:y,pages:j,templateParts:E,templates:S,currentPostId:k}=Object(w.useSelect)((e=>{const{getBlocks:t}=e("core/block-editor"),{getEntityRecords:n}=e("core"),{getPage:o=f.a.noop}=e("kubio/edit-site")||{},r=o(),{postId:i}=(null==r?void 0:r.context)||{},l=e=>n("postType",e,{per_page:-1});return{currentPostId:i,getBlocks:t,pages:l("page"),templateParts:l("wp_template_part"),templates:l("wp_template").filter((e=>{let{slug:t}=e;return ii.includes(t)}))}})),C=Object(s.useCallback)((e=>{l(e)}),[l]),x=Object(s.useCallback)((e=>{h.setStyle("",e,{styledComponent:"body"})}),[h]),T=Object(s.useCallback)((e=>{h.setStyle("",e,{styledComponent:"sectionSpacing"})}),[h]),I=Object(s.useCallback)(((e,t)=>{const n=t.colors;return f.a.isEqual(n,g)||(e=Object(qe.removeThemeColorsFromBlocks)({blocks:e,colorPalette:n,parseVariableColor:i,generateColorVariants:_.generateColorVariants,shouldUpdateAttributes:!1})),e}),[g,C,i]),P=Object(s.useCallback)(((e,t)=>{const n=_i(t);let o=f.a.merge({},Oi,n);const r=t.colors;o=Object(qe.removeThemeColorsFromObject)(o,{colorPalette:r,parseVariableColor:i,generateColorVariants:_.generateColorVariants});const l=f.a.merge({},Oi,O);let a=Object(qe.getObjectDifference)(o,l);if(a=yi(a),f.a.isEmpty(a))return e;const c="typography.holders.lead";f.a.set(a,c,f.a.merge({},f.a.get(O,c),f.a.get(a,c))),f.a.each(f.a.get(a,"typography.holders"),((e,t)=>{f.a.isEmpty(e)||null==e||!e.family||null!=e&&e.weight||(e.weight=f.a.get(n,`typography.holders.${t}.weight`))}));const s=["kubio/header","kubio/footer","kubio/sidebar","core/post-content"],u="typography.holders.lead.color",p=f.a.get(a,u);return e.forEach((e=>{var t;const n=!!f.a.get(e,"attributes.kubio");if(s.includes(null==e?void 0:e.name)||!n)return;const o=`attributes.kubio.style.descendants.${null===(t=Object(d.getBlockDefaultElement)(null==e?void 0:e.name))||void 0===t?void 0:t.name}`;let r=f.a.get(e,o,{});const i=f.a.get(r,"typography.holders.p.color");i&&p&&(r=f.a.cloneDeep(r),f.a.set(r,u,i));const l=f.a.merge({},a,r);f.a.set(e,o,l)})),e}),[O,i,_.generateColorVariants]),R=Object(s.useCallback)((e=>{const t=e.colors;f.a.isEqual(t,g)||C(t)}),[g,C]),M=Object(s.useCallback)((e=>{const t=f.a.get(e,m,{}),n=f.a.merge({},Oi,t),o=f.a.merge({},Oi,O),r=yi(Object(qe.getObjectDifference)(n,o));f.a.isEmpty(r)||x(n)}),[O,m]),A=Object(s.useCallback)((e=>{const t=f.a.get(e,"globalStyle.style.descendants.sectionSpacing",{});f.a.isEqual(v,t)||T(t)}),[v,T]),N=Object(s.useCallback)((e=>{p.current||(p.current=!0,R(e),M(e),A(e))}),[R,M,A,p]),D=Object(s.useCallback)((function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=t.colors;let r=!1;const i=e.map((e=>{if(!f.a.get(e,"attributes.kubio"))return e;const{updatedBlock:i,hasUpdates:l}=(e=>{let{block:t,colorPalette:n}=e;n=f.a.cloneDeep(n);const o=f.a.cloneDeep(t);let r=!1;const i=Object(_.generateColorVariants)(n),l=e=>{if(!Array.isArray(e))return e;let t;return t=4===e.length?"rgba":"rgb",`${t}(${e.join(", ")})`};n.forEach((e=>{e.color=l(e.color)})),i.forEach((e=>{e.color=l(e.color)}));const a=e=>{const t=f.a.get(e,"attributes.kubio",{});f.a.eachDeep(t,((e,t,o)=>{if("string"==typeof e&&(e.startsWith("#")&&(e=zt()(e).toRgbString()),e.startsWith("rgb"))){const l=n=>{let{color:i,slug:l}=n;if(i===e){r=!0;const e=zt()(i);return o[t]=`rgba(var(--${l}),${e.getAlpha()})`,!0}return!1};n.find(l)||i.find(l)}}),{leavesOnly:!0});const{innerBlocks:o}=e;o.forEach((e=>{a(e)}))};return a(o),{updatedBlock:o,hasUpdates:r}})({block:e,colorPalette:o}),a=_i(t),{updatedBlock:s,hasUpdates:u}=(e=>{var t;let{block:n,generalBodyStyle:o}=e,r=!1;const i=`attributes.kubio.style.descendants.${null===(t=Object(d.getBlockDefaultElement)(null==n?void 0:n.name))||void 0===t?void 0:t.name}`,l=f.a.get(n,i,{}),a=f.a.merge({},Oi,o),c=yi(Object(qe.getObjectDifference)(l,a));return f.a.isEmpty(c)||f.a.isEqual(c,l)||(f.a.set(n,i,c),r=!0),{updatedBlock:n,hasUpdates:r}})({block:i,generalBodyStyle:a});return r=r||u||l,n&&(u||l)&&c(null==s?void 0:s.clientId,s.attributes),s}));return{blocks:i,blocksHaveChanges:r}}),[c]),L=Object(s.useCallback)((e=>{if(b.current=!0,n===ei)return;let t=[],i=[];r||(i=y(),["kubio/header","kubio/footer","kubio/sidebar"].forEach((e=>{const n=Object(qe.findBlockByName)(i,e);if(!n)return;const o=y(null==n?void 0:n.clientId);t=t.concat(o)})));const l=y(o),a=i.concat(t,l);D(a,e)}),[n,o,r,D]),z=(Object(s.useCallback)((e=>{j.concat(E,S).forEach((t=>{if(t.id===k)return;const n=f.a.get(t,"content.raw",""),o=Object(Ve.parse)(n);if(f.a.isEmpty(o))return;const{blocks:r,blocksHaveChanges:i}=D(o,e,!1);if(!i)return;const l={content:Object(Ve.serialize)(r)},{id:a,type:c}=t;u("postType",c,a,l)}))}),[D,j,E,S,k]),Object(s.useCallback)((e=>{b.current||L(e)}),[L])),B=Object(s.useCallback)(((e,t)=>{const n=f.a.get(t,"globalStyle.style.descendants.sectionSpacing",{});if(f.a.isEqual(v,n))return e;let o=Object(qe.getObjectDifference)(n,v);o=yi(o);const r=["kubio/section","kubio/navigation","kubio/hero","kubio/query-layout"];return e.forEach((e=>{var t;const n=!!f.a.get(e,"attributes.kubio");if(!r.includes(null==e?void 0:e.name)||!n)return;const i=`attributes.kubio.style.descendants.${null===(t=Object(d.getBlockDefaultElement)(null==e?void 0:e.name))||void 0===t?void 0:t.name}`,l=f.a.get(e,i,{}),a=f.a.merge({},o,l);f.a.set(e,i,a)})),e}),[v]);return{onProcessGlobalDataSettings:Object(s.useCallback)(((e,n)=>(t?(N(n),z(n)):(e=I(e,n),e=P(e,n),e=B(e,n)),e)),[I,P,B,z,t,N])}})({shouldConvertGlobalColors:l,whatToImport:i,contentClientId:c,isClassicTemplate:m}),L=Object(s.useCallback)(((e,t)=>(e=vi(e),e=D(e,t),Object(d.getBlocksWithNewRefs)(e))),[D]),z=Object(S.useDebounce)(Object(s.useCallback)((e=>{clearTimeout(A.current),Si(!0),A.current=setTimeout((()=>{Ar(e)}),100)}),[]),100);Object(s.useEffect)((()=>()=>{clearTimeout(A.current)}),[]);const B=Object(s.useCallback)((()=>{o(null),t(!1)}),[o,t]),{templatePartIsUsedOnMultipleTemplates:F,templatePartIsFoundOnPage:G,refreshPage:H,templateIsUsedOnMultiplePages:U}=Object(d.useTemplateData)("header"),{templatePartIsUsedOnMultipleTemplates:W,templatePartIsFoundOnPage:V}=Object(d.useTemplateData)("footer"),{templatePartIsUsedOnMultipleTemplates:K,templatePartIsFoundOnPage:$}=Object(d.useTemplateData)("sidebar"),Y=Object(s.useMemo)((()=>({header:F,footer:W,sidebar:K})),[F,W,K]),q=Object(s.useMemo)((()=>({header:G,footer:V,sidebar:$})),[G,V,$]),{getBlocks:X}=Object(w.useSelect)((e=>{const{getBlocks:t}=e("core/block-editor"),{getEntityRecords:n}=e("core");return{getBlocks:t,getEntityRecords:n}})),Q=Object(s.useCallback)((()=>{t(!0),a(),Si(!1)}),[t,a]),Z=Object(s.useCallback)((e=>{let{templatePartName:t,templateBlocks:n,newSlug:o,newTheme:r}=e;const i=Object(qe.findBlockByName)(n,t);i&&(i.attributes.slug=o,i.attributes.theme=r)}),[qe.findBlockByName]),J=Object(s.useCallback)((async(e,t,n)=>{var o;const r=X(),i=Ei[t],l=Object(qe.findBlockByName)(r,i),a=null==l?void 0:l.clientId;if(!a)return;await C(a,e);const c=null==l||null===(o=l.attributes)||void 0===o?void 0:o.slug;Z({templateBlocks:n,templatePartName:i,newSlug:c,newTheme:O})}),[O,qe.findBlockByName,Z,X,L]),ee=Object(s.useCallback)((async(e,t,n)=>{const o=`${y} ${t}`,r={title:o,slug:o,area:t,kubio_template_source:"kubio-custom",content:Object(Ve.serialize)(e)},i=await j("postType","wp_template_part",r),l=Ei[t],a=null==i?void 0:i.slug,c=null==i?void 0:i.theme;a&&c&&Z({templateBlocks:n,templatePartName:l,newSlug:a,newTheme:c})}),[y,j,Z]),te=Object(s.useCallback)((async e=>{const{title:t,slug:n,assignTemplateToPage:o}=(e=>{let{isFrontPageClassic:t,isClassicTemplate:n,classicTemplateSlug:o,postType:r,currentPostTitle:i}=e,l="page"===r,a=`${i} template`,c=a;const s=oi,u="search"===o,d="404"===o,p=n&&ri.includes(o),b=n&&s.includes(o);return t?(a="Front page",c="front-page",l=!1):p?(a="Index",c="index",l=!1):b?(a="Single Post",c="single",l=!1):u?(a="Search",c="search",l=!1):d?(a="404",c="404",l=!1):r&&(c=`${r}-${c}`),{title:a,slug:c,assignTemplateToPage:l}})({isFrontPageClassic:g,isClassicTemplate:m,classicTemplateSlug:M,postType:p,currentPostTitle:y}),r={title:t,slug:n,kubio_template_source:o?"kubio-custom":"kubio",content:Object(Ve.serialize)(e)},i=await j("postType","wp_template",r);return o&&await E("postType",p,b,{template:null==i?void 0:i.slug}),N(!0),await H(i),i}),[y,N,m,p,b,j,E,H]),ne=Object(s.useCallback)((async e=>{let{templateBlocks:t,templateParts:n,globalData:o}=e;const r=X(),i={};if(ji.forEach((e=>{const t=Ei[e];i[e]=Object(qe.findBlockByName)(r,t)})),await Promise.all(n.map((async e=>{var n;let{area:r,content:l}=e;const a=L(Object(Ve.parse)(l),o),c=null===(n=i[r])||void 0===n?void 0:n.clientId;c?await C(c,a):await ee(a,r,t)}))),!f.a.isEmpty(n)){const e=Object.values(i),o=n.map((e=>{let{area:t}=e;return Ei[t]}));e.forEach((e=>{var n;if(!e)return;const r=null==e?void 0:e.name;if(!o.includes(r))return;const i=null==e||null===(n=e.attributes)||void 0===n?void 0:n.slug;Z({templateBlocks:t,templatePartName:r,newSlug:i,newTheme:O})}))}m?await te(t):await T(t),z()}),[O,Q,X,xr,Z,T,B,z,m,te]),oe=Object(s.useCallback)((async e=>{let{templateBlocks:t,templateParts:n,globalData:o}=e;await Promise.all(n.map((async e=>{let{area:n,content:r}=e;const i=L(Object(Ve.parse)(r),o);Y[n]||!q[n]?await ee(i,n,t):await J(i,n,t)}))),await T(t)}),[q,Y,ee,J,L]),re=Object(s.useCallback)((async e=>{let{templateBlocks:t,templateParts:n,globalData:o}=e;await Promise.all(n.map((async e=>{let{area:n,content:r}=e;const i=L(Object(Ve.parse)(r),o);await ee(i,n,t)}))),await te(t)}),[te,L]),ie=Object(s.useCallback)((async e=>{let{templateBlocks:t,templateParts:n,globalData:o}=e;U||m?await re({templateBlocks:t,templateParts:n,globalData:o}):await oe({templateBlocks:t,templateParts:n,globalData:o}),N(!0),z()}),[U,Q,xr,B,C,z,m,N]),le=Object(s.useCallback)((async e=>{let{templateBlocks:t,templateParts:n,globalData:o}=e,i=r;p&&"page"!==p&&!m&&(i=ni);const l=ni===i;ti===i&&await ie({templateBlocks:t,templateParts:n,globalData:o}),l&&await oe({templateBlocks:t,templateParts:n,globalData:o})}),[m,p,r,oe,ie]),ae=Object(s.useCallback)((async e=>{let{templateBlocks:t,templateParts:n,globalData:o}=e;const r=X(),i=t[1];let l,a;r.forEach(((e,t)=>{("kubio/header"===e.name||"core/template-part"===e.name&&"header"===(null==e?void 0:e.area))&&(l=t),("kubio/footer"===e.name||"core/template-part"===e.name&&"footer"===(null==e?void 0:e.area))&&(a=t)}));let c=[];c=c.concat(r.slice(0,l+1)),c.push(i),c=c.concat(r.slice(a));const s=n.filter((e=>{let{area:t}=e;return!["footer","header"].includes(t)}));ne({templateBlocks:c,templateParts:s,globalData:o}),z()}),[X,z,L,ne]),ce=Object(s.useCallback)((async e=>{let t=i===Jr;m&&(t=!1),Q();const{template:n,templateParts:o,globalData:r}=await xr(e);if(!n)return void B();const l=L(Object(Ve.parse)(n),r);t?await ae({templateBlocks:l,templateParts:o,globalData:r}):await le({templateBlocks:l,templateParts:o,globalData:r})}),[L,xr,Q,B,ae,le,i]),se=Object(s.useCallback)((async e=>{let{pageBlocks:t,globalData:n}=e;const o=f.a.get(t,[0,"clientId"]);await k(t,u,c,!1),z(o)}),[I,Q,Cr,k,B,c,L]),ue=Object(s.useCallback)((async e=>{let{pageBlocks:t,pageId:n}=e;m&&await T([]),await C(c,t);const o=(r=n,f.a.get(kr,["demoPartsContentById","pages",r]));var r;const i=null==o?void 0:o.templateId;await ce(i),z()}),[P,m,c,C,z,ce,L]),de=Object(s.useCallback)((async e=>{const t=i===Jr,n=i===ei;Q();const{page:o,globalData:r}=await Cr(e);if(!o)return void B();const l=L(Object(Ve.parse)(o),r);t&&await se({pageBlocks:l,globalData:r,pageId:e}),n&&await ue({pageBlocks:l,globalData:r,pageId:e})}),[i,se,ue,Cr,L]),pe=Object(s.useCallback)((async()=>{if(!n||e)return;const t="page"===(null==n?void 0:n.type),o="template"===(null==n?void 0:n.type),r=null==n?void 0:n.id;if(r)try{t&&await de(r),o&&await ce(r)}catch(e){console.error(e),R(Object(x.__)("Could not import content. Please try again later","kubio"))}}),[n,de,ce,e,R]);return Object(s.useEffect)((()=>{pe()}),[n]),Object(s.createElement)(s.Fragment,null)})),wi=Object(s.memo)((()=>{const{categoriesList:e=[],selectedCategory:t,setSelectedCategory:n,nrOfItemsPerCategory:o}=Object(s.useContext)(fr),[r,i]=Object(s.useState)(t),l=Object(s.useCallback)((e=>{e!==t&&(i(e),n(e))}),[n,t,i]);return Object(s.useEffect)((()=>{r!==t&&i(t)}),[t]),Object(s.createElement)("div",{className:"kubio-predefined-layouts__category-list",onClick:e=>e.stopPropagation()},Object(s.createElement)("div",{className:"kubio-predefined-layouts__category-list__title"},"CATEGORIES"),e.map((e=>{let{label:t,value:n}=e;return Object(s.createElement)(E.Button,{key:n,onClick:()=>l(n),className:P()("kubio-predefined-layouts__category-list__item",{"kubio-predefined-layouts__category-list__item--active":n===r})},t,Object(s.createElement)("span",null,o[n]))})))})),Ci=Object(s.memo)((e=>{let{type:t,id:n}=e;const{favoritesDataByType:o,onAddToFavorites:r}=Vr(),i=Object(s.useMemo)((()=>f.a.get(o,[t,n],!1)),[o]),[l,a]=Object(s.useState)(i);Object(s.useEffect)((()=>{i!==l&&a(i)}),[i]);const c=Object(s.useMemo)((()=>l?"font-awesome/heart":"font-awesome/heart-o"),[l]),u=Object(s.useCallback)((e=>{e.stopPropagation();const o=!l;a(o),r(t,n,o)}),[l,r,a]);return Object(s.createElement)(Ye.CanvasIcon,{onClick:u,className:"kubio-predefined-layouts__favorite-button",name:c})})),xi=Object(s.memo)((e=>{let{fontsToLoad:t}=e;const n=Object(s.useCallback)((e=>{e.target.rel="stylesheet"}),[t]);return Array.isArray(t)?Object(s.createElement)(s.Fragment,null,t.map((e=>Object(s.createElement)("link",{href:`https://fonts.googleapis.com/css?family=${e}&display=swap`,key:e,rel:"preload",as:"style",onLoad:n})))):Object(s.createElement)(s.Fragment,null)})),Ti=Object(s.memo)((()=>Object(s.createElement)("div",{className:"kubio-predefined-layouts__img__placeholder"}))),Ii=e=>{let{src:t,uniqueId:n,showAnimationAtLoad:o,addImageType:r=!0,onLoad:i=f.a.noop,...l}=e;const[a,c]=Object(s.useState)(!0),u=Object(s.useRef)(),d=Object(s.useRef)(),p=Object(s.useRef)(!1),b=Object(s.useRef)(),m=Object(s.useRef)(!1),h=Object(s.useRef)(!1);Object(s.useEffect)((()=>{a||c(!0)}),[t]);const g=Object(s.useCallback)((()=>{var e,t;const n=u.current;if(!n)return;const o=parseInt((null===(e=d.current)||void 0===e?void 0:e.naturalWidth)||0),r=parseInt((null===(t=d.current)||void 0===t?void 0:t.naturalHeight)||0),i=n.parentNode;let l=!1;if(0!==o&&0!==r){const e=(r+10)/o;l=parseInt(i.clientHeight)/parseInt(i.clientWidth)>e}const a=l?"landscape":"portrait";i.setAttribute("data-type",a)}),[u,d]),O=Object(s.useCallback)((()=>{h.current=!0;const e=u.current;e&&(e.src=t,e.setAttribute("data-is-loaded",""),c(!1),p.current&&i(),r&&g())}),[t,c,r,g]),v=Object(s.useMemo)((()=>{if(t.startsWith("data:image/"))return!0;h.current=!1,m.current=!1;const e=new Image;return d.current=e,clearTimeout(m.current),b.current=setTimeout((()=>{m.current=!0,h.current||e.complete&&O()}),350),e.onload=()=>{m.current&&O()},e.src=t,e.complete}),[t]);return Object(s.useEffect)((()=>()=>{clearTimeout(m.current)}),[]),Object(s.useLayoutEffect)((()=>{var e;null!==(e=d.current)&&void 0!==e&&e.complete&&g()}),[]),Object(s.createElement)("div",Object(T.a)({className:P()("kubio-predefined-layouts__img__outer",{"kubio-predefined-layouts__img__outer--with-placeholder":!v&&a})},l),Object(s.createElement)("img",{className:P()("kubio-predefined-layouts__img",{"kubio-predefined-layouts__img--with-animation":!v}),ref:u,src:t,onLoad:()=>{a||(p.current=!0,i())}}),!v&&a&&Object(s.createElement)(Ti,null))},Pi=Object(s.memo)((e=>{let{list:t,children:n=f.a.noop}=e;return Object(s.createElement)("div",{className:"kubio-predefined-layouts__screenshot-list"},t.map((e=>n(e))))})),Ri=Object(s.memo)(Object(s.forwardRef)(((e,t)=>{let{screenshot:n,screenshotFull:o,label:r="",isPack:i=!1,labelSlot:l,showFull:a=!1,uniqueId:c,isPro:u=!1,showFavorite:d=!0,isLandscape:p=!1,showLabel:b=!0,addUniquePreviewAttribute:m=!0,showAnimationAtLoad:h,onClick:f,onLoad:g,favoriteType:O,favoriteId:v,children:_,addImageType:y,...j}=e;const E=a?o:n;c=c||E;const S=Object(s.useMemo)((()=>Math.random()),[c]),k=u;let w={};return m&&(w={"data-unique-id":c}),Object(s.createElement)("div",Object(T.a)({key:S,className:"kubio-predefined-layouts__screenshot-preview__outer"},w,j),Object(s.createElement)("div",{ref:t,className:P()("kubio-predefined-layouts__screenshot-preview__parent",{"kubio-predefined-layouts__screenshot-preview__parent--with-pack":i,"kubio-predefined-layouts__screenshot-preview__parent--is-landscape":p})},Object(s.createElement)("div",{className:"kubio-predefined-layouts__screenshot-preview kubio-pro-item--small"},Object(s.createElement)(Ii,{src:E,uniqueId:c,showAnimationAtLoad:h,onClick:f,onLoad:g,addImageType:y})),b&&Object(s.createElement)("div",{className:"kubio-predefined-layouts__screenshot-preview__label"},Object(s.createElement)("div",{className:"kubio-predefined-layouts__screenshot-preview__label__with-badge"},k&&Object(s.createElement)("span",{className:"kubio-pro-item__badge"},"PRO"),r),d&&Object(s.createElement)(Ci,{type:O,id:v}),l),_),i&&Object(s.createElement)("div",{className:"kubio-predefined-layouts__screenshot-preview__pack"},Object(s.createElement)("div",{className:"kubio-predefined-layouts__screenshot-preview__pack__layer kubio-predefined-layouts__screenshot-preview__pack--layer-1"}),Object(s.createElement)("div",{className:"kubio-predefined-layouts__screenshot-preview__pack__layer kubio-predefined-layouts__screenshot-preview__pack--layer-2"})))})));var Mi=n(222);const Ai=Object(s.memo)((e=>{let{placeholder:t="Search"}=e;const{searchString:n,setSearchString:o}=Object(s.useContext)(hr),[r,i]=Object(s.useState)(n),l=Object(d.useDebounce)(o,300),a=Object(s.useCallback)((e=>{const t=e.target.value;i(t),l(t)}),[i,l]);return Object(s.useEffect)((()=>{r!==n&&i(n)}),[n]),Object(s.createElement)(Ye.InputControl,{className:"kubio-predefined-layouts__search-input",value:r,onInput:a,placeholder:t,suffix:Object(s.createElement)(E.Icon,{icon:Mi.a})})})),Ni=Object(s.memo)((e=>{let{label:t=Object(x.__)("PRO","kubio"),className:n}=e;return Object(s.createElement)("div",{className:P()("kubio-predefined-layouts__free-pro-separator",n)},t,Object(s.createElement)("div",{className:"kubio-predefined-layouts__free-pro-separator__line"}))}));Object(x.__)("ALL","kubio"),Object(x.__)("FREE","kubio"),Object(x.__)("PRO","kubio");var Di=n(122);const Li=Object(s.memo)((e=>{const[t,n]=Object(s.useState)(!1),[o,r]=Object(s.useState)(Math.random());return Object(s.useEffect)((()=>{n(!0)}),[]),Object(d.useEffectDeep)((()=>{r(Math.random)}),[e.list]),Object(s.createElement)("div",{className:"kubio-predefined-layouts__virtual-grid"},t&&Object(s.createElement)(zi,Object(T.a)({key:o},e)))})),zi=Object(s.memo)((e=>{var t;let{list:n,onSelect:o,ListItemComponent:r}=e;const i=Object(s.useRef)(),[l,a]=Object(s.useState)(Math.random()),[c,u]=Object(s.useState)(Bi()),p=Object(s.useMemo)((()=>{const e=c;let t=0,o=0;const r=[];return n.forEach((n=>{0===t&&(r[o]=[]),r[o][t]=n,t===e-1?(t=0,o++):t++})),r}),[n,c,l]),b=Object(s.useCallback)((e=>{let{columnIndex:t,key:n,rowIndex:i,style:l}=e;const a=p[i][t];return a?Object(s.createElement)("div",{key:n,style:l},Object(s.createElement)(r,{key:a.uniqueId,value:a,onSelect:o})):Object(s.createElement)(s.Fragment,null)}),[p,l]),m=Object(s.useMemo)((()=>{const e=document.querySelector(".kubio-predefined-layouts__modal-layout__list");if(!e)return null;const t=window.getComputedStyle(e),n=parseInt(t.paddingLeft)+parseInt(t.paddingRight),o=parseInt(t.paddingTop)+parseInt(t.paddingBottom),r=e.clientWidth-n,i=e.clientHeight-o-5,l=r/c;return{containerWidth:r,containerHeight:i,columnWidth:l,columnHeight:l}}),[c,l]),h=null===(t=f.a.get(p,"0",[]))||void 0===t?void 0:t.length,g=Object(s.useCallback)((()=>{const e=Bi();e!==c&&u(e),a(Math.random())}),[c,u,a]),O=Object(d.useDebounce)(g,50);return Object(s.useEffect)((()=>(window.addEventListener("resize",O),()=>{window.removeEventListener("resize",O)})),[O]),Object(s.createElement)("div",{ref:i,className:"kubio-predefined-layouts__virtual-grid__inner"},m&&Object(s.createElement)(Di.a,{key:l,cellRenderer:b,columnCount:h,columnWidth:m.columnWidth,rowCount:p.length,rowHeight:m.columnHeight,height:m.containerHeight,width:m.containerWidth}))})),Bi=()=>{const e=document.querySelector(".kubio-predefined-layouts__virtual-grid");if(e)return parseInt(getComputedStyle(e).getPropertyValue("--number-columns"))},Fi=e=>e.preventDefault(),Gi=Object(s.memo)((e=>{let{title:t,onClose:n=f.a.noop,className:o,children:r,...i}=e;const l=Object(s.useRef)(),a=Object(s.useMemo)((()=>document.querySelector(".kubio-predefined-layouts__popup-slot")),[]),c=Object(s.useCallback)((e=>{var t;null!=e&&null!==(t=e.target)&&void 0!==t&&t.closest(".kubio-predefined-layouts__inner-modal")||n()}),[n]);return Object(d.useOnClickOutside)(l,c),Object(s.createPortal)(Object(s.createElement)("div",Object(T.a)({className:P()("kubio-predefined-layouts__inner-modal__overlay",o),onClick:Fi,onMouseDown:Fi},i),Object(s.createElement)("div",{className:"kubio-predefined-layouts__inner-modal",ref:l},Object(s.createElement)("div",{className:" components-modal__content"},Object(s.createElement)("div",{className:"components-modal__header"},Object(s.createElement)("div",{className:"components-modal__header-heading-container"},Object(s.createElement)("h1",{className:"components-modal__header-heading"},t)),Object(s.createElement)(E.Button,{onClick:n,icon:L.a,label:Object(x.__)("Close dialog","kubio")})),r))),a)})),Hi=Object(s.memo)((()=>Object(s.createElement)("div",{className:"kubio-predefined-layouts__loading-overlay"},Object(s.createElement)(E.Icon,{icon:we.KubioLoader}),";"))),Ui=Object(s.memo)((e=>{let{searchPlaceholder:t=Object(x.__)("Find a starter site…","kubio")}=e;return Object(s.createElement)(Ul.Sidebar,null,Object(s.createElement)(Ul.Sidebar.Header,null),Object(s.createElement)(Ul.Sidebar.Content,null,Object(s.createElement)(Rl.Slot,null),Object(s.createElement)(Ai,{placeholder:t}),Object(s.createElement)(wi,null)))})),Wi=Object(s.memo)((e=>{let{value:t={},onSelect:n}=e;const{screenshot:o,isPro:r,label:i,slug:l,uniqueId:a,relatedDemoSite:c}=t,u=Object(s.useMemo)((()=>!r&&c?null==c?void 0:c.screenshot:o),[a,r,o,c]);return Object(s.createElement)(Ri,{screenshot:u,label:i,isPack:!0,uniqueId:a,isPro:r,onClick:()=>{n(t)},favoriteType:"demoSite",favoriteId:l})}));var Vi=n(266),Ki=n.n(Vi);const $i=Object(s.memo)((e=>{let{list:t,onSelect:n}=e;const o=Object(s.useRef)(),[r,i]=Object(s.useState)(1),l=Object(s.useMemo)((()=>{let e=20*r;return e=Math.min(t.length,e),t.slice(0,e)}),[r,t]),a=Object(s.useCallback)((()=>{const e=r+1;20*e-20>t.length||i(e)}),[i,r,t]),c=Object(d.useDebounce)(a,100),u=Object(s.useMemo)((()=>t.length!==l.length),[l,t]);return Object(s.createElement)("div",{className:"kubio-predefined-layouts__screenshot-list kubio-predefined-layouts__screenshot-list--infinite-list",ref:o},Object(s.createElement)(Ki.a,{pageStart:0,initialLoad:!1,useWindow:!1,loadMore:c,hasMore:u,threshold:2e3,loader:Object(s.createElement)("div",{className:"loader",key:0})},l.map(((e,t)=>Object(s.createElement)(Wi,{key:e.slug+"__"+t,value:e,onSelect:n})))))})),Yi=()=>{const{onSelectDemo:e}=Gr(),{list:t}=vr(),n=Object(s.useCallback)((t=>{e(null==t?void 0:t.slug)}),[e]);return Object(s.createElement)(Ul.Page.Content,null,Object(s.createElement)($i,{list:t,onSelect:n}))},qi=Object(s.memo)((()=>{const{currentDemoSite:e}=Gr();return Object(s.createElement)(Ul.Sidebar,{className:"kubio-predefined-layouts__preview-page__sidebar"},Object(s.createElement)(Ul.Sidebar.Header,null,Object(x.__)("Import Starter Site","kubio")),Object(s.createElement)(Ul.Sidebar.Content,null,Object(s.createElement)(Ri,Object(T.a)({showAnimationAtLoad:!0},e,{showFavorite:!1,showLabel:!1}))),Object(s.createElement)(Ul.Sidebar.Footer,null,Object(s.createElement)("div",{className:"d-flex justify-content-end align-items-center"},Object(s.createElement)("a",{href:null==e?void 0:e.preview,target:"_blank",rel:"noreferrer"},Object(x.__)("Preview starter site","kubio")))))})),Xi={ACTIVE:Object(x.__)("Active","kubio"),INSTALLED:Object(x.__)("Installed","kubio"),NOT_INSTALLED:Object(x.__)("Not installed","kubio")},Qi=f.a.get(window,["kubioUtilsData","plugins_states"],{}),Zi=Object(s.memo)((()=>{const{currentDemoSite:e}=Gr(),t=Object(s.useMemo)((()=>{const t=f.a.get(e,"plugins",[]);return Array.isArray(t)?t.map((e=>{const t=f.a.get(Qi,null==e?void 0:e.slug),n=f.a.get(Xi,t);return{...e,statusLabel:n}})):[]}),[e]);return Object(s.createElement)(s.Fragment,null,t.map((e=>{let{slug:t,label:n,statusLabel:o}=e;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("li",{key:t,className:"kubio-predefined-layouts__demo-site-import-page__plugin"},Object(s.createElement)("div",{className:"d-flex justify-content-between"},Object(s.createElement)("span",{className:"d-flex align-items-center"},n),Object(s.createElement)("span",{className:"kubio-predefined-layouts__demo-site-import-page__plugin__status"},o))),Object(s.createElement)("hr",null))})))})),Ji=Object(s.memo)((()=>{const{currentDemoSite:e}=Gr(),t=!f.a.isEmpty(null==e?void 0:e.plugins);return Object(s.createElement)("div",{className:"kubio-predefined-layouts__demo-site-import-page__import-panel"},Object(s.createElement)("div",null,Object(s.createElement)("div",{className:"kubio-predefined-layouts__demo-site-import-page__import-panel__title"},Object(x.__)("You are about to import a demo site","kubio")),Object(s.createElement)("ul",null,Object(s.createElement)("li",null,Object(x.__)("Current pages will be moved to trash. You can restore the content back at any time.","kubio")),Object(s.createElement)("li",null,Object(x.__)("Posts, pages, images, widgets, menus and other theme settings will get imported.","kubio")),Object(s.createElement)("li",{className:"text-danger"},Object(x.__)("Your current design will be completely overwritten by the new template. This process is irreversible. If you wish to be able to go back to the current design,please create a backup of your site before proceedingwith the import.","kubio")))),t&&Object(s.createElement)("div",null,Object(s.createElement)("div",{className:"kubio-predefined-layouts__demo-site-import-page__import-panel__title"},Object(x.__)("The following plugins will be installed as they are part of the demo","kubio")),Object(s.createElement)("ul",{className:"kubio-predefined-layouts__demo-site-import-page__plugins-list"},Object(s.createElement)(Zi,null))))})),el=Object(s.memo)((()=>{const{currentDemoSite:e}=Gr(),t=null==e?void 0:e.label;return Object(s.createElement)(Ul.Page.Content,null,Object(s.createElement)(Ul.Page.Content.Title,null,Object(s.createElement)("span",{className:"kubio-predefined-layouts__preview-page__content__title__name"},t)),Object(s.createElement)(Ji,null))})),tl=Object(s.memo)((()=>{const{currentDemoSite:e,setShowDemoSiteImportPage:t}=Gr(),{baseUrl:n}=Object(w.useSelect)((e=>{const{url:t}=e("core").getEntityRecord("root","site")||{};return{baseUrl:t}}),[]),o=Object(d.useUnloadStoreEntities)(),r=Object(d.useResetUndoStack)(),i=Object(s.useCallback)((()=>{o(),r()}),[o,r]),l=Object(s.useMemo)((()=>!0),[])&&(null==e?void 0:e.isPro)?Bt.ProItem:E.Button,a=Object(s.useCallback)((()=>{t(!1)}),[t]),c=Object(s.useCallback)((async()=>{if(!(null==e?void 0:e.slug))return;const t=new URL(`${n}/wp-admin/admin.php`),o=t.searchParams;o.set("page","kubio-get-started"),o.set("tab","demo-sites"),o.set("import",null==e?void 0:e.slug);const r=t.toString();i(),document.location.href=r}),[e]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ul.Page.Footer,null,Object(s.createElement)("div",{className:" d-flex w-100 justify-content-end align-items-center"},Object(s.createElement)(E.Button,{isSecondary:!0,onClick:a},Object(x.__)("Cancel","kubio")),Object(s.createElement)(l,{tag:E.Button,isPrimary:!0,urlArgs:{source:"templates_gallery",content:null==e?void 0:e.label},onClick:c},Object(x.__)("Import full starter site","kubio")))))})),nl=Object(s.memo)((e=>Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ul,Object(T.a)({},e,{className:"kubio-predefined-layouts__demo-site-import-page",sidebar:Object(s.createElement)(qi,null),pageContent:Object(s.createElement)(el,null),pageFooter:Object(s.createElement)(tl,null)}))))),ol=Object(s.memo)((e=>{const{selectedDemoSlug:t,showDemoSiteImportPage:n}=Gr(),{list:o}=vr();return Object(s.createElement)(s.Fragment,null,t&&Object(s.createElement)(Ka,e),n&&Object(s.createElement)(nl,null),Object(s.createElement)(Ul,Object(T.a)({},e,{className:"kubio-predefined-layouts__demo-list-page",items:o,sidebar:Object(s.createElement)(Ui,null),pageContent:Object(s.createElement)(Yi,null),emptyContent:Object(x.__)("No Starter Site Found","kubio")})))})),rl=Object(s.memo)((e=>{let{children:t}=e;const{rawDemoList:n}=Gr(),{favoritesDataByType:o}=Yr(),r=Object(s.useMemo)((()=>null===o?n:f.a.isEmpty(o)?[]:n.filter((e=>!!f.a.get(o,["demoSite",null==e?void 0:e.slug])))),[n,o]),i=Object(s.useMemo)((()=>{const e=f.a.cloneDeep(r),t=[];return e.forEach((e=>{const{isPro:n,relatedDemoSite:o}=e;o?!n&&t.push(e):t.push(e)})),t}),[r]),l=Object(s.useMemo)((()=>({list:i})),[i]);return Object(s.createElement)(br.Provider,{value:l},t)})),il=Object(s.memo)((e=>Object(s.createElement)(Fr,null,Object(s.createElement)(rl,null,Object(s.createElement)(gr,null,Object(s.createElement)(ol,e)))))),ll=Object(s.memo)((e=>{let{value:t={},onSelect:n}=e;const{screenshot:o,isPro:r,label:i,slug:l,uniqueId:a,demoSiteSlug:c,id:u,type:d}=t,p=Object(s.useMemo)((()=>{const e=(e=>f.a.get(kr,["demoSitesListBySlug",e]))(c);return`STARTER SITE: ${null==e?void 0:e.label}`}),[c]),b=Object(s.useMemo)((()=>({favoriteType:`demo-${d}`,favoriteId:u})),[d,u]);return Object(s.createElement)("div",{className:"kubio-predefined-layouts__demo-part-list-page__item",onClick:()=>{n(t)}},Object(s.createElement)(Ri,Object(T.a)({screenshot:o,label:i,uniqueId:a,isPro:r},b)),Object(s.createElement)("div",{className:"kubio-predefined-layouts__demo-part-list-page__item__pack-label",onClick:e=>e.stopPropagation()},p))})),al=Object(s.memo)((e=>{let{list:t,onSelect:n}=e;return Object(s.createElement)(Li,{list:t,onSelect:n,ListItemComponent:ll})})),cl=()=>{const{onSelectDemo:e}=Gr(),{list:t}=vr(),n=Object(s.useCallback)((t=>{e(null==t?void 0:t.demoSiteSlug,t)}),[e]);return Object(s.createElement)(Ul.Page.Content,null,Object(s.createElement)(al,{list:t,onSelect:n}))},sl=Object(s.memo)((e=>{const{selectedDemoSlug:t,showDemoSiteImportPage:n,demoPartsIsLoaded:o}=Gr(),{list:r}=vr();return Object(s.createElement)(s.Fragment,null,t&&Object(s.createElement)(Ka,e),n&&Object(s.createElement)(nl,null),Object(s.createElement)(Ul,Object(T.a)({},e,{className:"kubio-predefined-layouts__demo-part-list-page",isLoading:!o,items:r,sidebar:Object(s.createElement)(Ui,{searchPlaceholder:Object(x.__)("Find a page…","kubio")}),pageContent:Object(s.createElement)(cl,null),emptyContent:Object(x.__)("No Page Found","kubio")})))})),ul=Object(s.memo)((e=>{let{children:t}=e;const{rawDemoList:n,demosPartsPerSlug:o}=Gr(),{favoritesDataByType:r}=Yr(),i=Object(s.useMemo)((()=>{let e=[];return n.forEach((t=>{let{slug:n,isPro:r,relatedDemoSite:i}=t;if(i){if(r)return;const t=n,l=null==i?void 0:i.slug,a=f.a.get(o,t,[]),c=f.a.get(o,l,[]);e=e.concat(a,c)}else{const t=f.a.get(o,n,[]);e=e.concat(t)}})),e}),[n,o]),l=Object(s.useMemo)((()=>null===r?i:f.a.isEmpty(r)?[]:i.filter((e=>{const{type:t,id:n}=e,o=[`demo-${t}`,n];return!!f.a.get(r,o)}))),[i,r]),a=Object(s.useMemo)((()=>({list:l})),[l]);return Object(s.createElement)(br.Provider,{value:a},t)})),dl=Object(s.memo)((e=>Object(s.createElement)(Fr,null,Object(s.createElement)(ul,null,Object(s.createElement)(gr,null,Object(s.createElement)(sl,e)))))),pl=Object(s.memo)((e=>{let{value:t={},onSelect:n,onLoad:o}=e;const{screenshot:r,isProOnFree:i,label:l,name:a,categoryLabel:c}=t,u=Object(s.useRef)(),d=i,p=d?Bt.ProItem:Ri;let b={};return d&&(b={urlArgs:{source:"templates_gallery",content:l}}),Object(s.createElement)(Bt.ProModalTextContext.Provider,{value:Object(x.__)("This section is available only in the PRO version.","kubio")},Object(s.createElement)(p,Object(T.a)({tag:Ri,ref:u,screenshot:r,label:c,uniqueId:a,isPro:i,isLandscape:!0,onClick:()=>n(t),favoriteType:"section",favoriteId:a,onLoad:o,addImageType:!1},b)))})),bl=Object(s.memo)((e=>{let{list:t,onSelect:n}=e;const o=Object(s.useRef)(),[r,i]=Object(s.useState)(1),l=Object(s.useMemo)((()=>{let e=40*r;return e=Math.min(t.length,e),t.slice(0,e).map(((e,t)=>({...e,__internalId:t})))}),[r,t]),a=Object(s.useCallback)((()=>{i((e=>{const n=e+1;return 40*n-40>t.length?e:n}))}),[t]),c=Object(d.useDebounce)(a,100),u=Object(s.useMemo)((()=>t.length!==l.length),[l,t]),{onRestartMasonry:p}=(e=>{let{containerRef:t}=e;const n=Object(s.useRef)({}),o=Object(s.useRef)({}),r=Object(s.useRef)(0),i="data-masonry-loaded",l=Object(s.useCallback)((()=>{const e=t.current.children[0],l=o.current,a=n.current,c=r.current,s=Array.from(e.children).filter((e=>!e.hasAttribute(i))),u=t.current,d=e.offsetHeight;e.style.paddingTop=`${d}px`;const p=e.clientWidth,{getComputedStyle:b}=u.ownerDocument.defaultView,m=parseInt(b(u).getPropertyValue("--number-columns")),h=p/m;s.forEach(((e,t)=>{const n=c+t,o=Math.floor(n/m);void 0===a[o]&&(a[o]=0);const r=0!==o?a[o-1]:0,l=e.offsetHeight+r;if(l>a[o]&&(a[o]=l),n>=m){const t=a[o-1];e.style.top=`${t}px`}else e.style.top=0;const s=n%m*h;e.style.left=`${s}px`,e.style.width=`${h}px`,e.style.position="absolute",e.setAttribute(i,!0)})),s.forEach(((e,t)=>{const n=c+t,o=e.querySelector(".kubio-predefined-layouts__screenshot-preview__parent");if(n>=m){const t=l[n-m];e.style.top=`${t}px`,l[n]=t+o.offsetHeight+30}else l[n]=o.offsetHeight+30,e.style.top=0}));let f=0;for(let e=0;e<m;e++){const t=s[s.length-1-e];if(!t)continue;const n=t.offsetHeight+parseFloat(t.style.top);f<n&&(f=n)}r.current+=s.length,e.style.paddingTop=`${f}px`}),[t]),a=Object(s.useCallback)((()=>{n.current={},o.current={},r.current=0;const e=t.current.children[0];e.style.paddingTop="0",Array.from(e.children).forEach((e=>{e.hasAttribute(i)&&e.removeAttribute(i),e.style.left="",e.style.top="",e.style.width="",e.style.position=""})),l()}),[t,l]),c=Object(d.useDebounce)(a,50);return Object(s.useEffect)((()=>(window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)})),[c]),{onRestartMasonry:l}})({containerRef:o}),b=Object(d.useDebounce)(Object(s.useCallback)(p,[]),500);return Object(s.createElement)("div",{className:"kubio-predefined-layouts__screenshot-list kubio-predefined-layouts__screenshot-list--infinite-list",ref:o},Object(s.createElement)(Ki.a,{pageStart:0,initialLoad:!1,useWindow:!1,loadMore:c,hasMore:u,threshold:2e3,loader:Object(s.createElement)(s.Fragment,null)},l.map(((e,t)=>Object(s.createElement)(pl,{onLoad:b,key:e.name+"__"+t,value:e,index:t,onSelect:n})))))})),ml=()=>{const{list:e}=vr(),{insertBlocks:t}=Object(w.useDispatch)("core/block-editor"),{contentClientId:n,nrOfBlocksInsideContent:o,patternCategories:r,sectionNameAndIdHooks:i}=Object(w.useSelect)((e=>{var t;const{getBlocks:n,getBlockOrder:o,getClientIdsWithDescendants:r,getBlock:i}=e("core/block-editor"),{__experimentalBlockPatternCategories:l}=e("core/block-editor").getSettings(),a=n()||[],c=Object(qe.findBlockByName)(a,"core/post-content"),s=null==c?void 0:c.clientId;return{patternCategories:l,contentClientId:s,nrOfBlocksInsideContent:null===(t=o(s))||void 0===t?void 0:t.length,sectionNameAndIdHooks:{getClientIdsWithDescendants:r,getBlock:i}}}),[]),{onClose:l=f.a.noop}=bi(),a=Object(s.useCallback)((async e=>{var a;const c=null==e?void 0:e.content;let s=Object(qe.transformTemplateToBlock)(c);s=function(e){var t,n,o;let{block:r,pattern:i,patternCategories:l,hooks:a}=e;const{categories:c}=i,s=null!==(t=null==c?void 0:c[0])&&void 0!==t?t:"__undefined__category__",u=null!==(n=null===(o=Object(h.find)(l,{name:s}))||void 0===o?void 0:o.label)&&void 0!==n?n:"Custom Section",{anchor:d,name:p}=Object(qe.getNextSectionNameAndId)(u,a);return"kubio/section"===r.name&&(r={...r,attributes:{...r.attributes,anchor:d,attrs:{...r.attributes.attrs,name:p}}}),r}({pattern:e,block:s,hooks:i,patternCategories:r});let u=o;var d;-1!==e.categories.indexOf("kubio-content/overlappable")&&(u=0),await t(s,u,n,!1),l(),null!==(a=s)&&void 0!==a&&a.clientId&&Ar(null===(d=s)||void 0===d?void 0:d.clientId)}),[n,o,t,l,r,i]),c=Object(s.useMemo)((()=>Sr.a.generate()),[e]);return Object(s.createElement)(Ul.Page.Content,null,Object(s.createElement)(bl,{key:c,list:e,onSelect:a}))},hl=Object(s.memo)((e=>{const{list:t}=vr(),n=!window.kubioPatternsRegistered;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ul,Object(T.a)({},e,{className:"kubio-predefined-layouts__sections-page",isLoading:n,items:t,sidebar:Object(s.createElement)(Ui,{searchPlaceholder:Object(x.__)("Find a section…","kubio")}),pageContent:Object(s.createElement)(ml,null),emptyContent:Object(x.__)("No Section Found","kubio")})))})),fl=Object(s.memo)((e=>{let{children:t}=e;const[n,o]=gl(f.a.noop,"content"),{favoritesDataByType:r}=Yr(),i=Object(s.useMemo)((()=>null===r?n:f.a.isEmpty(r)?[]:n.filter((e=>!!f.a.get(r,["section",null==e?void 0:e.name])))),[n,r]),l=Object(s.useMemo)((()=>{const e={};return i.map(((t,n)=>{var r;let i=t.screenshot;!i&&t.isCustomSection&&(i="data:image/svg+xml,"+`<svg background='#fff' xmlns='http://www.w3.org/2000/svg' width='400'  height='250'>\t<rect x='0' y='0' width='400' height='250' fill='white'></rect>\t<text x='50%' y="50%" fill='#a6adb5' dominant-baseline='middle' font-family='Open Sans, Arial, Helvetica, sans-serif' text-anchor='middle'>\t\t${t.title}\t</text></svg>`.replace(/"/g,"'").replace(/>\s{1,}</g,"><").replace(/\s{2,}/g," ").replace(/[\r\n%#()<>?[\\\]^`{|}]/g,encodeURIComponent));const l=null===(r=Object(h.find)(o,{name:f.a.get(t,"categories.0")}))||void 0===r?void 0:r.label;f.a.get(e,l)?e[l]++:e[l]=1;const a=`${l} #${e[l]}`;return{...t,label:t.title,categoryLabel:a,screenshot:i}}))}),[i]),a=Object(s.useMemo)((()=>o.map((e=>{let{name:t,label:n}=e;return{label:n,value:t}}))),[o]),c=Object(s.useCallback)(((e,t)=>{const n=t.toLowerCase();return e.filter((e=>{let{label:t,categoryLabel:o}=e;return(null==t?void 0:t.toLowerCase().includes(n))||(null==o?void 0:o.toLowerCase().includes(n))}))}),[]),u=Object(s.useMemo)((()=>({list:l,categories:a,filterFunction:c})),[l,a,c]);return Object(s.createElement)(br.Provider,{value:u},t)})),gl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";const{patternCategories:n,patterns:o}=Object(w.useSelect)((e=>{const{getSettings:n}=e("core/block-editor");return{patterns:n().__experimentalBlockPatterns.filter((e=>e.isGutentagPattern&&0===e.name.indexOf(`kubio-${t}`))),patternCategories:n().__experimentalBlockPatternCategories}}),[t]),r=Object(s.useMemo)((()=>{const e={};n.forEach(((t,n)=>{let{name:o}=t;return e[o]=n}));const t=o.map((t=>{const n=f.a.get(t,"categories[0]"),o=e[n];return{...t,categoryIndex:o}}));return f.a.orderBy(t,["categoryIndex","isProOnFree","collections[0]","index","title"],["asc","asc","asc","asc","asc"])}),[o,n]),i=Object(s.useCallback)(((t,n)=>{const o=t.isGutentagPattern?Object(qe.transformTemplateToBlock)(n):Object(h.map)(n,(e=>Object(Ve.cloneBlock)(e)));e(o,t)}),[]);return[r,n,i]},Ol=Object(s.memo)((e=>Object(s.createElement)(fl,null,Object(s.createElement)(gr,null,Object(s.createElement)(hl,e))))),vl=Object(s.createContext)({value:null}),_l=Object(s.memo)((e=>{let{children:t}=e;const[n,o]=Object(s.useState)(ai),r=Object(s.useMemo)((()=>({activeTab:n,setActiveTab:o})),[n,o]);return Object(s.createElement)(vl.Provider,{value:r},t)})),yl=()=>Object(s.useContext)(vl),jl=di.filter((e=>{let{value:t}=e;return t!==ui})),El=Object(s.memo)((()=>{const{activeTab:e,setActiveTab:t}=yl();return Object(s.createElement)(Ye.ToggleGroup,{value:e,onChange:t,options:jl})})),Sl=Object(s.memo)((()=>Object(s.createElement)(Rl.Fill,null,Object(s.createElement)(El,null)))),kl=Object(s.memo)((e=>{const{activeTab:t}=yl(),n=Object(s.useMemo)((()=>f.a.get(Cl,t,s.Fragment)),[t]);return Object(s.createElement)("div",{className:"kubio-predefined-layouts__favorite-page"},Object(s.createElement)(n,e),Object(s.createElement)(Sl,null))})),wl=Object(s.memo)((e=>Object(s.createElement)(_l,null,Object(s.createElement)($r,null,Object(s.createElement)(kl,e))))),Cl={[ai]:il,[ci]:dl,[si]:Ol,[ui]:wl},xl=Object(s.memo)((e=>{const{activePage:t,onClose:n,showLoadingOverlay:o}=bi(),r=Object(s.useRef)(),i=Object(s.useMemo)((()=>f.a.get(Cl,t,s.Fragment)),[t]),l=Object(s.useCallback)((()=>{n()}),[n]);return Object(d.useOnClickOutside)(r,l),Object(s.createElement)("div",{ref:r,className:"kubio-predefined-layouts__pages-container position-relative"},Object(s.createElement)(i,e),Object(s.createElement)("div",{className:"kubio-predefined-layouts__popup-slot"}),o&&Object(s.createElement)(Hi,null))})),Tl=Object(s.memo)((e=>{let{children:t}=e;const n=t||Object(x.__)("Kubio Library","kubio");return Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__sidebar__header"},Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__sidebar__header__inner"},n))})),Il=Object(s.memo)((e=>{let{children:t}=e;return Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__sidebar__content"},t)})),Pl=Object(s.memo)((e=>{let{children:t}=e;return Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__sidebar__footer"},t)})),Rl=Object(E.createSlotFill)("PredefinedLayoutsSidebarTop"),Ml=Object(s.memo)((e=>{let{children:t,className:n}=e;return Object(s.createElement)("div",{className:P()("kubio-predefined-layouts__modal-layout__sidebar",n)},t)}));Ml.Header=Tl,Ml.Content=Il,Ml.Footer=Pl;const Al=Object(s.memo)((e=>{let{children:t}=e;return Object(s.createElement)("div",null,t)})),Nl=Object(s.memo)((()=>{const{activePage:e,setActivePage:t}=bi();return Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__pages-switcher"},Object(s.createElement)(Ye.ToggleGroup,{value:e,onChange:t,options:di}))})),Dl=Object(s.memo)((e=>{let{children:t}=e;return Object(s.createElement)(s.Fragment,null,t)})),Ll=Object(s.memo)((e=>{let{children:t}=e;return Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__list__title"},t)})),zl=Object(s.memo)((e=>{let{children:t}=e;return Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__list__footer"},t)})),Bl="https://s3.us-west-2.amazonaws.com/static-assets.kubiobuilder.com/assets/predesigned-layouts/no+elements+found.png",Fl="https://s3.us-west-2.amazonaws.com/static-assets.kubiobuilder.com/assets/predesigned-layouts/no+elements+found+favorites.png";[Bl,Fl].forEach((e=>{(new Image).src=e}));const Gl=Object(s.memo)((e=>{let{children:t}=e;const{activePage:n}=bi(),o=t||Object(x.__)("NO ELEMENTS FOUND","kubio"),r=Object(s.useMemo)((()=>n===ui?Fl:Bl),[n]);return Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__list--empty-content"},Object(s.createElement)("img",{src:r}),o)})),Hl=Object(s.memo)((()=>Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__list--loading-content"},Object(s.createElement)(E.Icon,{icon:we.KubioLoader})))),Ul=Object(s.memo)((e=>{let{items:t,sidebar:n,pageContent:o,pageFooter:r,className:i,isLoading:l=!1,emptyContent:a}=e;const{onClose:c}=bi();let u;if(Array.isArray(t)){const e=!(null==t?void 0:t.length);u=l?Object(s.createElement)(Hl,null):e?Object(s.createElement)(Gl,null,a):o}else u=o;return Object(s.createElement)("div",{className:P()("kubio-predefined-layouts__modal-layout",i)},n,Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__list__container"},Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__header"},Object(s.createElement)(Nl,null),Object(s.createElement)(E.Button,{className:"kubio-predefined-layouts__modal-layout__close",onClick:c,icon:Te.a,size:12,label:Object(x.__)("Close","kubio")})),Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__list"},Object(s.createElement)("div",{className:"kubio-predefined-layouts__modal-layout__list__left-gradient"}),u),r))}));Ul.Page=Al,Ul.Page.Content=Dl,Ul.Page.Footer=zl,Ul.Page.Content.Title=Ll,Ul.Sidebar=Ml;const Wl=Object(s.memo)((e=>{let{onSelectDemo:t}=e;const{activePage:n}=bi(),o=Object(s.useMemo)((()=>{switch(n){case ai:return Object(x.__)("Back to Starter Sites","kubio");case ci:return Object(x.__)("Back to Pages","kubio")}return Object(x.__)("Back","kubio")}),[n]);return Object(s.createElement)(Ul.Sidebar.Header,null,Object(s.createElement)(E.Button,{className:"kubio-predefined-layouts__preview-page__sidebar__back",icon:Object(s.createElement)(E.Dashicon,{icon:"redo"}),onClick:()=>t(null)},o))})),Vl=Object(s.createContext)({text:null,isDisabled:!1}),Kl=Object(s.memo)((()=>Object(s.createElement)("div",null,Object(x.__)("You can't import page content","kubio")))),$l=Object(s.memo)((e=>{let{children:t}=e;const{selectedDemoPart:n}=Zr(),o=sa(n),{currentPostIsPage:r}=Object(w.useSelect)((e=>{const{getPage:t=f.a.noop}=e("kubio/edit-site")||{},n=t(),{postType:o}=(null==n?void 0:n.context)||{};return{currentPostIsPage:"page"===o}}),[]),i=f.a.isEmpty(n),l=Object(s.useMemo)((()=>{const e=o.find((e=>{let{isCurrentPageTemplate:t}=e;return t})),t=o.find((e=>{let{isSelectedDemoPart:t}=e;return t}));return t&&null!=t&&t.isDisabled?{text:t.noticeText,isDisabled:t.isDisabled}:e&&"page"===(null==n?void 0:n.type)||"page"===(null==n?void 0:n.type)&&!r?{text:da,isDisabled:!0}:{text:Kl,isDisabled:i}}),[o,n,r]);return Object(s.createElement)(Vl.Provider,{value:l},t)})),Yl=()=>Object(s.useContext)(Vl),ql=["attachment","kubio_changeset"],Xl=e=>{let{onComplete:t=h.noop,closeModal:n=h.noop,entityName:o=Object(x.__)("other","kubio"),ModalComponent:r=E.Modal,modalProps:i={},changeReadyState:l=!0}=e;const a=Object(d.useUnloadStoreEntities)(),c=Object(d.useResetUndoStack)(),u=Object(v.useSetGlobalSessionProp)("ready"),[p,m]=Object(s.useState)(!1),{hasDirtyEntities:f,entitiesToSave:g}=Object(w.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t}=e("core");return{hasDirtyEntities:t().filter((e=>{let{kind:t,name:n}=e;return"postType"===t&&!ql.includes(n)})).length>0,entitiesToSave:t()}})),{saveEditedEntityRecord:O}=Object(w.useDispatch)("core"),{setIsNavigationPanelOpened:_}=Object(w.useDispatch)(Se),y=Object(s.useCallback)((()=>{_(!1),l&&u(!1);const{requestIdleCallback:e}=window;e((()=>{a(),c(),Object(d.removeCachedAllMergedAttributes)(),e(t)})),Object(b.doAction)("kubio.editor.page-changed")}),[l,a,c,t,u]);return Object(s.useEffect)((()=>{f||y()}),[]),Object(s.createElement)(s.Fragment,null,f&&Object(s.createElement)(r,Object(T.a)({title:Object(x.__)("You have unsaved changes","kubio"),onRequestClose:n},i),Object(s.createElement)("p",null,Object(s.createElement)("span",{dangerouslySetInnerHTML:{__html:Object(x.sprintf)(// translators: %s: page name
Object(x.__)("You are being redirected to <strong>%s</strong> page.","kubio"),o)}}),Object(s.createElement)("br",null),Object(x.__)("Would you like to save these changes or discard them?","kubio")),Object(s.createElement)(E.ButtonGroup,{className:"h-template-part-modal__button-group"},Object(s.createElement)(E.Button,{isLink:!0,onClick:()=>{y()}},Object(x.__)("Discard changes","kubio")),Object(s.createElement)(E.Button,{isPrimary:!0,onClick:()=>{m(!0),(()=>{const e=g.map((e=>{let{kind:t,name:n,key:o}=e;return O(t,n,o)}));return Promise.all(e)})().then((()=>{y(),m(!1)}))},isBusy:p,disabled:p},Object(x.__)("Save changes","kubio")))))},Ql=Object(s.memo)((e=>{let{onClose:t=f.a.noop,children:n}=e;const[o,r]=Object(s.useState)(!1),i=Object(s.useMemo)((()=>({onClose:t})),[t]),l=Object(s.useCallback)((()=>{r(!0)}),[r]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Xl,{onComplete:l,onClose:t,ModalComponent:Gi,modalProps:i,changeReadyState:!1}),o&&n)})),{memo:Zl,useState:Jl}=n(0),ea=Zl((e=>{let{actionLabel:t,description:n,NoticeActionComponent:o,onClose:r=f.a.noop,onAction:i=f.a.noop,onShowAction:l=f.a.noop,fromPopup:a=!1,...c}=e;const[u,d]=Jl(!1),p=Object(s.useCallback)((()=>{r(),d(!1)}),[r,d]),b=e=>{e.stopPropagation(),e.preventDefault(),l(),d(!0)};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"kubio-predefined-layouts__disabled-notice__description"},n),Object(s.createElement)("div",null,!a&&Object(s.createElement)("a",{className:"kubio-predefined-layouts__disabled-notice__action",onClick:b},t),a&&Object(s.createElement)(E.Button,{isSecondary:!0,onClick:b},t)),u&&Object(s.createElement)(Ql,{onClose:p},Object(s.createElement)(o,Object(T.a)({onAction:i},c))))})),ta=Object(s.memo)((e=>{let{onAction:t,templateSlug:n,thirdPartyUrl:o=null}=e;const r=Object(s.useRef)(!1),{storeData:i}=Object(w.useSelect)((e=>{var t;const{storeData:n={}}=null===(t=e(d.TEMPLATE_STORE_NAME))||void 0===t?void 0:t.getTemplateData();return{storeData:n}}),[]),{createErrorNotice:l}=Object(d.useKubioNotices)(),{setTemplate:a=f.a.noop}=Object(w.useDispatch)("kubio/edit-site")||{},c=Object(v.useSetGlobalSessionProp)("ready"),{onClose:u}=bi(),p=Object(s.useCallback)((()=>{if(!o)return void l(Object(x.__)("Could not redirect to the page you selected","kubio"));const e=document.createElement("a");e.setAttribute("href",o),document.body.append(e),e.click()}),[o,l]),b=Object(s.useMemo)((()=>{const e=(null==i?void 0:i.templates)||[],t=e=>{var t;const n=null==e||null===(t=e.id)||void 0===t?void 0:t.split("//");return f.a.get(n,"[1]")};if(Array.isArray(n)){let o=null;return f.a.reverse(n).forEach((n=>{if(o)return;const r=e.find((e=>t(e)===n));r&&(o=r)})),o}return e.find((e=>t(e)===n))}),[null==i?void 0:i.templates]),m=Object(s.useCallback)((()=>{r.current||(r.current=!0,c(!1),t(),u(),b?a(b.id,b.slug,!0):p())}),[b,a,t,r,u,c]);return Object(s.useEffect)((()=>{m()}),[]),Object(s.createElement)(s.Fragment,null)})),na=()=>{const{siteUrl:e}=Object(w.useSelect)((e=>{const{getSettings:t=f.a.noop}=e("kubio/edit-site"),{siteUrl:n}=t()||{};return{siteUrl:n}}),[]);return e},oa=e=>{const t=na();return Object(s.useMemo)((()=>{try{const n=new URL(`${t}wp-admin/admin.php`),o=n.searchParams;return o.append("page","kubio"),o.append("pageURL",e),n.toString()}catch(e){return null}}),[e])},ra=Object(s.memo)((e=>{const{blogLink:t}=Object(w.useSelect)((e=>{const{getEditedEntityRecord:t}=e("core"),{getSettings:n=f.a.noop}=e("kubio/edit-site"),o=t("root","site");let r;if("page"===(null==o?void 0:o.show_on_front)){const e=t("postType","page",parseInt(null==o?void 0:o.page_for_posts));r=f.a.get(e,"link",null)}else{const{siteUrl:e}=n()||{};r=e}return{blogLink:r}}),[]),n=oa(t);return Object(s.createElement)(ea,Object(T.a)({description:Object(x.__)("This content can be imported only on the blog template","kubio"),actionLabel:Object(x.__)("Switch to the blog template","kubio"),templateSlug:ri,NoticeActionComponent:ta,thirdPartyUrl:n},e))})),ia=Object(s.memo)((e=>{let{onAction:t,firstPost:n}=e;const o=Object(s.useRef)(!1),{createErrorNotice:r}=Object(d.useKubioNotices)(),{setTemplate:i=f.a.noop}=Object(w.useDispatch)("kubio/edit-site")||{},l=Object(v.useSetGlobalSessionProp)("ready"),{onClose:a}=bi(),{setPage:c}=Object(w.useDispatch)(g.STORE_KEY),u=Object(s.useCallback)((()=>{!o.current&&n&&(o.current=!0,l(!1),t(),a(),c({type:n.type,slug:n.slug,path:Object(Gn.getPathAndQueryString)(n.link),context:{postType:n.type,postId:n.id}}))}),[n,i,t,o,a,l]);return Object(s.useEffect)((()=>{u()}),[]),Object(s.createElement)(s.Fragment,null)})),la=Object(s.memo)((e=>{const{firstPost:t}=Object(w.useSelect)((e=>{const{getEntityRecords:t}=e("core"),n=t("postType","post",{per_page:1});return{firstPost:f.a.get(n,"0")}}),[]);return Object(s.createElement)(ea,Object(T.a)({description:Object(x.__)("This content can be imported only on the singe post template","kubio","kubio"),actionLabel:Object(x.__)("Switch to the singe post template","kubio"),firstPost:t,NoticeActionComponent:ia},e))})),aa=Object(s.memo)((e=>{const t=na(),n=oa(`${t}?s=search-page`);return Object(s.createElement)(ea,Object(T.a)({description:Object(x.__)("This content can be imported only on the search template","kubio"),actionLabel:Object(x.__)("Switch to the search template","kubio"),templateSlug:"search",thirdPartyUrl:n,NoticeActionComponent:ta},e))})),ca=Object(s.memo)((e=>{const t=na(),n=oa(`${t}page-no-found`);return Object(s.createElement)(ea,Object(T.a)({description:Object(x.__)("This content can be imported only on the 404 template","kubio"),actionLabel:Object(x.__)("Switch to the 404 template","kubio"),templateSlug:"404",thirdPartyUrl:n,NoticeActionComponent:ta},e))})),sa=e=>{const{fseTemplateSlug:t,page:n}=Object(w.useSelect)((e=>{const{getPage:t=f.a.noop,getTemplateId:n=f.a.noop}=e("kubio/edit-site")||{},o=t(),r=n()||"";return{page:o,fseTemplateSlug:f.a.get(r.split("//"),"[1]")}}),[]),o=Object(v.useGetGlobalSessionProp)("urlBasedTemplatesMap",{})[null==n?void 0:n.path],r=t||o,i=(e=>{let{templateSlug:t,selectedDemoPart:n={}}=e;const{type:o,slug:r}=n;let i=!1;const l="template"===o&&(null==ri?void 0:ri.includes(r)),a=ri.includes(t);return i=l&&!a,{type:"blog",noticeText:ra,isDisabled:i,isCurrentPageTemplate:a,isSelectedDemoPart:l}})({templateSlug:r,selectedDemoPart:e}),l=(e=>{let{templateSlug:t,selectedDemoPart:n={}}=e;const{type:o,slug:r}=n;let i=!1;const l="template"===o&&(null==oi?void 0:oi.includes(r)),a=oi.includes(t);return i=l&&!a,{type:"single",noticeText:la,isDisabled:i,isCurrentPageTemplate:a,isSelectedDemoPart:l}})({templateSlug:r,selectedDemoPart:e}),a=(e=>{let{templateSlug:t,selectedDemoPart:n={}}=e;const{type:o,slug:r}=n;let i=!1;const l="search"===t,a="template"===o&&"search"===r;return i=a&&!l,{type:"search",noticeText:aa,isDisabled:i,isCurrentPageTemplate:l,isSelectedDemoPart:a}})({templateSlug:r,selectedDemoPart:e}),c=(e=>{let{templateSlug:t,selectedDemoPart:n={}}=e;const{type:o,slug:r}=n;let i=!1;const l="404"===t,a="template"===o&&"404"===r;return i=a&&!l,{type:"404",noticeText:ca,isDisabled:i,isCurrentPageTemplate:l,isSelectedDemoPart:a}})({templateSlug:r,selectedDemoPart:e});return[l,i,a,c]},ua=Object(s.memo)((e=>{let{onAction:t}=e;const{saveEntityRecord:n,editEntityRecord:o,saveEditedEntityRecord:r}=Object(w.useDispatch)("core"),{setPage:i}=Object(w.useDispatch)(g.STORE_KEY),l=Object(s.useRef)(!1),{createErrorNotice:a}=Object(d.useKubioNotices)(),c=Object(v.useSetGlobalSessionProp)("ready"),{onClose:u}=bi(),p=Object(s.useCallback)((async()=>{if(l.current)return;l.current=!0,c(!1),t(),u();const e={title:"Kubio page",status:"publish"};try{var s;const t=await n("postType","page",e);if(!t)return;const l=f.a.capitalize(null==t||null===(s=t.slug)||void 0===s?void 0:s.replaceAll("-"," "));await o("postType","page",t.id,{title:l}),await r("postType","page",t.id),i({type:t.type,slug:t.slug,path:Object(Gn.getPathAndQueryString)(t.link),context:{postType:t.type,postId:t.id}})}catch(e){a(Object(x.__)("Could not create new page","kubio"))}}),[i,t,u,n,a,o]);return Object(s.useEffect)((()=>{p()}),[]),Object(s.createElement)(s.Fragment,null)})),da=Object(s.memo)((e=>Object(s.createElement)(ea,Object(T.a)({description:Object(x.__)("This content can be imported only on a page","kubio"),actionLabel:Object(x.__)("Create new page","kubio"),NoticeActionComponent:ua},e)))),pa=Object(s.memo)((e=>{let{onAction:t=f.a.noop,...n}=e;const{text:o,isDisabled:r}=Yl();return Object(s.createElement)("div",{className:"kubio-predefined-layouts__disabled-notice__outer"},o&&r&&Object(s.createElement)("div",{className:"kubio-predefined-layouts__disabled-notice"},Object(s.createElement)(o,Object(T.a)({onAction:t},n))))})),ba=Object(s.memo)((()=>Object(s.createElement)(Ul.Sidebar.Footer,null,Object(s.createElement)(pa,null)))),ma=Object(s.memo)((()=>Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__sidebar__content--is-loading"},Object(s.createElement)(E.Icon,{icon:we.KubioLoader}),";"))),ha=Object(s.memo)((e=>{let{currentDemoSite:t,selectedDemoPart:n}=e;const o=null==t?void 0:t.preview,r=Object(s.useRef)(),i=Object(s.useMemo)((()=>{const{pagePreviewUrl:e}=n||{};return e||o}),[o,n]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("a",{ref:r,href:i,target:"_blank",className:"kubio-predefined-layouts__preview-page__sidebar__preview-button",rel:"noreferrer"},Object(s.createElement)(E.Icon,{icon:we.PreviewIcon})),Object(s.createElement)(Ye.ModalTooltip,{anchorRef:r},Object(x.__)("Live Preview","kubio")))})),fa=Object(s.memo)((e=>{let{selectedDemoPart:t,currentDemoSite:n,demoPartsIsLoaded:o,currentDemoParts:r}=e;const[i,l]=Object(s.useState)(!1),{uniqueId:a}=t||{},c=Object(s.createElement)(ha,{currentDemoSite:n,selectedDemoPart:t});return Object(s.useEffect)((()=>{t&&!i&&(l(!0),function(e,t){if(!Array.isArray(e)||!t)return;const n=new Image;n.onload=()=>{e.filter((e=>e.uniqueId!==(null==t?void 0:t.uniqueId))).forEach((e=>{(new Image).src=e.screenshotFull}))},n.src=null==t?void 0:t.screenshotFull}(r,t))}),[t]),Object(s.createElement)(Ul.Sidebar.Content,null,o&&Object(s.createElement)(Ri,Object(T.a)({key:a,showFull:!0,showAnimationAtLoad:!0,labelSlot:c,showFavorite:!1,addUniquePreviewAttribute:!1},t)),!o&&Object(s.createElement)(ma,null))})),ga=Object(s.memo)((()=>{const{selectedDemoPart:e,demoPartsIsLoaded:t,currentDemoParts:n}=Zr(),{currentDemoSite:o,onSelectDemo:r}=Gr();return Object(s.createElement)(Ul.Sidebar,{className:"kubio-predefined-layouts__preview-page__sidebar"},Object(s.createElement)(Wl,{onSelectDemo:r}),Object(s.createElement)(fa,{selectedDemoPart:e,currentDemoSite:o,demoPartsIsLoaded:t,currentDemoParts:n}),Object(s.createElement)(ba,null))})),Oa=Object(s.memo)((e=>{let{colorPalette:t}=e;const n=Object(s.useMemo)((()=>t.map((e=>{let{color:t}=e;return`rgb(${t.join(",")}`}))),[t]);return Object(s.createElement)("td",{className:"kubio-predefined-layouts__color-palette-previewer__list"},n.map(((e,t)=>Object(s.createElement)(Ye.ColorIndicator,{key:t,value:e}))))})),va=Object(s.memo)((e=>{let{colorPalette:t}=e;return Object(s.createElement)("tr",{className:"kubio-predefined-layouts__color-palette-previewer"},Object(s.createElement)("td",null,Object(x.__)("Starter site colors","kubio")),t&&Object(s.createElement)(Oa,{colorPalette:t}))})),_a=["h1","h2","h3","h4","h5","h6","p"],ya=[{label:"Heading 1",holder:"h1"},{label:"Heading 2",holder:"h2"},{label:"Heading 3",holder:"h3"},{label:"Heading 4",holder:"h4"},{label:"Heading 5",holder:"h5"},{label:"Heading 6",holder:"h6"},{label:"Paragraph",holder:"p"}],ja=Object(s.memo)((e=>{let{typography:t}=e;const n=Object(s.useMemo)((()=>{const e=f.a.get(t,"holders",{});return f.a.pick(e,_a)}),[t]),o=Object(s.useCallback)((e=>{const t=f.a.get(n,e);if(!t)return{};const o=fo.typographyConfig.getTypographyCss(t,null,!1);return f.a.omit(o,"color")}),[n]);return t?Object(s.createElement)("td",{className:"kubio-predefined-layouts__typography-previewer__text-container"},ya.map((e=>{let{label:t,holder:r}=e;const i=o(r);return Object(s.createElement)(Ea,{key:r,style:i,holder:r,styleByHolder:n},t)}))):Object(s.createElement)(s.Fragment,null)})),Ea=Object(s.memo)((e=>{let{children:t,styleByHolder:n,holder:o,style:r}=e;const i=Object(s.useRef)(),l=Object(s.useMemo)((()=>{const e=f.a.get(n,o),{family:t,weight:r,size:i}=e;return`${t}, ${r}, ${null==i?void 0:i.value}${null==i?void 0:i.unit}`}),[n,o]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("span",{className:"kubio-predefined-layouts__typography-previewer__text",style:r,ref:i},t),Object(s.createElement)("span",{className:"kubio-predefined-layouts__typography-previewer__text-separator"},", "),Object(s.createElement)(Ye.ModalTooltip,{anchorRef:i},l))})),Sa=Object(s.memo)((e=>{let{typography:t}=e;return Object(s.createElement)("tr",{className:"kubio-predefined-layouts__typography-previewer"},Object(s.createElement)("td",null,Object(x.__)("Starter site typography","kubio")),Object(s.createElement)(ja,{typography:t}))})),ka=Object(s.memo)((e=>{let{isOpen:t}=e;const[n,o]=Object(s.useState)(),{selectedDemoPart:r}=Zr();Object(s.useEffect)((()=>{!async function(){const e=await async function(e){const t=["demoPartsContentById","page"===(null==e?void 0:e.type)?"pages":"templates",null==e?void 0:e.id],n=f.a.get(kr,t);return Tr(null==n?void 0:n.globalDataId)}(r);e&&o(e)}()}),[r]);const i=Object(s.useMemo)((()=>null==n?void 0:n.colors),[n]),l=Object(s.useMemo)((()=>f.a.get(n,"globalStyle.style.descendants.body.typography")),[n]),a=Object(s.useRef)(),c=Object(s.useMemo)((()=>{var e;return t?{height:`${null==a||null===(e=a.current)||void 0===e?void 0:e.offsetHeight}px`}:{height:0}}),[t]),u=Object(s.useMemo)((()=>{const e=[];return f.a.get(n,["fonts","google"],[]).forEach((t=>{let{family:n}=t;e.includes(n)||e.push(n)})),e}),[n]);return Object(s.createElement)(wa.Fill,null,Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__advanced-settings__control",style:c},Object(s.createElement)("div",{ref:a,className:"kubio-predefined-layouts__preview-page__advanced-settings__control__inner"},Object(s.createElement)("table",{className:"kubio-predefined-layouts__preview-page__advanced-settings__global-data"},Object(s.createElement)("tbody",null,Object(s.createElement)(va,{colorPalette:i}),Object(s.createElement)(Sa,{typography:l}))))),Object(s.createElement)(xi,{fontsToLoad:u}))})),wa=Object(E.createSlotFill)("PredefinedLayoutsAdvancedSettings"),Ca=Object(s.memo)((()=>{const{shouldConvertGlobalColors:e,setShouldConvertGlobalColors:t}=gi();return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__advanced-settings"},Object(s.createElement)(Ye.ToggleControl,{label:Object(x.__)("Replace global styles","kubio"),value:e,onChange:t})),Object(s.createElement)(ka,{isOpen:e}))})),xa=Object(s.memo)((e=>{let{value:t={},onSelect:n,selected:o}=e;const{screenshot:r,isPro:i,label:l,uniqueId:a,type:c,id:u}=t,d=a===(null==o?void 0:o.uniqueId),p=Object(s.useMemo)((()=>({favoriteType:`demo-${c}`,favoriteId:u})),[c,u]);return Object(s.createElement)("div",{className:P()("kubio-predefined-layouts__preview-page__item",{"kubio-predefined-layouts__preview-page__item--selected":d}),onClick:()=>{n(t)}},Object(s.createElement)(Ri,Object(T.a)({isPro:i,screenshot:r,label:l,uniqueId:a},p)))})),Ta=Object(s.memo)((e=>{let{list:t,value:n,onSelect:o}=e;return Object(s.createElement)(Pi,{list:t},(e=>Object(s.createElement)(xa,{key:e.slug,value:e,selected:n,onSelect:o})))})),Ia=e=>{Object(s.useEffect)((()=>{if(!e)return;const t=document.querySelector(`[data-unique-id="${null==e?void 0:e.uniqueId}"]`);t&&(function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}(t)||t.scrollIntoView({block:"center"}))}),[e])},Pa=Object(s.memo)((()=>{const{currentDemoParts:e,setSelectedDemoPart:t,selectedDemoPart:n}=Zr();return Ia(n),Object(s.createElement)(Ta,{list:e,onSelect:t,value:n})})),Ra=Object(s.memo)((()=>{const{currentDemoSite:e,onSelectDemo:t}=Gr(),{currentDemoParts:n,relatedDemoParts:o,setSelectedDemoPart:r,selectedDemoPart:i}=Zr(),l=!!o,a=null==e?void 0:e.relatedDemoSite;Ia(i);const c=Object(s.useMemo)((()=>null!=e&&e.isPro?e:a),[e,a]),u=Object(s.useMemo)((()=>e===c?a:e),[e,c]),d=Object(s.useMemo)((()=>e.isPro?n:e.isPro||o?!e.isPro&&null!=e&&e.relatedDemoSite&&o?o:void 0:n),[n,e,o]),p=Object(s.useMemo)((()=>l&&n&&o?d===n?o:n:null),[l,d]),b=Object(s.useMemo)((()=>n===d),[d,n]),m=!b,h=Object(s.useCallback)((e=>{b?r(e):t(null==c?void 0:c.slug,e)}),[r,b,c]),f=Object(s.useCallback)((e=>{m?r(e):t(null==u?void 0:u.slug,e)}),[r,m,u]);return o?Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ni,{label:Object(x.__)("FREE","kubio")}),Object(s.createElement)(Ta,{list:p,onSelect:f,value:i}),Object(s.createElement)(Ni,{label:Object(x.__)("PRO","kubio"),className:"kubio-predefined-layouts__free-pro-separator--second"}),Object(s.createElement)(Ta,{list:d,onSelect:h,value:i})):Object(s.createElement)(s.Fragment,null)})),Ma=Object(s.memo)((()=>{const{currentDemoSite:e}=Gr(),t=null==e?void 0:e.label,n=Object(s.useMemo)((()=>!(null==e||!e.relatedDemoSite)),[e])?Ra:Pa;return Object(s.createElement)(Ul.Page.Content,null,Object(s.createElement)(Ul.Page.Content.Title,null,Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__content__title"},Object(s.createElement)("div",{className:"d-flex justify-content-between align-items-center"},Object(s.createElement)("span",{className:"kubio-predefined-layouts__preview-page__content__title__name"},t),Object(s.createElement)(Ca,null)),Object(s.createElement)(wa.Slot,null))),Object(s.createElement)(n,null))})),Aa="content",Na="fullPage",Da="fullStarterSite",La=[{label:Object(x.__)("Content","kubio"),value:Aa,description:Object(x.__)("The selected starter site content will be added after your existing sections","kubio"),image:"https://s3.us-west-2.amazonaws.com/static-assets.kubiobuilder.com/assets/predesigned-layouts/content.png"},{label:Object(x.__)("Full page","kubio"),value:Na,description:Object(x.__)("Your header, content and footer will be all replaced with the ones from the selected page","kubio"),image:"https://s3.us-west-2.amazonaws.com/static-assets.kubiobuilder.com/assets/predesigned-layouts/full+page.png"},{label:Object(x.__)("Full starter site","kubio"),value:Da,description:Object(x.__)("All content will be replaced with the selected full starter site","kubio"),image:"https://s3.us-west-2.amazonaws.com/static-assets.kubiobuilder.com/assets/predesigned-layouts/full+site.png"}],za=Object(s.memo)((e=>{let{value:t,label:n,description:o,image:r,isActive:i,onClick:l,isDisabled:a=!1,isFreeOnPro:c=!1,urlArgs:u}=e;const d=Object(s.useMemo)((()=>[{label:n,value:t}]),[n,t]),p=Object(s.useMemo)((()=>i?t:null),[i,t]),b=Object(s.useCallback)((()=>{a||l()}),[l,a]),m=Object(s.useMemo)((()=>c?Bt.ProItem:Ba),[c]),h=Object(s.useMemo)((()=>c?{tag:Ba,urlArgs:{urlArgs:u}}:{}),[c]);return Object(s.createElement)(m,Object(T.a)({className:P()("kubio-predefined-layouts__preview-page__import-popup__card",{"kubio-predefined-layouts__preview-page__import-popup__card--active":i,"kubio-predefined-layouts__preview-page__import-popup__card--disabled":a}),onClick:b},h),Object(s.createElement)("img",{className:"kubio-predefined-layouts__preview-page__import-popup__card__image",src:r}),Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__import-popup__card__label"},Object(s.createElement)(E.RadioControl,{options:d,selected:p})),Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__import-popup__card__description"},o),a&&Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__import-popup__card__disabled-overlay"}))})),Ba=Object(s.memo)((e=>{let{children:t,...n}=e;return Object(s.createElement)("div",n,t)})),Fa=Object(s.memo)((e=>{let{onClose:t,onImportContent:n,onImportFullPage:o,onImportStarterSite:r,isFreeBuild:i,currentTemplateIsClassic:l,currentDemoSite:a,selectedDemoPart:c}=e;const u=Object(s.useMemo)((()=>l?Na:Aa),[l]),[d,p]=Object(s.useState)(u),b=Object(s.useCallback)((e=>{e!==d&&p(e)}),[d,p]),m=Object(s.useMemo)((()=>La.map((e=>{const t={};return e.value===Na&&i&&!l&&(t.isFreeOnPro=!0,t.urlArgs={source:"templates_gallery",content:null==a?void 0:a.label}),e.value===Aa&&l&&(t.isDisabled=!0),{...e,...t}}))),[La,l,i,a,c]);return Object(s.createElement)(Gi,{title:Object(s.createElement)(Ga,null),onClose:t},Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__import-popup"},Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__import-popup__list"},m.map((e=>Object(s.createElement)(za,Object(T.a)({key:e.value},e,{isActive:d===e.value,onClick:()=>b(e.value)}))))),Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__import-popup__footer d-flex justify-content-end"},Object(s.createElement)(E.Button,{isPrimary:!0,onClick:()=>{switch(d){case Aa:return void n();case Na:return void o();case Da:t(),r()}}},Object(x.__)("Import selection","kubio")))))})),Ga=Object(s.memo)((()=>Object(s.createElement)("span",{style:{fontWeight:"700"}},Object(x.__)("What to import:","kubio")))),{memo:Ha}=n(0),Ua=Ha((e=>{let{onClose:t}=e;const[n,o]=Object(s.useState)(!1),r=Object(s.useCallback)((()=>{o(!0)}),[o]),i=Object(s.useMemo)((()=>{if(n)return"invisible"}),[n]);return Object(s.createElement)(Gi,{title:Object(s.createElement)("div",null,Object(x.__)("This content can't be imported here","kubio")),onClose:t,className:i},Object(s.createElement)(pa,{onAction:t,onClose:t,onShowAction:r,fromPopup:!0}))})),Wa=Object(s.memo)((()=>{const{selectedDemoPart:e}=Zr(),[t,n]=Object(s.useState)(!1),[o,r]=Object(s.useState)(!1),i=Object(s.useCallback)((()=>{n(!1)}),[n]),{currentDemoSite:l,setShowDemoSiteImportPage:a}=Gr(),{importDemoPart:c,isImporting:u,whatToImport:d,setWhatToImport:p}=gi(),{isDisabled:b}=Yl(),{type:m,isPro:h}=e||{},{isClassicTemplate:g}=Object(w.useSelect)((e=>{const{getTemplateId:t=f.a.noop}=e("kubio/edit-site")||{};return{isClassicTemplate:!t()}})),O="template"===m&&g,v=Object(s.useMemo)((()=>!0),[]),_=v&&h,y=_?Bt.ProItem:E.Button,j=v&&(null==l?void 0:l.isPro),S=j?Bt.ProItem:E.Button;let k={};_&&(k={urlArgs:{source:"templates_gallery",content:null==l?void 0:l.label}});let C={};j&&(C={urlArgs:{source:"templates_gallery",content:null==l?void 0:l.label}});const I=Object(s.useCallback)((()=>{a(!0)}),[a]),R=Object(s.useCallback)((()=>{p(Jr),setTimeout((()=>{c()}),0)}),[p,c]),M=Object(s.useCallback)((()=>{p(ei),setTimeout((()=>{c()}),0)}),[p,c]),A=Object(s.useCallback)((()=>{b?r(!0):n(!0)}),[b,n,r]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ul.Page.Footer,null,Object(s.createElement)("div",{className:P()("kubio-predefined-layouts__preview-page__footer d-flex w-100 align-items-center justify-content-end")},Object(s.createElement)("div",{className:"kubio-predefined-layouts__preview-page__footer__buttons"},Object(s.createElement)(Bt.ProModalTextContext.Provider,{value:Object(x.__)("This page is only available in the PRO version of Kubio. Please select a free page to import or upgrade to the PRO version.","kubio")},Object(s.createElement)(y,Object(T.a)({tag:E.Button,isPrimary:!0,onClick:A,isBusy:u},k),Object(x.__)("Import","kubio"))),Object(s.createElement)(Bt.ProModalTextContext.Provider,{value:Object(x.__)("This starter site is only available in the PRO version of Kubio. Please select a free starter site to import or upgrade to the PRO version.","kubio")},Object(s.createElement)(S,Object(T.a)({tag:E.Button,isSecondary:!0,onClick:I},C),Object(x.__)("Import full starter site","kubio")))))),t&&Object(s.createElement)(Fa,{currentTemplateIsClassic:O,currentDemoSite:l,selectedDemoPart:e,isFreeBuild:v,onClose:i,onImportContent:R,onImportFullPage:M,onImportStarterSite:I}),o&&Object(s.createElement)(Ua,{onClose:()=>r(!1)}))})),Va=Object(s.memo)((e=>{const{currentDemoParts:t,demoPartsIsLoaded:n}=Zr(),{demoPartThatIsImporting:o}=gi();return Object(s.createElement)(s.Fragment,null,o&&Object(s.createElement)(ki,null),Object(s.createElement)(Ul,Object(T.a)({},e,{isLoading:!n,className:"kubio-predefined-layouts__preview-page",items:t,sidebar:Object(s.createElement)(ga,null),pageContent:Object(s.createElement)(Ma,null),pageFooter:Object(s.createElement)(Wa,null)})))})),Ka=Object(s.memo)((e=>Object(s.createElement)(Qr,null,Object(s.createElement)(fi,null,Object(s.createElement)($l,null,Object(s.createElement)(Va,e)))))),$a=Object(s.memo)((()=>{const[e,t]=Object(s.useState)(!1),n=Object(s.useRef)(),o=Object(s.useCallback)((()=>{t(!e)}),[e,t]),{createErrorNotice:r}=Object(d.useKubioNotices)(),i=Object(s.useCallback)((()=>{t(!1)}),[t]),l=Object(s.useCallback)((()=>{r(Object(x.__)("Something went wrong","kubio"))}),[r]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.Button,{ref:n,onClick:o,isPrimary:!0,icon:we.PredesignedLayoutsIcon,className:"kubio-predefined-layouts__button"},Object(x.__)("Templates Gallery","kubio")),Object(s.createElement)(ur.ErrorBoundary,{FallbackComponent:Ya,onReset:()=>{t(!1)},onError:l},Object(s.createElement)(Wr,null,e&&Object(s.createElement)(E.Modal,{className:"kubio-predefined-layouts__modal",onRequestClose:i},Object(s.createElement)(pi,{onClose:i},Object(s.createElement)(xl,null))))))})),Ya=e=>{let{error:t,resetErrorBoundary:n}=e;return Object(s.useEffect)((()=>{n()}),[]),Object(s.createElement)(s.Fragment,null)};var qa=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(M.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),Xa=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(M.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})),Qa=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(M.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})),Za=n(398),Ja=n.n(Za);let ec=null,tc=Math.random();function nc(e){let t=Ja.a.replace("{message}",Object(x.__)("Generating preview…","kubio"));t=t.replace("{svg_image}",Object(s.renderToString)(we.KubioLoader)),e.write(t),e.title=Object(x.__)("Generating preview…","kubio"),e.close()}function oc(){ec=window.open("",Object(x.__)("Generating preview…","kubio")+tc++)}const rc={PREVIEW:"preview",DRAFT:"draft"},ic=[{kind:"kubio",name:"menu"},{kind:"root",name:"site"}];var lc=n(399),ac=n.n(lc);const cc=[{title:Object(x.__)("Desktop","kubio"),name:"Desktop",icon:qa},{title:Object(x.__)("Tablet","kubio"),name:"Tablet",icon:Xa},{title:Object(x.__)("Mobile","kubio"),name:"Mobile",icon:Qa}],sc=e=>{let{deviceType:t,setDeviceType:n}=e;const{isDirty:o}=Object(w.useSelect)((e=>{const{__experimentalGetDirtyEntityRecords:t}=e("core");return{isDirty:t().length>0}})),r=(()=>{const{getDirtyEntityRecords:e,getAutosaves:t,getEntityRecordEdits:n,getEditedEntityRecord:o}=Object(w.useSelect)((e=>({getDirtyEntityRecords:e("core").__experimentalGetDirtyEntityRecords,getAutosaves:e("core").getAutosaves,getEntityRecordEdits:e("core").getEntityRecordEdits,getEditedEntityRecord:e("core").getEditedEntityRecord}))),{saveEditedEntityRecord:r}=Object(w.useDispatch)("core");return async function(i){var l;let{autosaveType:a=rc.PREVIEW}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=[];c=i||e();const s=c.filter((e=>{let{kind:t,name:n}=e;return!Object(h.find)(ic,{kind:t,name:n})})),u=c.filter((e=>{let{kind:t,name:n,key:o}=e;return!Object(h.find)(s,{kind:t,name:n,key:o})})),d=s.map((e=>{let{kind:t,name:n,key:i}=e;const l=o(t,n,i);let c;if(null!=l&&l.blocks)c=Object(Ve.serialize)(l.blocks);else{if("string"!=typeof(null==l?void 0:l.content))return null;c=null==l?void 0:l.content}return-1!==["wp_template","wp_template_part","page","post","product"].indexOf(l.type)?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"publish",{fieldsToOmit:n=["blocks"],type:o=rc.PREVIEW}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Jn()({path:"kubio/v1/save-entity",method:"POST",data:{postData:Object(h.omit)({...e,id:e.id||e.wp_id},["selectionStart","selectionEnd"].concat(n)),type:o,status:t}})}({...l,content:c},"autosave",{type:a}):r(t,n,i,{isAutosave:!0})})),p=u.map((e=>{let{kind:t,name:o,key:r}=e;return{kind:t,name:o,key:r,...n(t,o,r)}})),m=null===(l=e())||void 0===l?void 0:l.filter((e=>{let{name:t}=e;return"page"===t||"post"===t})).reduce(((e,t)=>{let{key:n,name:r,kind:i}=t;const l=o(i,r,n);return{...e,[n]:null==l?void 0:l.template}}),{});return Promise.all(d).then((e=>{const n=s.map(((n,o)=>{let{name:r,key:i}=n;return e[o]?{id:e[o].ID||e[o].id,parent:e[o].post_parent||e[o].parent,data:e[o]}:Object(h.last)(t(r,i))}));return Promise.all(n).then((e=>{const t=e.filter(Boolean).map((e=>{let{id:t,parent:n}=e;return{id:t,parent:n}}));return{updatesRecords:e.map((e=>null==e?void 0:e.data)),autosaves:t,customEntities:p,pageTemplatesMap:m,customData:Object(b.applyFilters)("kubio/custom-preview-data",{})}}))}))}})(),{saveChangeset:i}=(()=>{const[e,t]=Object(v.useGlobalSessionProp)("previewChangest",{}),n=Object(w.useSelect)((e=>{var t;return null===(t=e("core/block-editor").getSettings())||void 0===t?void 0:t.changeset_uuid}));Object(s.useEffect)((()=>{e.id||!n||e.isLoading||(t({...e,isLoading:!0}),Jn()({path:Object(Gn.addQueryArgs)("/wp/v2/kubio/preview-changeset/",{slug:n})}).then((e=>{e&&e.length&&t({...e[0],isLoading:!1})})))}),[e,t,n]);const o=Object(s.useCallback)((()=>{e.id&&window.navigator.sendBeacon&&window.navigator.sendBeacon(`${window.ajaxurl}?action=kubio-delete-changeset&uuid=${e.slug}`)}),[e.id]);return Object(s.useEffect)((()=>(window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o))),[e.id]),{saveChangeset:async o=>{let r=e;return r.id||(r=await Jn()({path:Object(Gn.addQueryArgs)("/wp/v2/kubio/preview-changeset/",{slug:n})}),t(r)),await Jn()({path:`/wp/v2/kubio/preview-changeset/${r.id}`,method:"POST",data:{...Object(h.pick)(e,["title","slug","type"]),content:JSON.stringify(Object(h.omit)(o,"updatesRecords"))}}),n}}})(),{currentPageURL:l}=Object(w.useSelect)((e=>{const t=e(g.STORE_KEY).getPage(),n=f.a.get(t,"link"),o=f.a.get(t,"path"),r=n||o;return{currentPageURL:(null!=r?r:"").replace(/\/$/,"")}})),a=Object(w.useSelect)((e=>()=>{const{getSelectedBlockClientIds:t}=e(j.store),n=t();return n.length?n[0]:""})),{hideInsertionPoint:c}=Object(w.useDispatch)("core/block-editor"),u=e=>()=>{n(e),c()},d=Object(v.useBlocksOwnerDocument)();return Object(s.useEffect)((()=>{const e=Object(qe.getPreviewElementByModelId)(a(),d);e&&t&&ac()(e)}),[t]),Object(s.createElement)("div",{className:"kubio-preview-options"},cc.map((e=>{let{name:n,title:o,icon:r}=e;return Object(s.createElement)(E.Button,{key:n,icon:r,isPressed:n===t,label:o,onClick:u(n)})})),""!==l&&Object(s.createElement)(E.Button,{onClick:async e=>{let{}=e;const t=(()=>{ec&&!ec.closed||oc();try{nc(ec.document)}catch(e){oc(),nc(ec.document)}return setTimeout((function(){ec.focus()}),100),ec})();let n="saved";const a=`${Sr.a.generate()}-${Sr.a.generate()}`;if(o){const e=await r();n=await i(e)}t.location=Object(Gn.addQueryArgs)(l,{"kubio-preview":n,"kubio-random":a})}},Object(x.__)("Preview","kubio")))};var uc=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(M.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),dc=n(27);function pc(){const e=Object(w.useSelect)((e=>e("core").hasRedo())),{redo:t}=Object(w.useDispatch)("core");return Object(s.createElement)(E.Button,{icon:uc,label:Object(x.__)("Redo","kubio"),shortcut:dc.displayShortcut.primaryShift("z"),"aria-disabled":!e,onClick:e?t:void 0})}var bc=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(M.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));function mc(){const e=Object(w.useSelect)((e=>e("core").hasUndo())),{undo:t}=Object(w.useDispatch)("core");return Object(s.createElement)(E.Button,{icon:bc,label:Object(x.__)("Undo","kubio"),shortcut:dc.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function hc(e){let{openEntitiesSavedStates:t}=e;const{deviceType:n,isEditorSidebarOpened:o,shortcut:r,getBlockSelectionStart:i,isListViewOpen:l,listViewShortcut:a}=Object(w.useSelect)((e=>{const{__experimentalGetPreviewDeviceType:t,isFeatureActive:n,getEditedPostType:o,getEditedPostId:r,isInserterOpened:i,getTemplateId:l,getTemplatePartId:a,getEntity:c,getPage:s,getShowOnFront:u,isListViewOpened:d}=e(g.STORE_KEY),{getEntityRecord:p}=e("core"),{__experimentalGetTemplateInfo:b}=e("core/editor"),m=l(),h=a(),f=o(),O=p("postType",f,r());let v;var _;v="wp_template"===f?null!=O&&O.title?null==O||null===(_=O.title)||void 0===_?void 0:_.raw:b(O).title:null==O?void 0:O.slug;const{getShortcutRepresentation:y}=e("core/keyboard-shortcuts");return{isListViewOpen:d(),deviceType:t(),entityTitle:v,hasFixedToolbar:n("fixedToolbar"),template:O,templateType:f,isInserterOpen:i(),templateId:m,templatePartId:h,entity:c(),page:s(),showOnFront:u(),isEditorSidebarOpened:e(g.STORE_KEY).isEditorSidebarOpened(),shortcut:y("core/edit-post/toggle-sidebar"),getBlockSelectionStart:e("core/block-editor").getBlockSelectionStart,listViewShortcut:y("kubio/edit-site/toggle-list-view")}}),[]),{__experimentalSetPreviewDeviceType:c,openSidebar:u,closeSidebar:d}=Object(w.useDispatch)(g.STORE_KEY),{hideInsertionPoint:p}=Object(w.useDispatch)("core/block-editor"),b=Object(s.useCallback)((e=>{p(),c(e)}),[]),m=Object(S.useViewportMatch)("medium"),f=o?()=>{d(),C(!1)}:()=>{u(i()?"block-inspector":"document"),C(!1)},_=$e(),{isNavigationOpened:y}=Object(w.useSelect)(g.STORE_KEY),{setIsNavigationPanelOpened:j,openNavigationPanelToMenu:k,setIsListViewOpened:C}=Object(w.useDispatch)(g.STORE_KEY),{uiVersion:T}=Object(O.useUIVersion)(),I=Object(s.useCallback)((()=>{C(!l)}),[C,l]);let P=!0;2===T&&(P=!1);const R=Object(v.useGetGlobalSessionProp)("ready",!1),M=Object(h.get)(window,["kubioUtilsData","enable_starter_sites"],!0);return Object(s.createElement)("div",{className:"edit-site-header"},Object(s.createElement)("div",{className:"edit-site-header_start"},Object(s.createElement)("div",{className:"edit-site-header__toolbar"},m&&Object(s.createElement)(s.Fragment,null,1===T&&Object(s.createElement)(De,null),Object(s.createElement)(mc,null),Object(s.createElement)(pc,null),Object(s.createElement)(E.Button,{className:"edit-site-header-toolbar__list-view-toggle",icon:Wo.a,isPressed:l/* translators: button label text should, if possible, be under 16 characters. */,label:Object(x.__)("List View","kubio"),onClick:I,shortcut:a}),R&&M&&Object(s.createElement)($a,null)),!1)),Object(s.createElement)("div",{className:"edit-site-header_center"},Object(s.createElement)("div",{className:"edit-site-document-actions"},Object(s.createElement)("div",{className:"edit-site-document-actions__title-wrapper"},Object(s.createElement)(E.Button,{className:"edit-site-document-actions__title",onClick:()=>{y()?j(!1):k(2===T?tr:Ko)},isPressed:y(),iconPosition:"right",showTooltip:!0,label:y()?Object(x.__)("Close the site content panel","kubio"):Object(x.__)("Change page","kubio")},Object(s.createElement)(E.Flex,{align:"center",justify:"center"},Object(s.createElement)(E.FlexItem,{className:"edit-site-document-entity-title"},Object(s.createElement)("span",{className:"kubio-entity-title-text",dangerouslySetInnerHTML:{__html:Object(x.sprintf)(// translators: Editing current page
Object(x.__)("Editing: %s","kubio"),Object(x.sprintf)('<span class="kubio-entity-title-name">%s</span>',Object(qe.fromHtmlEntities)(null!=_?_:Object(x.__)("Page","kubio"))))}})),Object(s.createElement)(E.FlexItem,null,Object(s.createElement)(E.Icon,{icon:we.SwitchPages,size:22}))))))),Object(s.createElement)("div",{className:"edit-site-header_end"},Object(s.createElement)("div",{className:"edit-site-header__actions"},Object(s.createElement)(sc,{deviceType:n,setDeviceType:b}),Object(s.createElement)(or,{openEntitiesSavedStates:t}),P&&Object(s.createElement)(E.Button,{icon:Xe.a,label:Object(x.__)("Settings","kubio"),onClick:f,isPressed:o,"aria-expanded":o,className:"kubio-secondary-panel-toggler",shortcut:r}),Object(s.createElement)(ge.Slot,{scope:"kubio/edit-site"}),Object(s.createElement)(sr,null))))}function fc(e){let{openEntitiesSavedStates:t}=e;const{__experimentalGetDirtyEntityRecords:n,isSavingEntityRecord:o}=Object(w.useSelect)(k.store),{redo:r,undo:i}=Object(w.useDispatch)(k.store);return Object(Ee.useShortcut)("kubio/edit-site/save",(e=>{e.preventDefault();const r=n(),i=!!r.length;!r.some((e=>o(e.kind,e.name,e.key)))&&i&&t()})),Object(Ee.useShortcut)("kubio/edit-site/undo",(e=>{i(),e.preventDefault()})),Object(Ee.useShortcut)("kubio/edit-site/redo",(e=>{r(),e.preventDefault()})),null}fc.Register=function(){const{registerShortcut:e}=Object(w.useDispatch)(Ee.store);return Object(s.useEffect)((()=>{e({name:"kubio/edit-site/save",category:"global",description:Object(x.__)("Save your changes.","kubio"),keyCombination:{modifier:"primary",character:"s"}}),e({name:"kubio/edit-site/undo",category:"global",description:Object(x.__)("Undo your last changes.","kubio"),keyCombination:{modifier:"primary",character:"z"}}),e({name:"kubio/edit-site/redo",category:"global",description:Object(x.__)("Redo your last undo.","kubio"),keyCombination:{modifier:"primaryShift",character:"z"}}),e({name:"kubio/edit-site/toggle-list-view",category:"global",description:Object(x.__)("Open the block list view.","kubio"),keyCombination:{modifier:"access",character:"o"}})}),[e]),null};var gc=fc;const Oc=e=>{let{children:t,templateId:n,templateType:o,page:r}=e;const[i,l]=Object(s.useState)(!1),[a,c]=Object(s.useState)(!1),u=no(),[d,p]=Object(v.useGlobalSessionProp)("thirdPartyBlockInstalled",!1),{createSuccessNotice:b}=Object(w.useDispatch)("core/notices");Object(s.useEffect)((()=>{l(u)}),[u,n,o,r]);const m=Object(s.useCallback)((()=>{a||l(!1)}),[a]),h=Object(s.useCallback)((async()=>{c(!0);try{await eo()}catch(e){}p(!0),b(Object(x.__)("Kubio blog templates were imported successfully! Refresh the editor to enjoy the full site editing experience","kubio"),{isDismissible:!0,actions:[{label:Object(x.__)("Refresh page now","kubio"),onClick:()=>window.location.reload()}]}),l(!1)}),[]);return Object(s.createElement)(s.Fragment,null,i&&!d&&Object(s.createElement)(E.Modal,{title:Object(x.__)("💫 Start with the Kubio blog!","kubio"),onRequestClose:m,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,isDismissible:!a},Object(s.createElement)("p",null,Object(x.__)("Kubio comes with a fully customizable blog area for your site.","kubio"),Object(s.createElement)("br",null),Object(x.__)("Would you like to use the Kubio blog templates? ","kubio")),Object(s.createElement)(E.ButtonGroup,{className:"h-template-part-modal__button-group"},!a&&Object(s.createElement)(E.Button,{isLink:!0,onClick:m},Object(x.__)("Maybe later","kubio")),Object(s.createElement)(E.Button,{isPrimary:!0,isBusy:a,onClick:h},!a&&Object(x.__)("Import Kubio blog","kubio"),a&&Object(x.__)("Importing Kubio blog…","kubio")))),t)},vc="__experimentalMainDashboardButton",{Fill:_c,Slot:yc}=Object(E.createSlotFill)(vc),jc=_c;jc.Slot=e=>{let{children:t}=e;return Object(d.useSlotHasFills)(vc)?Object(s.createElement)(yc,{bubblesVirtually:!0}):t};var Ec=jc,Sc=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(M.Path,{d:"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z"})),kc=n(423),wc=n(558);const Cc=e=>{let{post:t,onCloseModal:n,onClickDuplicate:o}=e;const[r,i]=Object(s.useState)(!1),{createErrorNotice:l,createSuccessNotice:a}=Object(d.useKubioNotices)(),[c,u]=Object(s.useState)(""),{saveEntityRecord:p}=Object(w.dispatch)("core"),b=async(e,n,r)=>{i(!0);const s={title:r||c,status:"publish",content:null==t?void 0:t.content,excerpt:null==t?void 0:t.excerpt,meta:{...(null==t?void 0:t.meta)||{},saved_in_kubio:!0},template:null==t?void 0:t.template};let u=!1;try{u=await p(e,n,s),a(Object(x.sprintf)(Object(x.__)("%s saved successfully!","kubio"),s.title))}catch(e){console.error(e),l(Object(x.sprintf)(Object(x.__)("An error occurred. %s was not saved!","kubio"),s.title))}u&&o(u)};return Object(s.createElement)(E.Modal,{title:Object(x.__)("Duplicate page","kubio"),onRequestClose:e=>{e.stopPropagation(),n()},className:"block-editor-block-new-entity-modal",shouldCloseOnEsc:!r,shouldCloseOnClickOutside:!r,isDismissible:!r},Object(s.createElement)("div",{className:"popover__content"},Object(s.createElement)(Ye.InputControl,{value:c,onChange:e=>u(e),label:Object(x.__)("Title","kubio"),autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&b("postType",t.type,e.target.value)}}),Object(s.createElement)(E.__experimentalSpacer,{margin:3}),Object(s.createElement)(E.Button,{isPrimary:!0,isBusy:r,disabled:""===c,onClick:()=>{b("postType",t.type)},className:"add-button"},Object(x.__)("Duplicate page","kubio"))))},xc=e=>{var t,n;let{post:o,onCloseModal:r}=e;const[i,l]=Object(s.useState)(!1),{createErrorNotice:a,createSuccessNotice:c}=Object(d.useKubioNotices)();return Object(s.createElement)(E.Modal,{title:Object(x.__)("Delete ","kubio")+(null==o||null===(t=o.title)||void 0===t?void 0:t.raw)+Object(x.__)(" page?","kubio"),onRequestClose:e=>{e.stopPropagation(),r()},className:"block-editor-block-new-entity-modal",shouldCloseOnEsc:!i,shouldCloseOnClickOutside:!i,isDismissible:!i},Object(s.createElement)("p",null,Object(s.createElement)("span",{dangerouslySetInnerHTML:{__html:Object(x.sprintf)(// translators: %s: page name
Object(x.__)("The <strong>%s</strong> page will be moved in the trash.","kubio"),null==o||null===(n=o.title)||void 0===n?void 0:n.raw)}}),Object(s.createElement)("br",null),Object(x.__)("You can recover it later from WP Admin -> Pages -> Trash","kubio")),Object(s.createElement)(E.ButtonGroup,{className:"h-template-part-modal__button-group"},Object(s.createElement)(E.Button,{isLink:!0,onClick:r},Object(x.__)("Cancel","kubio")),Object(s.createElement)(E.Button,{isPrimary:!0,onClick:async()=>{l(!0),await Tc(o,a,c),r()}},Object(x.__)("Delete","kubio"))))},Tc=(e,t,n)=>{var o;const r=e.id,i=null==e||null===(o=e.title)||void 0===o?void 0:o.raw;try{Object(w.dispatch)("core").deleteEntityRecord("postType",e.type,parseInt(r)),n(i+Object(x.__)(" moved to trash!","kubio"))}catch(e){t(Object(x.sprintf)(//translators: $s is the page name
Object(x.__)("An error occurred. %s was not saved","kubio"),i))}},Ic=e=>{var t;const n=e.taxonomy?e.name:null==e||null===(t=e.title)||void 0===t?void 0:t.rendered,o=document.createElement("div");return o.innerHTML=n,o.textContent||o.innerText||""};function Pc(e){let{item:t}=e;const{setPage:n,setIsNavigationPanelOpened:o}=Object(w.useDispatch)(Se),{page_for_posts:r,page_on_front:i,show_on_front:l,wooCommercePagesIds:a,isActive:c}=Object(w.useSelect)((e=>{var n,o,r,i,l;const{page_for_posts:a,page_on_front:c,show_on_front:s}=e("core").getEditedEntityRecord("root","site"),u=null===(n=e("core/block-editor").getSettings())||void 0===n||null===(o=n.kubioBasicWooCommerce)||void 0===o?void 0:o.pagesIds,{getPage:d,getTemplateId:p,getTemplatePartId:b}=e(Se),m=[null===(r=d())||void 0===r||null===(i=r.context)||void 0===i||null===(l=i.postId)||void 0===l?void 0:l.toString(),p(),b()].filter(Boolean);return{page_for_posts:a,page_on_front:c,show_on_front:s,wooCommercePagesIds:Object.values(u||{}),isActive:m.includes(t.id.toString())}}),[]),{duplicateContainerRef:u,delContainerRef:d}=Object(s.useRef)(),[p,b]=Object(s.useState)(!1),[m,h]=Object(s.useState)(!1),[f,g]=Object(s.useState)(!1),[O,v]=Object(s.useState)({}),_=Object(s.useCallback)((()=>{const{type:e,slug:r,link:i,id:l}=null!=O&&O.id?O:t;n({type:e,slug:r,path:Object(Gn.getPathAndQueryString)(i),context:{postType:e,postId:l}}),o(!1)}),[n,t,O]),y=Object(s.useCallback)((()=>{c||g(!0)}),[g]),j=Object(s.useCallback)((()=>{b(!0)})),S=Object(s.useCallback)((()=>{h(!0)}));if(!t)return null;const k=Ic(t)||Object(x.__)("(no title)","kubio");let C,T;"page"===l&&i===t.id&&(C=Object(s.createElement)(E.Icon,{title:Object(x.__)("Homepage","kubio"),icon:Sc,size:18})),"page"===l&&r===t.id&&(C=Object(s.createElement)(E.Icon,{title:Object(x.__)("Posts page","kubio"),icon:kc.a,size:18})),-1!==a.indexOf(t.id)&&(C=Object(s.createElement)(E.Icon,{title:Object(x.__)("Posts page","kubio"),icon:we.WooCommerceSmallLogo,size:18}));const I=i!==t.id&&!c;"page"===l&&"page"===t.type&&r!==t.id&&(T=Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.DropdownMenu,{className:"kubio-more-menu",icon:rr.a,label:Object(x.__)("More tools & options","kubio"),popoverProps:{className:"edit-site-kubio-more-menu__content edit-site-more-menu__content",position:"bottom left",isAlternate:!0},toggleProps:{tooltipPosition:"bottom"}},(e=>{let{onClose:t}=e;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.MenuGroup,null,Object(s.createElement)(E.MenuItem,{icon:we.DuplicateItemIcon,ref:u,onClick:e=>{e.preventDefault(),j(e),t()},role:"menuitemcheckbox"},Object(x.__)("Duplicate","kubio")),I&&Object(s.createElement)(E.MenuItem,{icon:wc.a,ref:d,onClick:e=>{e.preventDefault(),S(e),t()},role:"menuitemcheckbox"},Object(x.__)("Delete","kubio"))))})),p&&Object(s.createElement)(Cc,{post:t,onCloseModal:()=>{b(!1)},onClickDuplicate:e=>{v(e),b(!1),g(!0)}}),m&&Object(s.createElement)(xc,{post:t,onCloseModal:()=>{h(!1)}})));const R=P()("edit-site-navigation-panel__content-item",{"kubio-navigation-item-active":c});return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.__experimentalNavigationItem,{className:R,item:`${t.taxonomy||t.type}-${t.id}`,title:k},Object(s.createElement)(E.Button,{onClick:y},C&&Object(s.createElement)("span",{className:"components-navigation__item-badge"},C),Object(s.createElement)("span",{className:"components-truncate components-text components-navigation__item-title"},k)),T),f&&Object(s.createElement)(Xl,{onComplete:_,closeModal:()=>g(!1),entityName:k}))}const Rc=e=>Object(h.deburr)(e).replace(/^\//,"").toLowerCase(),Mc=(e,t)=>-1!==Rc(e).indexOf(Rc(t));function Ac(e){let{item:t,icon:n}=e;const{title:o,description:r,isActive:i}=Object(w.useSelect)((e=>{var n,o,r,i;const{getPage:l,getTemplateId:a,getTemplatePartId:c}=e(Se),s=[null===(n=l())||void 0===n||null===(o=n.context)||void 0===o||null===(r=o.postId)||void 0===r?void 0:r.toString(),a(),c()].filter(Boolean);return{..."wp_template"===t.type?e("core/editor").__experimentalGetTemplateInfo(t):{title:(null==t||null===(i=t.title)||void 0===i?void 0:i.rendered)||(null==t?void 0:t.slug),description:""},isActive:s.includes(t.id.toString())}}),[]),{setTemplate:l,setTemplatePart:a,setIsNavigationPanelOpened:c,setPage:u}=Object(w.useDispatch)(Se),[d,p]=Object(s.useState)(!1),b=Object(s.useCallback)((()=>{i||p(!0)}),[p,i]);if(!t)return null;const m=P()("edit-site-navigation-panel__template-item",{"kubio-navigation-item-active":i});return Object(s.createElement)(E.__experimentalNavigationItem,{className:m,item:`${t.type}-${t.id}`,title:o,icon:n},Object(s.createElement)(E.Button,{onClick:b},Object(s.createElement)("span",{className:"edit-site-navigation-panel__info-wrapper"},Object(s.createElement)("div",{className:"edit-site-navigation-panel__template-item-title"},"draft"===t.status&&Object(s.createElement)("em",null,Object(x.__)("[Draft]","kubio")),o),r&&Object(s.createElement)("div",{className:"edit-site-navigation-panel__template-item-description"},r))),d&&Object(s.createElement)(Xl,{onComplete:()=>{"wp_template"===t.type?l(t.id,t.slug,!0):a(t.id),c(!1)},closeModal:()=>p(!1),entityName:o}))}function Nc(e){let{items:t,search:n}=e;const o=(null==t?void 0:t.length)>0?t[0].type:null,r=Object(w.useSelect)((e=>{if("wp_template"===o){const{__experimentalGetTemplateInfo:n}=e("core/editor");return t.map((e=>({slug:e.slug,...n(e)})))}return(t||[]).map((e=>{var t,n;return{slug:e.slug,title:null===(t=e.title)||void 0===t?void 0:t.rendered,description:null===(n=e.excerpt)||void 0===n?void 0:n.rendered}}))}),[t,o]),i=Object(s.useMemo)((()=>null===t||0===n.length?[]:t.filter((e=>{let{slug:t}=e;const{title:o,description:i}=r.find((e=>e.slug===t));return Mc(t,n)||Mc(o,n)||Mc(i,n)}))),[t,r,n]),l="wp_template"===o||"wp_template_part"===o?Ac:Pc;return Object(s.createElement)(E.__experimentalNavigationGroup,{title:Object(x.__)("Search results","kubio")},Object(h.map)(i,(e=>Object(s.createElement)(l,{item:e,key:`${e.type}-${e.id}`}))))}const Dc=e=>{let{kind:t="postType",entity:n,title:o,hasSearch:r=!0,parentMenu:i=Ko}=e;const{search:l,searchQuery:a,onSearch:c,isDebouncing:u}=function(){const[e,t]=Object(s.useState)(""),[n,o]=Object(s.useState)(""),[r,i]=Object(s.useState)(!1);Object(s.useEffect)((()=>{i(!1)}),[n]);const l=Object(s.useCallback)(Object(h.debounce)(o,75),[o]);return{search:e,searchQuery:n,isDebouncing:r,onSearch:Object(s.useCallback)((e=>{t(e),l(e),i(!0)}),[t,i,l])}}(),p=Object(w.useRegistry)(),{resetSelection:b}=p.dispatch(j.store),{setPage:m,setIsNavigationPanelOpened:O}=Object(w.useDispatch)(g.STORE_KEY),{saveEntityRecord:_}=Object(w.dispatch)("core"),{items:y,showOnFront:S,pageForPosts:k,pageOnFront:C,isResolved:T,siteURL:I}=Object(w.useSelect)((e=>{const{getEntityRecords:o,getEditedEntityRecord:r,hasFinishedResolution:i,getEntityRecord:l}=e("core"),c=[t,n,{search:a,status:"publish,private",per_page:50}],s=i("getEntityRecords",c),{page_for_posts:u,page_on_front:d}=e("core").getEditedEntityRecord("root","site");let p=o(...c);return"postType"===t&&"page"===n&&Object(h.isArray)(p)&&(p=[l("postType","page",d),l("postType","page",u),...p].filter(Boolean),p=Object(h.uniqBy)(p,(e=>parseInt(null==e?void 0:e.id)))),{items:p,isResolved:s,showOnFront:r("root","site").show_on_front,siteURL:e("core/block-editor").getSettings().siteUrl||"/",pageForPosts:u,pageOnFront:d,getEntityRecord:l}}),[a,n,t]),[P,R]=Object(s.useState)(""),[M,A]=Object(s.useState)(!1),[N,D]=Object(s.useState)(!1),[L,z]=Object(s.useState)(!1),[B,F]=Object(s.useState)({}),G=Object(s.useCallback)((()=>{A(!1),D(!0)}),[D]),H=async(e,t)=>{z(!0);const n={title:P,status:"publish",template:$,meta:{saved_in_kubio:!0}},o=await _(e,t,n);o&&(F(o),G(),z(!1),R(""))},{availableTemplates:U,isKubioTheme:W}=Object(w.useSelect)((e=>{const t=e(g.STORE_KEY),{getSettings:n}=e(j.store);return{availableTemplates:t.getAvailablePageTemplates(),isKubioTheme:n().isKubioTheme}}),[]),{templates:V,defaultTemplate:K}=Object(d.useDeepMemo)((()=>{let e,t=U;return W?(e=f.a.find(t,{value:"kubio-full-width"})?"kubio-full-width":"full-width",t=U):(e="",Object(h.find)(t,{value:e})||(e=f.a.find(t,{value:"kubio-full-width"})?"kubio-full-width":"full-width")),{defaultTemplate:e,templates:t}}),[U,W]),[$,Y]=Object(s.useState)(K),q=Object(d.useDeepMemo)((()=>{const e=V.reduce(((e,t)=>{const n=t.source||"custom";return{...e,[n]:[...e[n]||[],t]}}),{}),t=[];return f.a.forEach(g.templateGroupPriorities,(function(n){var o;null!==(o=e[n])&&void 0!==o&&o.length&&(t.push({value:"template-group-"+n,label:g.templateGroups[n],disabled:!0}),f.a.forEach(e[n],(function(e){t.push(e)})))})),t}),[V]),[X,Q]=Object(s.useState)(!1),Z=Object(s.useCallback)((()=>{Q(!1),m({type:"page",path:I,context:{queryContext:{page:1}}}),O(!1)}),[m]),J=Object(v.useSetGlobalSessionProp)("ready"),ee=Object(s.useCallback)((()=>{B&&(m({type:B.type,slug:B.slug,path:Object(Gn.getPathAndQueryString)(B.link),context:{postType:B.type,postId:B.id}}),z(!1),O(!1),setTimeout((()=>J(!0)),5e3))}),[m,B]),te=!T||l&&u;let ne=Object(s.createElement)(s.Fragment,null);"postType"===t&&"page"===n&&(ne=Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.Button,{isPrimary:!0,icon:Ie.a,iconPosition:"right",onClick:()=>{A(!0)},className:"kubio-new-page-btn",label:Object(x.__)("New","kubio")},Object(x.__)("New","kubio")),M&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.Modal,{title:Object(x.__)("Add page","kubio"),onRequestClose:()=>{A(!1)},className:"block-editor-block-new-entity-modal",shouldCloseOnEsc:!L,shouldCloseOnClickOutside:!L,isDismissible:!L},Object(s.createElement)("div",{className:"popover__content"},Object(s.createElement)(E.__experimentalInputControl,{value:P,onChange:e=>R(e),label:Object(x.__)("Title","kubio"),autoFocus:!0,onKeyPress:e=>{"Enter"===e.key&&H(t,n)}}),Object(s.createElement)(E.__experimentalSpacer,{margin:3}),Object(s.createElement)(E.SelectControl,{value:$,onChange:e=>Y(e),label:Object(x.__)("Template","kubio"),options:q}),Object(s.createElement)(E.__experimentalSpacer,{margin:6}),Object(s.createElement)(E.Button,{isPrimary:!0,isBusy:L,disabled:L||""===P.trim(),onClick:()=>{b(0,0,null),H(t,n)},className:"add-button"},Object(x.__)("Add page","kubio"))))),N&&Object(s.createElement)(Xl,{onComplete:ee,closeModal:()=>D(!1),entityName:P})));const oe=f.a.sortBy(y,(e=>"page"!==S||k!==e.id&&C!==e.id?1:0));return Object(s.createElement)(E.__experimentalNavigationMenu,{menu:`kubio-content-area-${t}-${n}`,title:o,parentMenu:i,hasSearch:r,onSearch:c,search:l,isSearchDebouncing:u||!T,titleAction:ne,className:"kubio-nav-menu-heading"},l&&!u&&Object(s.createElement)(Nc,{items:oe,search:l,disableFilter:!0}),!l&&Object(s.createElement)(s.Fragment,null,"posts"===S&&Object(s.createElement)(E.__experimentalNavigationItem,{item:"post-/",title:Object(x.__)("All Posts","kubio"),onClick:()=>Q(!0)},Object(s.createElement)(E.Button,{className:"components-button css-1g713f0 ejwewyf3"},Object(s.createElement)(E.Flex,{align:"center"},Object(s.createElement)(E.FlexItem,null,Object(s.createElement)(E.Icon,{icon:Sc,size:18})),Object(s.createElement)(E.FlexBlock,null,Object(s.createElement)("span",null,Object(x.__)("All Posts","kubio"))),X&&Object(s.createElement)(Xl,{onComplete:Z,closeModal:()=>D(!1),entityName:P})))),null==oe?void 0:oe.map((e=>Object(s.createElement)(Pc,{item:e,key:`${e.type||e.taxonomy}-${e.id}`})))),te&&Object(s.createElement)(E.__experimentalNavigationItem,{title:Object(x.__)("Loading…","kubio"),isText:!0}))};function Lc(e){var t,n;let{onActivateMenu:o,activeMenu:r}=e;const{page:i}=Object(w.useSelect)((e=>({page:e(g.STORE_KEY).getPage()})),[]),l=Object(s.useMemo)((()=>{var e,t;return[{kind:"postType",entity:"page",title:Object(x.__)("Pages","kubio")},{kind:"postType",entity:"post",title:Object(x.__)("Posts","kubio")},{kind:"taxonomy",entity:"category",title:Object(x.__)("Categories","kubio")},...(null===(e=window)||void 0===e||null===(t=e.kubioEditSiteSettings)||void 0===t?void 0:t.postTypes.filter((e=>"kubio_section"!==e.entity)))||[]]}),[null===(t=window)||void 0===t||null===(n=t.kubioEditSiteSettings)||void 0===n?void 0:n.postTypes]);return Object(s.createElement)(E.__experimentalNavigation,{activeItem:i&&`content-${i.path}`,activeMenu:r,onActivateMenu:e=>{o(e)}},r===Ko&&Object(s.createElement)(Ec.Slot,null,Object(s.createElement)(E.__experimentalNavigationBackButton,{backButtonLabel:Object(x.__)("Dashboard","kubio"),className:"edit-site-navigation-panel__back-to-dashboard",href:"index.php"})),Object(s.createElement)(E.__experimentalNavigationMenu,{title:Object(x.__)("Site Content","kubio")},null==l?void 0:l.map((e=>{let{kind:t,entity:n,title:o}=e;return Object(s.createElement)(E.__experimentalNavigationItem,{title:o,navigateToMenu:`kubio-content-area-${t}-${n}`,key:`${t}-${n}`})}))),null==l?void 0:l.map((e=>Object(s.createElement)(Dc,Object(T.a)({},e,{key:`${e.kind}-${e.entity}`})))))}function zc(e){let{menu:t,title:n,templateParts:o}=e;return Object(s.createElement)(E.__experimentalNavigationMenu,{menu:t,title:n,parentMenu:$o,isEmpty:!o||0===o.length},Object(h.map)(o,(e=>Object(s.createElement)(Ac,{item:e,key:`wp_template_part-${e.id}`}))))}function Bc(){const[e,t]=Object(s.useState)(""),n=Object(s.useCallback)((e=>{t(e)})),{isLoading:o,templateParts:r,templatePartsByArea:i}=Object(w.useSelect)((e=>{const t=e(k.store).getEntityRecords("postType","wp_template_part"),n=t||[],o=Object(h.groupBy)(n.map((e=>({...e,area:e.area||"uncategorized"}))),"area");return{isLoading:null===t,templateParts:n,templatePartsByArea:o}}),[]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.__experimentalNavigationMenu,{menu:$o,title:Object(x.__)("Template Parts","kubio"),parentMenu:Ko,hasSearch:!0,onSearch:n,search:e},e&&Object(s.createElement)(Nc,{items:r,search:e}),!e&&nr.map((e=>{let{title:t,menu:n}=e;return Object(s.createElement)(E.__experimentalNavigationItem,{key:`template-parts-navigate-to-${n}`,navigateToMenu:n,title:t,hideIfTargetMenuEmpty:!0})})),!e&&o&&Object(s.createElement)(E.__experimentalNavigationItem,{title:Object(x.__)("Loading…","kubio"),isText:!0})),nr.map((e=>{let{area:t,menu:n,title:o}=e;return Object(s.createElement)(zc,{key:`template-parts-menu-${n}`,menu:n,title:o,templateParts:i[t]})})))}function Fc(){const{defaultTemplateTypes:e,templates:t,classicThemePrimaryTemplates:n}=Object(w.useSelect)((e=>{const{getSettings:t}=e(Se),n=e("core").getEntityRecords("postType","wp_template");return{defaultTemplateTypes:t().defaultTemplateTypes,classicThemePrimaryTemplates:t().classicThemePrimaryTemplates,templates:n}}),[]),{addTemplate:o}=Object(w.useDispatch)(Se),r=Object(h.map)(t,"slug"),i=Object(h.filter)(e,(e=>Object(h.includes)(Object(h.uniq)([...Vo,...n]),e.slug)&&!Object(h.includes)(r,e.slug)));return i.length?Object(s.createElement)(E.DropdownMenu,{className:"edit-site-navigation-panel__new-template-dropdown",icon:null,label:Object(x.__)("Add Template","kubio"),popoverProps:{noArrow:!1},toggleProps:{children:Object(s.createElement)(E.Button,{isPrimary:!0,icon:Ie.a,iconPosition:"right",className:"kubio-new-page-btn",label:Object(x.__)("New","kubio")},Object(x.__)("New","kubio"))}},(t=>{let{onClose:n}=t;return Object(s.createElement)(E.NavigableMenu,{className:"edit-site-navigation-panel__new-template-popover"},Object(s.createElement)(E.MenuGroup,{label:Object(x.__)("Add Template","kubio")},Object(h.map)(i,(t=>{let{title:r,description:i,slug:l}=t;return Object(s.createElement)(E.MenuItem,{info:i,key:l,onClick:()=>{(t=>{const{title:n,description:r}=Object(h.find)(e,{slug:t});o({content:"__KUBIO_REPLACE_WITH_APPROPRIATE_CONTENT__",excerpt:r,slug:t.toString(),status:"publish",title:n,kubio_template_source:"kubio-custom"})})(l),n()}},r)}))))})):null}function Gc(e){let{menu:t,title:n,templates:o,parentMenu:r}=e;const i=!o||0===o.length;return!i&&Object(s.createElement)(E.__experimentalNavigationMenu,{menu:t,title:n,parentMenu:r,isEmpty:i},Object(h.map)(o,(e=>Object(s.createElement)(Ac,{item:e,key:`wp_template-${e.id}`}))))}const Hc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";return!!e&&(null==e?void 0:e.filter((e=>{let{kubio_template_source:n="custom"}=e;return n===t})))};function Uc(e){let{title:t,templates:n,menu:o,hasAdd:r=!0,parentMenu:i=Yo}=e;const l=Object(s.useMemo)((()=>{const e={},t=Hc(n,"kubio"),o=Hc(n,"theme"),r=!!n&&Object(h.difference)(n,[...t,...o]);return t&&t.length&&(e.kubio=t),o&&o.length&&(e.theme=o),r&&r.length&&(e.custom=o),e}),[n]),a=Object.keys(l).length<=1;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.__experimentalNavigationMenu,{menu:o,title:t,titleAction:r&&Object(s.createElement)(Fc,null),parentMenu:i},a&&Object(s.createElement)(s.Fragment,null,Object(h.map)(n,(e=>Object(s.createElement)(Ac,{item:e,key:`wp_template-${e.id}`,icon:we.KubioLogo})))),!a&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.__experimentalNavigationItem,{navigateToMenu:`${o}--${er}`,title:Object(x.__)("Kubio templates","kubio"),hideIfTargetMenuEmpty:!0}),Object(s.createElement)(E.__experimentalNavigationItem,{navigateToMenu:`${o}--${Jo}`,title:Object(x.__)("Theme templates","kubio"),hideIfTargetMenuEmpty:!0}),Object(s.createElement)(E.__experimentalNavigationItem,{navigateToMenu:`${o}--${Zo}`,title:Object(x.__)("Custom templates","kubio"),hideIfTargetMenuEmpty:!0}))),Object(s.createElement)(Gc,{menu:`${o}--${er}`,title:Object(x.__)("Kubio templates","kubio"),templates:l.kubio,parentMenu:o}),Object(s.createElement)(Gc,{menu:`${o}--${Jo}`,title:Object(x.__)("Theme templates","kubio"),templates:l.theme,parentMenu:o}),Object(s.createElement)(Gc,{menu:`${o}--${Zo}`,title:Object(x.__)("Custom templates","kubio"),templates:l.custom,parentMenu:o}))}function Wc(){var e,t,n,o,r,i;const[l,a]=Object(s.useState)(""),c=Object(s.useCallback)((e=>{a(e)})),{templates:u}=Object(w.useSelect)((e=>{const{getEntityRecords:t}=e(k.store);return{templates:t("postType","wp_template",{per_page:-1})}}),[]),p=Object(s.useMemo)((()=>(u||[]).reduce(((e,t)=>{let n="general";const o=t.slug;return Object(d.currentTemplateIsPage)(o)&&(n="page"),Object(d.currentTemplateIsPost)(o)&&(n="post"),{...e,[n]:[...e[n]||[],t]}}),{})),[u]);return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(E.__experimentalNavigationMenu,{menu:Yo,title:Object(x.__)("Templates","kubio"),titleAction:Object(s.createElement)(Fc,null),parentMenu:Ko,hasSearch:!0,onSearch:c,search:l},l&&Object(s.createElement)(Nc,{items:u,search:l}),!l&&Object(s.createElement)(s.Fragment,null,!(null===(e=p.page)||void 0===e||!e.length)&&Object(s.createElement)(E.__experimentalNavigationItem,{navigateToMenu:Xo,title:Object(x.__)("Page templates","kubio"),hideIfTargetMenuEmpty:!0}),!(null===(t=p.post)||void 0===t||!t.length)&&Object(s.createElement)(E.__experimentalNavigationItem,{navigateToMenu:Qo,title:Object(x.__)("Post templates","kubio"),hideIfTargetMenuEmpty:!0}),!(null===(n=p.general)||void 0===n||!n.length)&&Object(s.createElement)(E.__experimentalNavigationItem,{navigateToMenu:qo,title:Object(x.__)("General templates","kubio"),hideIfTargetMenuEmpty:!0})),!l&&null===u&&Object(s.createElement)(E.__experimentalNavigationItem,{title:Object(x.__)("Loading…","kubio"),isText:!0})),!(null===(o=p.page)||void 0===o||!o.length)&&Object(s.createElement)(Uc,{menu:Xo,title:Object(x.__)("Page templates","kubio"),templates:p.page,hasAdd:!1,category:"page"}),!(null===(r=p.post)||void 0===r||!r.length)&&Object(s.createElement)(Uc,{menu:Qo,title:Object(x.__)("Post templates","kubio"),templates:p.post,category:"post",hasAdd:!1}),!(null===(i=p.general)||void 0===i||!i.length)&&Object(s.createElement)(Uc,{menu:qo,title:Object(x.__)("General templates","kubio"),templates:p.general,hasAdd:!1,category:"general"}))}function Vc(e){let{activeMenu:t,onActivateMenu:n}=e;const{postId:o,postType:r}=Object(w.useSelect)((e=>{const{getEditedPostType:t,getEditedPostId:n}=e(Se);return{postId:n(),postType:t()}}),[]);return Object(s.createElement)(E.__experimentalNavigation,{activeItem:`${r}-${o}`,activeMenu:t,onActivateMenu:e=>{n(e)}},Object(s.createElement)(E.__experimentalNavigationMenu,{title:Object(x.__)("Advanced","kubio")},Object(s.createElement)(E.__experimentalNavigationItem,{title:Object(x.__)("Templates","kubio"),navigateToMenu:Yo}),Object(s.createElement)(E.__experimentalNavigationItem,{title:Object(x.__)("Template Parts","kubio"),navigateToMenu:$o}),Object(s.createElement)(Wc,{activeMenu:t}),Object(s.createElement)(Bc,null)))}var Kc=e=>{let{isOpen:t}=e;const[n,o]=Object(s.useState)(Ko),[r,i]=Object(s.useState)(Ko),{siteTitle:l,openedMenu:a}=Object(w.useSelect)((e=>{const{getEntityRecord:t}=e("core");return{siteTitle:(t("root","__unstableBase",void 0)||{}).name,openedMenu:e(Se).getNavigationMenu()}}),[]),c=Object(s.useRef)();Object(s.useEffect)((()=>{t&&c.current.focus()}),[r]);const u=Object(S.usePrevious)(t);Object(s.useEffect)((()=>{a&&t&&!u&&o(a)}),[n,t,a]);const{setIsNavigationPanelOpened:d}=Object(w.useDispatch)(Se);return Object(s.createElement)("div",{className:P()("edit-site-navigation-panel",{"is-open":t}),ref:c,tabIndex:"-1",onKeyDown:e=>{e.keyCode===dc.ESCAPE&&(e.stopPropagation(),d(!1))}},Object(s.createElement)("div",{className:"edit-site-navigation-panel__inner"},Object(s.createElement)("div",{className:"edit-site-navigation-panel__site-title-container"},Object(s.createElement)(E.Flex,null,Object(s.createElement)(E.FlexBlock,null,Object(s.createElement)("div",{className:"edit-site-navigation-panel__site-title"},l)),Object(s.createElement)(E.FlexItem,null,Object(s.createElement)(E.Tooltip,{text:Object(x.__)("Close panel","kubio")},Object(s.createElement)(E.Button,{className:"kubio-edit-site-navigation-panel__close-button",icon:Te.a,onClick:()=>d(!1)}))))),Object(s.createElement)("div",{className:"edit-site-navigation-panel__scroll-container"},r===Ko&&Object(s.createElement)(Lc,{onActivateMenu:o,activeMenu:n}),n===Ko&&Object(s.createElement)(Vc,{activeMenu:r,onActivateMenu:i}))))},$c=function(e){let{isOpen:t}=e;const{isActive:n}=Object(w.useSelect)((e=>{const{isFeatureActive:t}=e(g.STORE_KEY);return{isActive:t("fullscreenMode")}}),[]),{setIsNavigationPanelOpened:o}=Object(w.useDispatch)(g.STORE_KEY);if(!n)return null;const r=Object(s.createElement)(E.Icon,{size:"36px",icon:we.HamburgerMenu});return Object(s.createElement)("div",{className:"edit-site-navigation-toggle"+(t?" is-open":"")},Object(s.createElement)(E.Button,{className:"edit-site-navigation-toggle__button has-icon",label:Object(x.__)("Toggle navigation","kubio"),onClick:()=>o(!t),showTooltip:!0},r))};const{Fill:Yc,Slot:qc}=Object(E.createSlotFill)("EditSiteNavigationPanelPreview");function Xc(){const e=Object(w.useSelect)((e=>e(Se).isNavigationOpened()));return Object(s.createElement)(s.Fragment,null,Object(s.createElement)($c,{isOpen:e}),e&&Object(s.createElement)(Kc,{isOpen:e}),Object(s.createElement)(qc,null))}const Qc=()=>{const e=Object(w.useSelect)((e=>e(m.store).getNotices().filter((e=>"snackbar"===e.type)).map((e=>({...e,className:`is-${e.status}`})))),[]),{removeNotice:t}=Object(w.useDispatch)(m.store);return Object(s.createElement)(E.SnackbarList,{className:"components-editor-notices__snackbar edit-site-notices",notices:e,onRemove:t})};function Zc(){const{setIsListViewOpened:e}=Object(w.useDispatch)(g.STORE_KEY),{clearSelectedBlock:t,selectBlock:n}=Object(w.useDispatch)(j.store),o=Object(S.useFocusOnMount)("firstElement"),r=Object(S.useFocusReturn)(),i=`edit-site-editor__list-view-panel-label-${Object(S.useInstanceId)(Zc)}`;return Object(s.createElement)("div",{"aria-labelledby":i,className:"edit-site-editor__list-view-panel",onKeyDown:function(t){t.keyCode!==dc.ESCAPE||t.defaultPrevented||e(!1)}},Object(s.createElement)("div",{className:"edit-site-editor__list-view-panel-header"},Object(s.createElement)("strong",{id:i},Object(x.__)("List view","kubio")),Object(s.createElement)(E.Button,{icon:L.a,label:Object(x.__)("Close list view sidebar","kubio"),onClick:()=>e(!1)})),Object(s.createElement)("div",{className:"edit-site-editor__list-view-panel-content",ref:Object(S.useMergeRefs)([r,o])},Object(s.createElement)(j.__experimentalListView,{onSelect:async function(e){await t(),n(e,-1)},showNestedBlocks:!0,__experimentalFeatures:!0,__experimentalPersistentListViewFeatures:!0})))}function Jc(){const{setTemplate:e,setTemplatePart:t,showHomepage:n,setPage:o}=Object(w.useDispatch)(g.STORE_KEY),{siteUrl:r,state:i}=window.kubioEditSiteSettings;Object(s.useEffect)((()=>{var l,a,c,s;const u=window.location.href;let d=Object(Gn.getQueryArg)(u,"postId")||(null==i||null===(l=i.entity)||void 0===l||null===(a=l.context)||void 0===a?void 0:a.postId);d=isNaN(parseInt(d))?d:parseInt(d);const p=Object(Gn.getQueryArg)(u,"pageURL");if(!d&&!p)return void n();const m=Object(Gn.getQueryArg)(u,"postType")||(null==i||null===(c=i.entity)||void 0===c||null===(s=c.context)||void 0===s?void 0:s.postType);if(p)o({path:p});else if("wp_template"===m)e(d);else if("wp_template_part"===m)t(d);else if(m){var h,f,g;const e=(null==i||null===(h=i.entity)||void 0===h||null===(f=h.context)||void 0===f?void 0:f.postId)===d?null==i||null===(g=i.entity)||void 0===g?void 0:g.path:`${r}?p=${d}`;o({context:{postType:m,postId:d},path:e})}else n();Object(b.doAction)("kubio.afterEntitySet")}),[]);const l=function(){const e=Object(s.useRef)(),t=Object(w.useSelect)((e=>{var t,n;const{getEditedPostType:o,getEditedPostId:r,getPage:i}=e(g.STORE_KEY),l=i();let a=r(),c=o();return null!=l&&null!==(t=l.context)&&void 0!==t&&t.postId&&null!=l&&null!==(n=l.context)&&void 0!==n&&n.postType&&(a=l.context.postId,c=l.context.postType),a&&c?{postId:a,postType:c,page:l}:{page:l}}));return Dt()(e.current,t)||(e.current=t),e.current}();return Object(s.useEffect)((()=>{const e=Object(Gn.removeQueryArgs)(window.location.href,"postType","postId","pageURL"),{page:t,...n}=l,o=l?Object(Gn.addQueryArgs)(e,n):e;window.history.replaceState({},"",o)}),[l]),null}const es=Object(s.createContext)({}),ts=[Object(xe.getNamesOfBlocks)().HEADER,Object(xe.getNamesOfBlocks)().FOOTER,Object(xe.getNamesOfBlocks)().SIDEBAR,"core/template-part","core/post-content"],ns=e=>{let{children:t,blockContext:n,templateId:o,templateType:r,page:i}=e;const l=Object(s.useRef)([]),[a,c]=Object(s.useState)(!1),u=Object(v.useSetGlobalSessionProp)("ready"),d=Object(v.useGetGlobalSessionProp)("ready",!1),p=Object(s.useRef)(d),{entitiesFinished:b,postLoaded:m,isEmptyPost:f,isPost:g,postEntity:O}=Object(w.useSelect)((e=>{const{getEditedEntityRecord:t,hasFinishedResolution:n}=e("core"),{getCurrentPostType:i,getCurrentPostId:a}=e(Dn.STORE_KEY),c=!(!d&&o&&r)||l.current.reduce(((e,n)=>{let{theme:o,slug:r,content:i}=n,l=!0;var a;return i||(l=!o||!r||!Object(h.isUndefined)(null===(a=t("postType","wp_template_part",`${o}//${r}`))||void 0===a?void 0:a.content)),e&&l}),!0);let s=!0;const u=i(),p=a();let b,m=!1,f=!1;var g;return u&&p&&(["wp_template","wp_template_part"].includes(u)||(m=!0,f=t("postType",u,p),b=null===(g=f)||void 0===g?void 0:g.content,s=!Object(h.isUndefined)(b)&&n("getEditedEntityRecord",["postType",u,p]))),{entitiesFinished:c||s,postLoaded:s,postEntity:f,isEmptyPost:u&&p&&!Object(h.isUndefined)(b)&&Object(h.isString)(b)&&!(b.includes("\x3c!-- wp:")||b.includes("\x3c!--wp:")),isPost:m}}),[l.current.length,d,n,o,o]),_=Object(S.useDebounce)(Object(s.useCallback)((()=>{c(!0)}),[]),200),y=Object(s.useCallback)((e=>{if(u(e),e&&top.kubioStartTime){const e=Math.floor(performance.now()-top.kubioStartTime)/1e3;console.log("Kubio ready in: "+e+" seconds"),top.kubioStartTime=null}}),[]),j=Object(s.useCallback)((e=>{p.current!==e&&e&&Object(fo.updateAllStyleManagers)((()=>{y(e)}))}),[]),E=Object(S.useDebounce)(j,500),k=Object(S.useDebounce)(Object(s.useCallback)((()=>{j(!0),c(!0)}),[]),2e3),C=Object(S.useDebounce)(Object(s.useCallback)((()=>{j(!0),c(!0)}),[]),1e4);Object(s.useEffect)((()=>{Object(h.debounce)(j,15e3)}),[]);const{editEntityRecord:x}=Object(w.useDispatch)("core");Object(s.useEffect)((()=>{const e=O.content;g&&e&&"function"!=typeof e&&!O.blocks&&x("postType",O.type,O.id,{blocks:Object(Ve.parse)(e)},{undoIgnore:!0})}),[g,O,f]);const T=Object(S.usePrevious)(d);Object(s.useEffect)((()=>{p.current=d,T&&!d&&(c(!1),l.current=[])}),[d,T]),Object(s.useLayoutEffect)((()=>{if(!d)if(b){if(C.cancel(),k.cancel(),E.cancel(),g&&m&&f)return void k(!0);if(g)return void E(a);E(!0)}else k.cancel(),C(!0)}),[m,g,f,b,a,d,i,o,r]);const I=Object(s.useCallback)(((e,t)=>{let{theme:n,slug:o}=t;ts.includes(e)&&(n&&o?Object(h.find)(l.current,{theme:n,slug:o})||l.current.push({theme:n,slug:o}):"core/post-content"===e&&l.current.push({content:!0})),_()}),[]),P=Object(s.useMemo)((()=>({isReady:d,markAsLoaded:I})),[d]);return Object(s.createElement)(es.Provider,{value:P},t)},os=Object(S.createHigherOrderComponent)((e=>t=>{const{markAsLoaded:n}=Object(s.useContext)(es);return Object(s.useLayoutEffect)((()=>{n(t.name,t.attributes)}),[]),Object(s.createElement)(e,t)}),"BlockListEditorStateReady");function rs(){return function(){const[e,t]=Object(y.useGlobalStylesOutput)(),{getSettings:n}=Object(w.useSelect)(Se),{updateSettings:o}=Object(w.useDispatch)(Se);Object(s.useEffect)((()=>{var r;if(f.a.isEmpty(e)||f.a.isEmpty(t))return;const i=n(),l=(null==i||null===(r=i.styles)||void 0===r?void 0:r.filter((e=>!e.isGlobalStyles||"base-layout"===e.__unstableType)))||[],a=Object(qe.mergeNoArrays)({},i,{styles:[...l,...e],__experimentalFeatures:t});o(a)}),[e,t])}(),null}Object(b.addFilter)("editor.BlockListBlock","kubio/style/BlockListEditorStateReady",Object(S.compose)([os]),1);const is={secondarySidebar:Object(x.__)("Block Library","kubio"),drawer:Object(x.__)("Navigation Sidebar","kubio")},ls=Object(S.createHigherOrderComponent)((e=>t=>{var n,o,r,i;let{initialSettings:l}=t;const{isFullscreenActive:a,sidebarIsOpened:c,settings:u,templateId:p,templateType:b,page:m,isNavigationOpen:O,isInserterOpen:v,isListViewOpen:_,isFSETemplate:y}=Object(w.useSelect)((e=>{const{isFeatureActive:t,getSettings:n,getEditedPostType:o,getEditedPostId:r,getPage:i,isNavigationOpened:l,isListViewOpened:a}=e(g.STORE_KEY),c=o(),s=r();return{isFullscreenActive:t("fullscreenMode"),sidebarIsOpened:e(g.STORE_KEY).isEditorSidebarOpened(),settings:n(),templateType:c,page:i(),templateId:s,isNavigationOpen:l(),isInserterOpen:e(g.STORE_KEY).getOpenedInserter(),isFSETemplate:!!s&&!!c,isListViewOpen:a()}}),[]),{postId:j,post:E,currentTemplateId:S,isKubioTheme:k}=Object(w.useSelect)((e=>{const t=f.a.get(m,["context","postId"]),n=f.a.get(m,["context","postType"]),{getEntityRecords:o,getEntityRecord:r}=e("core"),{getTemplateId:i=f.a.noop}=e("kubio/edit-site");if(!t||!n)return{postId:null,currentTemplateId:null,isKubioTheme:null,post:{}};let l;if(["wp_template","wp_template_part"].includes(n)){const e=o("postType",n,{wp_id:t});l=null==e?void 0:e[0]}else l=r("postType",n,parseInt(t));const a=i(),{getEditorSettings:c}=e(C.store);return{postId:t,currentTemplateId:a,isKubioTheme:c().supportsTemplateMode,post:l}}),[null==m||null===(n=m.context)||void 0===n?void 0:n.postId,null==m||null===(o=m.context)||void 0===o?void 0:o.postType]),{openSidebar:T}=Object(w.useDispatch)(g.STORE_KEY),{createInfoNotice:I}=Object(w.useDispatch)("core/notices");Object(s.useEffect)((()=>{T("document")}),[]);const{editEntityRecord:P}=Object(w.useDispatch)("core"),{updateEditorSettings:R,setupEditorState:M}=Object(w.useDispatch)("core/editor"),{defaultTemplateTypes:A}=u;Object(s.useEffect)((()=>{R({...l,defaultTemplateTypes:A})}),[A,l,R]),Object(s.useLayoutEffect)((()=>{const e=f.a.get(m,["context","postId"]),t=f.a.get(m,["context","postType"]);e&&t&&M({id:e,type:t})}),[null==m||null===(r=m.context)||void 0===r?void 0:r.postId,null==m||null===(i=m.context)||void 0===i?void 0:i.postType]),Object(s.useLayoutEffect)((()=>{var e;if(E&&"page"===E.type&&(null===(e=E.meta)||void 0===e||!e.saved_in_kubio)&&Object(h.isString)(S)){const e=k?"full-width":"kubio-full-width",t=S.includes(e),n=f.a.get(E,["content","raw"]),o=f.a.get(E,"template"),r=f.a.get(E,"id"),i=f.a.get(E,"type");!n&&t&&""===o&&(Object(d.markLastChangeAsPersistent)(),P("postType",i,r,{template:e}),I(Object(x.__)('New empty page detected. Page template was set to "Full Width"',"kubio"),{type:"snackbar"}))}}),[S,P,k,E,j]);const N={isListViewOpen:_,isFullscreenActive:a,sidebarIsOpened:c,templateId:p,templateType:b,page:m,isNavigationOpen:O,isInserterOpen:v,isFSETemplate:y,__experimentalGlobalStylesBaseStyles:u.__experimentalGlobalStylesBaseStyles,__experimentalGlobalStylesUserEntityId:u.__experimentalGlobalStylesUserEntityId};return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(e,N),Object(s.createElement)(Jc,null))}),"WithEditorCurrentEntity");var as=Object(S.compose)(ls,S.pure)((function(e){const{__experimentalGlobalStylesUserEntityId:t,sidebarIsOpened:n,templateId:o,templateType:r,page:i,isNavigationOpen:l,isInserterOpen:a,isListViewOpen:c,isFSETemplate:p}=e,{setPage:b}=Object(w.useDispatch)("core/editor"),m=Object(d.useActiveMedia)(),[h,f]=Object(s.useState)(!1),S=Object(s.useCallback)((()=>f(!0)),[]),T=Object(s.useCallback)((()=>{f(!1)}),[]);(function(){const{hasBlockSelection:e,isEditorSidebarOpened:t,isGlobalStyleEditing:n}=Object(w.useSelect)((e=>({hasBlockSelection:!!e("core/block-editor").getBlockSelectionStart(),isEditorSidebarOpened:e(g.STORE_KEY).isEditorSidebarOpened(),isGlobalStyleEditing:e(g.STORE_KEY).isGlobalStyleEditing()})),[]),{openSidebar:o}=Object(w.useDispatch)(g.STORE_KEY);Object(s.useEffect)((function(){t&&o(e?"block-inspector":n?"document/general-settings":"document")}),[e,t,n])})(),(()=>{const[e,t]=Object(s.useState)({}),[,n]=Object(so.useCurrentInspectorTab)(),o=Object(w.useSelect)((e=>{const t=e("core/block-editor").getSelectedBlock();return{clientId:null==t?void 0:t.clientId,name:null==t?void 0:t.name}}));Object(s.useEffect)((()=>{(null==e?void 0:e.clientId)!==(null==o?void 0:o.clientId)&&(null==e?void 0:e.name)!==(null==o?void 0:o.name)&&(n("content"),t(o))}),[o,e,t,n])})();const I=Object(v.useGetGlobalSessionProp)("ready",!1),R=Object(s.useMemo)((()=>({...null==i?void 0:i.context,queryContext:[(null==i?void 0:i.context.queryContext)||{page:1},e=>b({...i,context:{...null==i?void 0:i.context,queryContext:{...null==i?void 0:i.context.queryContext,...e}}})]})),[JSON.stringify(null==i?void 0:i.context)]);Object(s.useEffect)((()=>{l?document.body.classList.add("is-navigation-sidebar-open"):document.body.classList.remove("is-navigation-sidebar-open")}),[l]),Object(s.useEffect)((()=>Object(u.initializeGutentagPatterns)()),[]);const{uiVersion:M}=Object(O.useUIVersion)(),A=P()("kubio-sidebar",{"kubio-sidebar-hidden":(!n||a||c)&&1===M}),N=P()("kubio-secondary-sidebar",{"kubio-secondary-sidebar-hidden":!(a||c)&&1===M}),{createErrorNotice:D}=Object(w.useDispatch)("core/notices");let L=Object(s.createElement)(s.Fragment,null),z=Object(s.createElement)(s.Fragment,null);I&&(2===M?z=Object(s.createElement)("div",{className:"kubio-sidebar-v2-wrapper"},c&&Object(s.createElement)("div",{className:"kubio-sidebar-list-view"},Object(s.createElement)(Zc,null)),Object(s.createElement)("div",{className:A},Object(s.createElement)(_e.Slot,{scope:`${g.STORE_KEY}/sidebars`})),Object(s.createElement)("div",{className:N},a&&Object(s.createElement)(Me,null))):(L=Object(s.createElement)("div",{className:A},Object(s.createElement)(_e.Slot,{scope:`${g.STORE_KEY}/sidebars`})),z=Object(s.createElement)("div",{className:N},a&&Object(s.createElement)(Me,null),c&&Object(s.createElement)(Zc,null))));const B=Object(s.createElement)(ns,{blockContext:R,templateId:o,templateType:r,page:i},Object(s.createElement)(_.KubioGlobalDataContextProvider,null,Object(s.createElement)(rt,null,Object(s.createElement)(y.GlobalStylesProvider,null,Object(s.createElement)(j.BlockContextProvider,{value:R},Object(s.createElement)(rs,null),Object(s.createElement)(gc.Register,null),Object(s.createElement)(ao,null),Object(s.createElement)(je,{labels:is,drawer:Object(s.createElement)(Xc,null),sidebar:L,secondarySidebar:z,header:Object(s.createElement)(hc,{openEntitiesSavedStates:S}),notices:Object(s.createElement)(Qc,null),content:Object(s.createElement)(s.Fragment,null,Object(s.createElement)(C.EditorNotices,null),p&&Object(s.createElement)(Mo,null),!p&&Object(s.createElement)(Ao,null),Object(s.createElement)(gc,{openEntitiesSavedStates:S}),Object(s.createElement)("div",{id:"kubio-toolbar-boundary"})),actions:Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Uo,{isOpen:h,close:T})),footer:Object(s.createElement)(j.BlockBreadcrumb,null)}),Object(s.createElement)(E.Popover.Slot,null),Object(s.createPortal)(Object(s.createElement)("div",{className:"kubio-popover-slot-container"},Object(s.createElement)(E.Popover.Slot,{name:"kubio-popover-slot"})),document.body),Object(s.createElement)(ae.PluginArea,{onError:function(e){D(Object(x.sprintf)(/* translators: %s: plugin name */Object(x.__)('The "%s" plugin has encountered an error and cannot be rendered.',"kubio"),e))}}))))));return Object(s.createElement)("div",{className:P()("kubio-editor-wrapper",`kubio-editor-wrapper--media-${m}`)},Object(s.createElement)(ye,{isActive:!0}),Object(s.createElement)(C.UnsavedChangesWarning,null),Object(s.createElement)(Ee.ShortcutProvider,null,Object(s.createElement)(E.SlotFillProvider,null,Object(s.createElement)(k.EntityProvider,{kind:"root",type:"site"},p&&Object(s.createElement)(k.EntityProvider,{kind:"postType",type:r,id:o},Object(s.createElement)(k.EntityProvider,{kind:"postType",type:"wp_global_styles",id:t},B)),!p&&B))),Object(s.createElement)("div",{id:"vue-main-instance"}),I&&Object(s.createElement)(s.Fragment,null,Object(s.createElement)(No,null),Object(s.createElement)(Oc,{blockContext:R,templateId:o,templateType:r,page:i})))})),cs=n(145);Object(b.addFilter)("editor.MediaUpload","kubio/edit-site/components/media-upload",(()=>cs.MediaUpload)),Object(b.addFilter)("editor.BlockEdit","kubio/advancedPanel",Yt.withInspectorControlsAdvancedPanel);var ss=n(267);const us={features:{fullscreenMode:!0}},ds=Object(w.combineReducers)({features(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:us.features,t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_FEATURE"===t.type?{...e,[t.feature]:!e[t.feature]}:e}});var ps=Object(w.combineReducers)({preferences:ds,deviceType:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Desktop",t=arguments.length>1?arguments[1]:void 0;return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},settings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SETTINGS":return{...e,...t.settings};case"UPDATE_UI_VERSION":return Jn()({path:Object(Gn.addQueryArgs)("/kubio/v1/update-ui-version",{version:t.version})}),{...e,kubioGlobalSettings:{...e.kubioGlobalSettings||{},editorUIVersion:t.version}}}return e},editedPost:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEMPLATE":case"SET_PAGE":return{type:"wp_template",id:t.templateId,page:t.page};case"SET_PAGE_CONTENT":return{page:t.page};case"SET_TEMPLATE_PART":return{type:"wp_template_part",id:t.templatePartId,page:{context:{}}}}return e},homeTemplateId:function(e,t){return"SET_HOME_TEMPLATE"===t.type?t.homeTemplateId:e},navigationPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{menu:Ko,isOpen:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return{...e,isOpen:!0,menu:t.menu};case"SET_IS_NAVIGATION_PANEL_OPENED":return{...e,menu:t.isOpen?e.menu:Ko,isOpen:t.isOpen};case"SET_IS_INSERTER_OPENED":return{...e,menu:e.isOpen&&t.isOpen?Ko:e.menu,isOpen:!t.isOpen&&e.isOpen}}return e},blockInserterPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return!1;case"SET_IS_NAVIGATION_PANEL_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.isOpen}return e},currentAncestor:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_CURRENT_ANCESTOR"===t.type?t.currentAncestor:e},templateId:function(e,t){switch(t.type){case"SET_TEMPLATE":case"ADD_TEMPLATE":case"SET_PAGE":case"SET_ENTITY":return t.templateId;case"SET_TEMPLATE_PART":return}return e},templatePartId:function(e,t){return"SET_TEMPLATE_PART"===t.type?t.templatePartId:e},templateType:function(e,t){switch(t.type){case"SET_TEMPLATE":case"ADD_TEMPLATE":case"SET_PAGE":case"SET_ENTITY":return"wp_template";case"SET_TEMPLATE_PART":return"wp_template_part"}return e},templateIds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TEMPLATE":return[...e,t.templateId];case"REMOVE_TEMPLATE":return e.filter((e=>e!==t.templateId))}return e},templatePartIds:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},page:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":case"SET_PAGE_CONTENT":case"SET_TEMPLATE":return t.page;case"SET_TEMPLATE_PART":return{context:{}}}return e},entity:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"SET_ENTITY"===t.type?t.entity:e},showOnFront:function(e){return e},subSidebars:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SUBSIDEBAR":return e[t.areaIdentifier]?e:{...e,[t.areaIdentifier]:t.sidebar};case"REMOVE_SUBSIDEBAR":return{...e,[t.areaIdentifier]:!1}}return e},globalStyleEditing:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:void 0,previousEntity:null},t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_GLOBAL_STYLE_EDITING"===t.type?{...e,value:t.value,previousEntity:t.previousEntity}:e},openedInserter:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_IS_INSERTER_OPEN"===t.type?(t.options=t.options||{},Dt()(e,t)?e:{value:null==t?void 0:t.value,clientId:null==t?void 0:t.rootClientId,options:(null==t?void 0:t.options)||{}}):e},isGutentagDebug:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"TOGGLE_GUTENTAG_DEBUG"===t.type?null==t?void 0:t.value:e},classicTemplate:function(e,t){switch(t.type){case"SET_PAGE":case"SET_PAGE_CONTENT":return{...e,id:null==t?void 0:t.classicTemplateId}}return e},listViewPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NAVIGATION_PANEL_TO_MENU":return!1;case"SET_IS_NAVIGATION_PANEL_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e}});const{select:bs,dispatch:ms}=w.controls;function hs(e){return{type:"TOGGLE_FEATURE",feature:e}}function fs(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function gs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function*(){const o={templateSlug:t};if(!t){const t=yield w.controls.resolveSelect("core","getEntityRecord","postType","wp_template",e);o.templateSlug=null==t?void 0:t.slug}return{type:"SET_TEMPLATE",templateId:e,page:{context:n?{}:o}}}()}function*Os(e){const t=yield w.controls.dispatch("core","saveEntityRecord","postType","wp_template",e);return{type:"SET_TEMPLATE",templateId:t.id,page:{context:{templateSlug:t.slug}}}}function*vs(e){yield Object(ss.apiFetch)({path:`/wp/v2/templates/${e}`,method:"DELETE"});const t=yield w.controls.select(g.STORE_KEY,"getPage");yield w.controls.dispatch(g.STORE_KEY,"setPage",t)}function _s(e){return{type:"SET_TEMPLATE_PART",templatePartId:e}}function ys(e){return{type:"SET_HOME_TEMPLATE",homeTemplateId:e}}function js(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function*(){var o;if(!e.path&&null!==(o=e.context)&&void 0!==o&&o.postId){const t=yield w.controls.resolveSelect("core","getEntityRecord","postType",e.context.postType||"post",e.context.postId);e.path=Object(Gn.getPathAndQueryString)(t.link)}if(!n)return void(yield{type:"SET_PAGE_CONTENT",page:e,classicTemplateId:""!==t?t:"page.php"});let r;if(!t&&n&&(r=yield w.controls.resolveSelect("core","__experimentalGetTemplateForLink",Object(Gn.addQueryArgs)(e.path,{_:Date.now()})),!r))return void(yield{type:"SET_PAGE",page:e,templateId:null});const i=t||r,{id:l,slug:a}=i;return yield{type:"SET_PAGE",page:a?{...e,context:{...e.context,templateSlug:a}}:e,templateId:l},l}()}function*Es(){const{show_on_front:e,page_on_front:t}=yield w.controls.resolveSelect("core","getEntityRecord","root","site"),{siteUrl:n}=yield w.controls.select(g.STORE_KEY,"getSettings"),o={path:n,context:"page"===e?{postType:"page",postId:t}:{}},r=yield*js(o);if(!r)return{type:"GUTENTAG_NO_ACTION"};yield ys(r)}function Ss(e){return{type:"OPEN_NAVIGATION_PANEL_TO_MENU",menu:e}}function ks(e){return{type:"SET_IS_NAVIGATION_PANEL_OPENED",isOpen:e}}function ws(e){return{type:"UPDATE_SETTINGS",settings:e}}function*Cs(e){return yield ms("core/interface","enableComplementaryArea",`${g.STORE_KEY}/sidebars`,`${g.STORE_KEY}/sidebar/${e}`)}function*xs(){return yield ms("core/interface","enableComplementaryArea",`${g.STORE_KEY}/sidebars`,`${g.STORE_KEY}/sidebar/block-inserter`)}function Ts(e){let{areaIdentifier:t,sidebar:n}=e;return function*(){return{type:"ADD_SUBSIDEBAR",sidebar:n,areaIdentifier:t}}()}function Is(e){let{areaIdentifier:t}=e;return function*(){return{type:"REMOVE_SUBSIDEBAR",areaIdentifier:t}}()}function*Ps(){yield ms("core/interface","disableComplementaryArea",`${g.STORE_KEY}/sidebars`)}function Rs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function*(){return{type:"TOGGLE_GLOBAL_STYLE_EDITING",value:e,previousEntity:t}}()}function*Ms(e){return{type:"TOGGLE_GUTENTAG_DEBUG",value:e}}function As(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){return{type:"TOGGLE_IS_INSERTER_OPEN",value:e,rootClientId:t||!1,options:{closeOnSelect:!1,replace:!1,...n}}}()}function Ns(e){return{type:"SET_CURRENT_ANCESTOR",currentAncestor:e}}function Ds(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}function Ls(e){return{type:"UPDATE_UI_VERSION",version:e}}var zs=n(52);const Bs=Object.values(d.defaultTemplatesByPostType).map((e=>`${e}.php`));function Fs(e,t){return"fullscreenMode"===t||Object(h.get)(e.preferences.features,[t],!1)}function Gs(e){return e.deviceType}const Hs=Object(w.createRegistrySelector)((e=>()=>e("core").canUser("create","media"))),Us=Object(zs.a)(((e,t)=>{const n={...e.settings,outlineMode:!0,focusMode:Fs(e,"focusMode"),hasFixedToolbar:Fs(e,"fixedToolbar"),__experimentalSetIsInserterOpened:t};return Hs(e)?(n.mediaUpload=t=>{let{onError:n,...o}=t;Object(cs.uploadMedia)({wpAllowedMimeTypes:e.settings.allowedMimeTypes,onError:e=>{let{message:t}=e;return n(t)},...o})},n):n}),(e=>[Hs(e),e.settings,Fs(e,"focusMode"),Fs(e,"fixedToolbar")]));function Ws(e){return e.homeTemplateId}function Vs(e){return e.editedPost.type}function Ks(e){return e.editedPost.id}function $s(e){return e.editedPost.page}function Ys(e){return e.navigationPanel.isOpen}function qs(e){var t;return null===(t=e.navigationPanel)||void 0===t?void 0:t.menu}function Xs(e){return e.blockInserterPanel}function Qs(e){return e.templateId}function Zs(e){return e.templatePartId}function Js(e){return e.templateType}function eu(e){return e.templateIds}function tu(e){return e.templatePartIds}function nu(e){return e.entity}function ou(e){return e.showOnFront}const ru=Object(w.createRegistrySelector)((e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=e("core/interface").getActiveComplementaryArea(`${g.STORE_KEY}/sidebars`);return n?o===`${g.STORE_KEY}/sidebar/${n}`:!Object(h.isEmpty)(o)}));function iu(e){var t;return null===(t=e.openedInserter)||void 0===t?void 0:t.value}function lu(e){var t;return null===(t=e.openedInserter)||void 0===t?void 0:t.clientId}function au(e){var t,n;return!(null===(t=e.openedInserter)||void 0===t||null===(n=t.options)||void 0===n||!n.replace)}function cu(e){var t,n;return!(null===(t=e.openedInserter)||void 0===t||null===(n=t.options)||void 0===n||!n.closeOnSelect)}function su(e){return e.currentAncestor}function uu(){return Object(w.select)("core/interface").getActiveComplementaryArea(`${g.STORE_KEY}/sidebars`)}function du(e){return e.subSidebars}function pu(e){return e.globalStyleEditing.value}function bu(e){return e.globalStyleEditing.previousEntity}function mu(e){return e.isGutentagDebug}function hu(e){const{rootClientId:t,insertionIndex:n}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:n}}function fu(e){return e.listViewPanel}const gu=e=>{var t;const{templateId:n,templateType:o}=e;return n&&o&&(null===(t=Object(w.select)("core").getEditedEntityRecord("postType",o,n))||void 0===t?void 0:t.kubio_template_source)||null},Ou=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context;let o=null;var r,i,l;o=null!=n&&n.postType&&null!=n&&n.postId?null!==(r=Object(w.select)("core").getEditedEntityRecord("postType",null==n?void 0:n.postType,null==n?void 0:n.postId).template)&&void 0!==r?r:null:null!==(i=null===(l=e.templateId)||void 0===l?void 0:l.split("//").pop())&&void 0!==i?i:null;const a=Object(w.select)("core").getEditedEntityRecord("root","site");if("page"===a.show_on_front&&a.page_on_front===parseInt(null==n?void 0:n.postId)){const e=(Object(w.select)("core").getEntityRecords("postType","wp_template",{per_page:-1})||[]).map((e=>{let{id:t}=e;return t.split("//").pop()})).includes("front-page"),{classicHasFrontPageTemplate:t}=Object(w.select)("core/block-editor").getSettings();if(e||t)return"front-page"}return""===o&&(o="page"===(null==n?void 0:n.postType)?"page":"single"),o},vu=e=>{const t=Ou(e),n=Object(w.select)("core").getEntityRecords("postType","wp_template",{per_page:-1});return!!t&&(n||[]).map((e=>{let{id:t}=e;return t.split("//").pop()})).includes(t)},_u=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context;return(null==n?void 0:n.postType)||null},yu=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context;return(null==n?void 0:n.postId)||null},ju=e=>{var t;const n=null==e||null===(t=e.page)||void 0===t?void 0:t.context,o=Object(w.select)("core").getEditedEntityRecord("root","site"),r=null==o?void 0:o.page_for_posts;return parseInt(r)===parseInt(n.postId)},Eu=e=>{var t,n;const o=$s(e),r="front-page"===(null==o||null===(t=o.context)||void 0===t?void 0:t.templateSlug),i=Object(w.select)("core").getEditedEntityRecord("root","site"),l=null==i?void 0:i.page_on_front,a=null==o||null===(n=o.context)||void 0===n?void 0:n.postId,c="page"===i.show_on_front&&parseInt(l)===parseInt(a);return r||c},Su=e=>{const t=Object(w.select)("core").getEditedEntityRecord("root","site"),n=$s(e),o=f.a.get(n,"context",{}),{postType:r,postId:i}=o,l="page"===(null==t?void 0:t.show_on_front),a=null==t?void 0:t.page_on_front,c=l&&parseInt(a)===parseInt(i),s=l&&parseInt(null==t?void 0:t.page_for_posts)===parseInt(i);return"page"===r&&!s&&!c},ku=()=>{var e,t;const n=(null===(e=Object(w.select)("core").getEntityRecords("postType","wp_template",{per_page:-1}))||void 0===e?void 0:e.filter((e=>{let{slug:t}=e;return Object(d.currentTemplateIsPage)(t)})))||[],o=(null===(t=Object(w.select)("core/block-editor").getSettings())||void 0===t?void 0:t.classicThemeTemplates)||[],r=n.map((e=>{let{title:t,slug:n,kubio_template_source:o="custom"}=e;return{value:n,label:"kubio"===o?t.rendered.replace("Kubio","").trim():t.rendered,source:o}}));return Object.keys(o).forEach((e=>{const t=o[e];Object(h.find)(n,{slug:e.replace(".php","")})||r.push({value:Bs.includes(e)?e.replace(".php",""):e,label:t,isClassicTemplate:!0,source:"theme"})})),r.forEach((e=>{"page"===e.value&&(e.value="")})),f.a.sortBy(r,["source","label"])};function wu(e){var t;return null==e||null===(t=e.classicTemplate)||void 0===t?void 0:t.id}function Cu(e){var t,n;const o=$s(e),r=f.a.get(o,"context",{}),{postType:i,postId:l}=r,a=null===(t=Object(w.select)("core/block-editor").getSettings())||void 0===t||null===(n=t.kubioBasicWooCommerce)||void 0===n?void 0:n.pagesIds;return"product"===i||Object.values(a||{}).includes(parseInt(l))}const xu=Object(zs.a)((e=>{var t;const n=null===(t=e.settings)||void 0===t?void 0:t.kubioGlobalSettings;return(null==n?void 0:n.editorUIVersion)||1}),(e=>[e.settings])),Tu={reducer:ps,actions:a,selectors:c,controls:ss.controls,persist:["preferences"]};var Iu=Object(s.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(s.createElement)(M.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})),Pu=function(e){let{icon:t}=e;if(!Object(w.useSelect)((e=>e(g.STORE_KEY).isFeatureActive("fullscreenMode")),[]))return null;const n=t||Iu;return Object(s.createElement)(E.Button,{className:"edit-site-fullscreen-mode-close",icon:n,iconSize:36,href:"index.php",label:Object(x.__)("Back","kubio")})};function Ru(e,t){Object(d.registerTemplateStore)(),t.__experimentalFetchLinkSuggestions=d.fetchLinkSuggestions,t.__experimentalSpotlightEntityBlocks=["core/template-part"];const n=new URLSearchParams(window.location.search);t.isGutentagDebug=!!n.get("kubio-debug");const o=t.state;delete t.state,o.settings=t,Object(p.registerCoreBlocks)(),Object(u.initFirebaseData)(),Object(h.isFunction)(p.__experimentalRegisterExperimentalCoreBlocks)&&Object(p.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:!0});const r=as;t.wpVersion&&document.body.classList.add("kubio-wp-"+t.wpVersion.replace(".","-")),async function(e){Object(w.registerStore)(Se,{...Tu,initialState:e})}(o),Object(d.reactRender)(Object(s.createElement)(s.StrictMode,null,Object(s.createElement)(r,{initialSettings:o.settings})),document.getElementById(e)),window.kubioToggleDebug=e=>{wp.data.dispatch("kubio/edit-site").toggleGutentagDebug(e)},top.kubioStartTime=performance.now(),Object(b.addAction)("kubio.editor.page-changed","kubio/editor/page-changed/restart-performance-timer",(()=>{top.kubioStartTime=performance.now()}))}}]);
